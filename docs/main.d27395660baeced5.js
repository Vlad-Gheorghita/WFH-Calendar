"use strict";(self.webpackChunkWFH_Calendar=self.webpackChunkWFH_Calendar||[]).push([[179],{440:(Kt,Ge,U)=>{U.d(Ge,{nm:()=>Ur});var g=U(6351);U(4650),U(5867);var vt=U(5861),ct=U(9681),Pt=U(4859),bt=U(2090),sn=U(1877);const ze=new Map,ot={activated:!1,tokenObservers:[]},Vt={initialized:!1,enabled:!1};function Nt(Re){return ze.get(Re)||ot}function $t(Re,ke){ze.set(Re,ke)}function ft(){return Vt}class lr{constructor(ke,qe,_t,Ut,ln){if(this.operation=ke,this.retryPolicy=qe,this.getWaitDuration=_t,this.lowerBound=Ut,this.upperBound=ln,this.pending=null,this.nextErrorWaitInterval=Ut,Ut>ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ke){var qe=this;return(0,vt.Z)(function*(){qe.stop();try{qe.pending=new bt.BH,yield function Tn(Re){return new Promise(ke=>{setTimeout(ke,Re)})}(qe.getNextRun(ke)),qe.pending.resolve(),yield qe.pending.promise,qe.pending=new bt.BH,yield qe.operation(),qe.pending.resolve(),yield qe.pending.promise,qe.process(!0).catch(()=>{})}catch(_t){qe.retryPolicy(_t)?qe.process(!1).catch(()=>{}):qe.stop()}})()}getNextRun(ke){if(ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qe}}}const at=new bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ke(Re){if(!Nt(Re).activated)throw at.create("use-before-activation",{appName:Re.name})}function an(Re,ke){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,vt.Z)(function*({url:Re,body:ke},qe){var _t,Ut;const ln={"Content-Type":"application/json"},Hn=qe.getImmediate({optional:!0});if(Hn){const Ji=yield Hn.getHeartbeatsHeader();Ji&&(ln["X-Firebase-Client"]=Ji)}const Sr={method:"POST",body:JSON.stringify(ke),headers:ln};let ar,li;try{ar=yield fetch(Re,Sr)}catch(Ji){throw at.create("fetch-network-error",{originalErrorMessage:null===(_t=Ji)||void 0===_t?void 0:_t.message})}if(200!==ar.status)throw at.create("fetch-status-error",{httpStatus:ar.status});try{li=yield ar.json()}catch(Ji){throw at.create("fetch-parse-error",{originalErrorMessage:null===(Ut=Ji)||void 0===Ut?void 0:Ut.message})}const Ls=li.ttl.match(/^([\d.]+)(s)$/);if(!Ls||!Ls[2]||isNaN(Number(Ls[1])))throw at.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${li.ttl}`});const zs=1e3*Number(Ls[1]),Qi=Date.now();return{token:li.token,expireTimeMillis:Qi+zs,issuedAtTimeMillis:Qi}})).apply(this,arguments)}function _n(Re,ke){const{projectId:qe,appId:_t,apiKey:Ut}=Re.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${qe}/apps/${_t}:exchangeDebugToken?key=${Ut}`,body:{debug_token:ke}}}const Qt="firebase-app-check-store";let $n=null;function Bn(){return $n||($n=new Promise((Re,ke)=>{var qe;try{const _t=indexedDB.open("firebase-app-check-database",1);_t.onsuccess=Ut=>{Re(Ut.target.result)},_t.onerror=Ut=>{var ln;ke(at.create("storage-open",{originalErrorMessage:null===(ln=Ut.target.error)||void 0===ln?void 0:ln.message}))},_t.onupgradeneeded=Ut=>{0===Ut.oldVersion&&Ut.target.result.createObjectStore(Qt,{keyPath:"compositeKey"})}}catch(_t){ke(at.create("storage-open",{originalErrorMessage:null===(qe=_t)||void 0===qe?void 0:qe.message}))}}),$n)}function or(){return(or=(0,vt.Z)(function*(Re,ke){const _t=(yield Bn()).transaction(Qt,"readwrite"),ln=_t.objectStore(Qt).put({compositeKey:Re,value:ke});return new Promise((Hn,Sr)=>{ln.onsuccess=ar=>{Hn()},_t.onerror=ar=>{var li;Sr(at.create("storage-set",{originalErrorMessage:null===(li=ar.target.error)||void 0===li?void 0:li.message}))}})})).apply(this,arguments)}const zr=new sn.Yd("@firebase/app-check");function Mt(Re,ke){return(0,bt.hl)()?function ri(Re,ke){return function Vr(Re,ke){return or.apply(this,arguments)}(function yr(Re){return`${Re.options.appId}-${Re.name}`}(Re),ke)}(Re,ke).catch(qe=>{zr.warn(`Failed to write token to IndexedDB. Error: ${qe}`)}):Promise.resolve()}function Ir(){return ft().enabled}function gn(){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,vt.Z)(function*(){const Re=ft();if(Re.enabled&&Re.token)return Re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const de={error:"UNKNOWN_ERROR"};function we(Re){return bt.US.encodeString(JSON.stringify(Re),!1)}function pe(Re){return ht.apply(this,arguments)}function ht(){return(ht=(0,vt.Z)(function*(Re,ke=!1){const qe=Re.app;Ke(qe);const _t=Nt(qe);let ln,Ut=_t.token;if(!Ut){const ar=yield _t.cachedTokenPromise;ar&&je(ar)&&(Ut=ar)}if(!ke&&Ut&&je(Ut))return{token:Ut.token};let Sr,Hn=!1;if(Ir()){_t.exchangeTokenPromise||(_t.exchangeTokenPromise=an(_n(qe,yield gn()),Re.heartbeatServiceProvider).then(li=>(_t.exchangeTokenPromise=void 0,li)),Hn=!0);const ar=yield _t.exchangeTokenPromise;return yield Mt(qe,ar),$t(qe,Object.assign(Object.assign({},_t),{token:ar})),{token:ar.token}}try{_t.exchangeTokenPromise||(_t.exchangeTokenPromise=_t.provider.getToken().then(ar=>(_t.exchangeTokenPromise=void 0,ar)),Hn=!0),Ut=yield _t.exchangeTokenPromise}catch(ar){"appCheck/throttled"===ar.code?zr.warn(ar.message):zr.error(ar),ln=ar}return Ut?(Sr={token:Ut.token},$t(qe,Object.assign(Object.assign({},_t),{token:Ut})),yield Mt(qe,Ut)):Sr=ve(ln),Hn&&Nr(qe,Sr),Sr})).apply(this,arguments)}function nn(Re,ke){const qe=Nt(Re),_t=qe.tokenObservers.filter(Ut=>Ut.next!==ke);0===_t.length&&qe.tokenRefresher&&qe.tokenRefresher.isRunning()&&qe.tokenRefresher.stop(),$t(Re,Object.assign(Object.assign({},qe),{tokenObservers:_t}))}function zn(Re){const{app:ke}=Re,qe=Nt(ke);let _t=qe.tokenRefresher;_t||(_t=function Qn(Re){const{app:ke}=Re;return new lr((0,vt.Z)(function*(){let _t;if(_t=Nt(ke).token?yield pe(Re,!0):yield pe(Re),_t.error)throw _t.error}),()=>!0,()=>{const qe=Nt(ke);if(qe.token){let _t=qe.token.issuedAtTimeMillis+.5*(qe.token.expireTimeMillis-qe.token.issuedAtTimeMillis)+3e5;return _t=Math.min(_t,qe.token.expireTimeMillis-3e5),Math.max(0,_t-Date.now())}return 0},3e4,96e4)}(Re),$t(ke,Object.assign(Object.assign({},qe),{tokenRefresher:_t}))),!_t.isRunning()&&qe.isTokenAutoRefreshEnabled&&_t.start()}function Nr(Re,ke){const qe=Nt(Re).tokenObservers;for(const _t of qe)try{"EXTERNAL"===_t.type&&null!=ke.error?_t.error(ke.error):_t.next(ke)}catch{}}function je(Re){return Re.expireTimeMillis-Date.now()>0}function ve(Re){return{token:we(de),error:Re}}class _e{constructor(ke,qe){this.app=ke,this.heartbeatServiceProvider=qe}_delete(){const{tokenObservers:ke}=Nt(this.app);for(const qe of ke)nn(this.app,qe.next);return Promise.resolve()}}const Ii="app-check-internal";!function Es(){(0,ct._registerComponent)(new Pt.wA("app-check",Re=>function rt(Re,ke){return new _e(Re,ke)}(Re.getProvider("app").getImmediate(),Re.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,ke,qe)=>{Re.getProvider(Ii).initialize()})),(0,ct._registerComponent)(new Pt.wA(Ii,Re=>function At(Re){return{getToken:ke=>pe(Re,ke),addTokenListener:ke=>function zt(Re,ke,qe,_t){const{app:Ut}=Re,ln=Nt(Ut),Hn={next:qe,error:_t,type:ke};if($t(Ut,Object.assign(Object.assign({},ln),{tokenObservers:[...ln.tokenObservers,Hn]})),ln.token&&je(ln.token)){const Sr=ln.token;Promise.resolve().then(()=>{qe({token:Sr.token}),zn(Re)}).catch(()=>{})}ln.cachedTokenPromise.then(()=>zn(Re))}(Re,"INTERNAL",ke),removeTokenListener:ke=>nn(Re.app,ke)}}(Re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ct.registerVersion)("@firebase/app-check","0.5.12")}();class Ur{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},7451:(Kt,Ge,U)=>{U.d(Ge,{zQ:()=>Vt,rT:()=>bt,f7:()=>ze,L6:()=>ct,_Q:()=>Pt,lh:()=>sn,Qv:()=>vt,nw:()=>ot});var g=U(4650),F=U(8929),V=U(1086),ye=U(6498),me=U(5254),ne=U(6787),fe=U(7545);function ee($t,ft){return ft?(0,fe.w)(()=>$t,ft):(0,fe.w)(()=>$t)}var le=U(7770),X=U(4850),se=U(96),ce=U(7224),Ve=U(3334),He=U(2198),Ze=U(6351),et=U(2011),oe=U(6895),Fe=U(440);U(127);const vt=new g.OlP("angularfire2.auth.use-emulator"),ct=new g.OlP("angularfire2.auth.settings"),Pt=new g.OlP("angularfire2.auth.tenant-id"),bt=new g.OlP("angularfire2.auth.langugage-code"),sn=new g.OlP("angularfire2.auth.use-device-language"),ze=new g.OlP("angularfire.auth.persistence"),ot=($t,ft,Fn,mr,Mr,xn,Ln,Yt)=>(0,et.cc)(`${$t.name}.auth`,"AngularFireAuth",$t.name,()=>{const lr=ft.runOutsideAngular(()=>$t.auth());if(Fn&&lr.useEmulator(...Fn),mr&&(lr.tenantId=mr),lr.languageCode=Mr,xn&&lr.useDeviceLanguage(),Ln)for(const[Tn,wt]of Object.entries(Ln))lr.settings[Tn]=wt;return Yt&&lr.setPersistence(Yt),lr},[Fn,mr,Mr,xn,Ln,Yt]);let Vt=(()=>{class $t{constructor(Fn,mr,Mr,xn,Ln,Yt,lr,Tn,wt,at,Ue,Ke){const Lt=new F.xQ,pn=(0,V.of)(void 0).pipe((0,le.QV)(Ln.outsideAngular),(0,fe.w)(()=>xn.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,5881)))),(0,X.U)(()=>(0,et.on)(Fn,xn,mr)),(0,X.U)(an=>ot(an,xn,Yt,Tn,wt,at,lr,Ue)),(0,se.d)({bufferSize:1,refCount:!1}));if((0,oe.PM)(Mr))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,V.of)(null);else{pn.pipe((0,ce.P)()).subscribe();const Cn=pn.pipe((0,fe.w)(_n=>_n.getRedirectResult().then(mt=>mt,()=>null)),Ze.iC,(0,se.d)({bufferSize:1,refCount:!1})),sr=pn.pipe((0,fe.w)(_n=>new ye.y(mt=>({unsubscribe:xn.runOutsideAngular(()=>_n.onAuthStateChanged(er=>mt.next(er),er=>mt.error(er),()=>mt.complete()))})))),br=pn.pipe((0,fe.w)(_n=>new ye.y(mt=>({unsubscribe:xn.runOutsideAngular(()=>_n.onIdTokenChanged(er=>mt.next(er),er=>mt.error(er),()=>mt.complete()))}))));this.authState=Cn.pipe(ee(sr),(0,Ve.R)(Ln.outsideAngular),(0,le.QV)(Ln.insideAngular)),this.user=Cn.pipe(ee(br),(0,Ve.R)(Ln.outsideAngular),(0,le.QV)(Ln.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(_n=>_n?(0,me.D)(_n.getIdToken()):(0,V.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(_n=>_n?(0,me.D)(_n.getIdTokenResult()):(0,V.of)(null))),this.credential=(0,ne.T)(Cn,Lt,this.authState.pipe((0,He.h)(_n=>!_n))).pipe((0,X.U)(_n=>_n?.user?_n:null),(0,Ve.R)(Ln.outsideAngular),(0,le.QV)(Ln.insideAngular))}return(0,et.pX)(this,pn,xn,{spy:{apply:(an,Cn,sr)=>{(an.startsWith("signIn")||an.startsWith("createUser"))&&sr.then(br=>Lt.next(br))}}})}}return $t.\u0275fac=function(Fn){return new(Fn||$t)(g.LFG(et.Dh),g.LFG(et.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Ze.HU),g.LFG(vt,8),g.LFG(ct,8),g.LFG(Pt,8),g.LFG(bt,8),g.LFG(sn,8),g.LFG(ze,8),g.LFG(Fe.nm,8))},$t.\u0275prov=g.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"any"}),$t})()},1995:(Kt,Ge,U)=>{U.d(Ge,{ST:()=>lg,yb:()=>p0});var bt,g=U(4650),F=U(353),V=U(6498),ye=U(5254),me=U(1086),ne=U(6351),fe=U(1059),ee=U(519),le=U(4850),X=U(2014),se=U(5778),ce=U(2198),Ve=U(2011),He=U(6895),et=(U(5881),U(3942)),oe=U(5861),Fe=U(9681),Ft=U(4859),en=U(1877),vt=U(2090),ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pt={},sn=sn||{},ze=ct||self;function ot(){}function Vt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Nt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ft="closure_uid_"+(1e9*Math.random()>>>0),Fn=0;function mr(i,e,t){return i.call.apply(i.bind,arguments)}function Mr(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function xn(i,e,t){return(xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mr:Mr).apply(null,arguments)}function Ln(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Yt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,c){for(var p=Array(arguments.length-2),T=2;T<arguments.length;T++)p[T-2]=arguments[T];return e.prototype[u].apply(o,p)}}function lr(){this.s=this.s,this.o=this.o}var wt={};lr.prototype.s=!1,lr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function $t(i){return Object.prototype.hasOwnProperty.call(i,ft)&&i[ft]||(i[ft]=++Fn)}(this);delete wt[i]}},lr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const at=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Ue=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let c=0;c<o;c++)c in u&&e.call(t,u[c],c,i)};function Lt(i){return Array.prototype.concat.apply([],arguments)}function pn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function an(i){return/^[\s\xa0]*$/.test(i)}var _n,Cn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function sr(i,e){return-1!=i.indexOf(e)}function br(i,e){return i<e?-1:i>e?1:0}e:{var mt=ze.navigator;if(mt){var er=mt.userAgent;if(er){_n=er;break e}}_n=""}function Qt(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function qt(i){const e={};for(const t in i)e[t]=i[t];return e}var $n="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bn(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let c=0;c<$n.length;c++)t=$n[c],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function $r(i){return $r[" "](i),i}$r[" "]=ot;var zr,i,cr=sr(_n,"Opera"),Pn=sr(_n,"Trident")||sr(_n,"MSIE"),Vr=sr(_n,"Edge"),or=Vr||Pn,Xt=sr(_n,"Gecko")&&!(sr(_n.toLowerCase(),"webkit")&&!sr(_n,"Edge"))&&!(sr(_n,"Trident")||sr(_n,"MSIE"))&&!sr(_n,"Edge"),Ot=sr(_n.toLowerCase(),"webkit")&&!sr(_n,"Edge");function yr(){var i=ze.document;return i?i.documentMode:void 0}e:{var Er="",Ht=(i=_n,Xt?/rv:([^\);]+)(\)|;)/.exec(i):Vr?/Edge\/([\d\.]+)/.exec(i):Pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ot?/WebKit\/(\S+)/.exec(i):cr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ht&&(Er=Ht?Ht[1]:""),Pn){var Mt=yr();if(null!=Mt&&Mt>parseFloat(Er)){zr=String(Mt);break e}}zr=Er}var ii={};var Oe=ze.document&&Pn&&(yr()||parseInt(zr,10))||void 0,De=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ze.addEventListener("test",ot,e),ze.removeEventListener("test",ot,e)}catch{}return i}();function de(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function we(i,e){if(de.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Xt){e:{try{$r(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:pe[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&we.Z.h.call(this)}}de.prototype.h=function(){this.defaultPrevented=!0},Yt(we,de);var pe={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),zt=0;function nn(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++zt,this.ca=this.fa=!1}function zn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Qn(i){this.src=i,this.g={},this.h=0}function Nr(i,e){var t=e.type;if(t in i.g){var c,o=i.g[t],u=at(o,e);(c=0<=u)&&Array.prototype.splice.call(o,u,1),c&&(zn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function je(i,e,t,o){for(var u=0;u<i.length;++u){var c=i[u];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==o)return u}return-1}Qn.prototype.add=function(i,e,t,o,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var p=je(i,e,o,u);return-1<p?(e=i[p],t||(e.fa=!1)):((e=new nn(e,this.src,c,!!o,u)).fa=t,i.push(e)),e};var ve="closure_lm_"+(1e6*Math.random()|0),_e={};function rt(i,e,t,o,u){if(o&&o.once)return nt(i,e,t,o,u);if(Array.isArray(e)){for(var c=0;c<e.length;c++)rt(i,e[c],t,o,u);return null}return t=Bt(t),i&&i[ht]?i.N(e,t,Nt(o)?!!o.capture:!!o,u):At(i,e,t,!1,o,u)}function At(i,e,t,o,u,c){if(!e)throw Error("Invalid event type");var p=Nt(u)?!!u.capture:!!u,T=Ee(i);if(T||(i[ve]=T=new Qn(i)),(t=T.add(e,t,o,p,c)).proxy)return t;if(o=function mn(){var e=ae;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)De||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(be(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function nt(i,e,t,o,u){if(Array.isArray(e)){for(var c=0;c<e.length;c++)nt(i,e[c],t,o,u);return null}return t=Bt(t),i&&i[ht]?i.O(e,t,Nt(o)?!!o.capture:!!o,u):At(i,e,t,!0,o,u)}function Gt(i,e,t,o,u){if(Array.isArray(e))for(var c=0;c<e.length;c++)Gt(i,e[c],t,o,u);else o=Nt(o)?!!o.capture:!!o,t=Bt(t),i&&i[ht]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=je(c=i.g[e],t,o,u))&&(zn(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=Ee(i))&&(e=i.g[e.toString()],i=-1,e&&(i=je(e,t,o,u)),(t=-1<i?e[i]:null)&&Ne(t))}function Ne(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[ht])Nr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(be(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Ee(e))?(Nr(t,i),0==t.h&&(t.src=null,e[ve]=null)):zn(i)}}}function be(i){return i in _e?_e[i]:_e[i]="on"+i}function ae(i,e){if(i.ca)i=!0;else{e=new we(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Ne(i),i=t.call(o,e)}return i}function Ee(i){return(i=i[ve])instanceof Qn?i:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(i){return"function"==typeof i?i:(i[dt]||(i[dt]=function(e){return i.handleEvent(e)}),i[dt])}function un(){lr.call(this),this.i=new Qn(this),this.P=this,this.I=null}function jn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new de(e,i);else if(e instanceof de)e.target=e.target||i;else{var u=e;Bn(e=new de(o,i),u)}if(u=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];u=wn(p,o,!0,e)&&u}if(u=wn(p=e.g=i,o,!0,e)&&u,u=wn(p,o,!1,e)&&u,t)for(c=0;c<t.length;c++)u=wn(p=e.g=t[c],o,!1,e)&&u}function wn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.ca&&p.capture==t){var T=p.listener,O=p.ia||p.src;p.fa&&Nr(i.i,p),u=!1!==T.call(O,o)&&u}}return u&&!o.defaultPrevented}Yt(un,lr),un.prototype[ht]=!0,un.prototype.removeEventListener=function(i,e,t,o){Gt(this,i,e,t,o)},un.prototype.M=function(){if(un.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)zn(t[o]);delete i.g[e],i.h--}}this.I=null},un.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},un.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var os=ze.JSON.stringify;function Bi(){var i=dr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Zr,Gr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new vr,i=>i.reset());class vr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gi(i){ze.setTimeout(()=>{throw i},0)}function ji(i,e){Zr||function as(){var i=ze.Promise.resolve(void 0);Zr=function(){i.then(us)}}(),_r||(Zr(),_r=!0),dr.add(i,e)}var _r=!1,dr=new class Ei{constructor(){this.h=this.g=null}add(e,t){const o=Gr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function us(){for(var i;i=Bi();){try{i.h.call(i.g)}catch(t){gi(t)}var e=Gr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}_r=!1}function $i(i,e){un.call(this),this.h=i||1,this.g=e||ze,this.j=xn(this.kb,this),this.l=Date.now()}function Ii(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Es(i,e,t){if("function"==typeof i)t&&(i=xn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=xn(i.handleEvent,i)}return 2147483647<Number(e)?-1:ze.setTimeout(i,e||0)}function ls(i){i.g=Es(()=>{i.g=null,i.i&&(i.i=!1,ls(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Yt($i,un),(bt=$i.prototype).da=!1,bt.S=null,bt.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jn(this,"tick"),this.da&&(Ii(this),this.start()))}},bt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bt.M=function(){$i.Z.M.call(this),Ii(this),delete this.g};class Ns extends lr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ls(this)}M(){super.M(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(i){lr.call(this),this.h=i,this.g={}}Yt(Ur,lr);var Wr=[];function ms(i,e,t,o){Array.isArray(t)||(t&&(Wr[0]=t.toString()),t=Wr);for(var u=0;u<t.length;u++){var c=rt(e,t[u],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function mi(i){Qt(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ne(e)},i),i.g={}}function si(){this.g=!0}function Hi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ui(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<u.length;p++)u[p]=""}}}return os(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Ur.prototype.M=function(){Ur.Z.M.call(this),mi(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},si.prototype.Aa=function(){this.g=!1},si.prototype.info=function(){};var cs={},Rs=null;function oi(){return Rs=Rs||new un}function Po(i){de.call(this,cs.Ma,i)}function Is(i){const e=oi();jn(e,new Po(e,i))}function Ci(i,e){de.call(this,cs.STAT_EVENT,i),this.stat=e}function Re(i){const e=oi();jn(e,new Ci(e,i))}function ke(i,e){de.call(this,cs.Na,i),this.size=e}function qe(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){i()},e)}cs.Ma="serverreachability",Yt(Po,de),cs.STAT_EVENT="statevent",Yt(Ci,de),cs.Na="timingevent",Yt(ke,de);var _t={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ut={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ln(){}function Sr(){}ln.prototype.h=null;var zs,ar={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function li(){de.call(this,"d")}function Ls(){de.call(this,"c")}function Qi(){}function Ji(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new Ur(this),this.P=Xs,this.W=new $i(i=or?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gs}function Gs(){this.i=null,this.g="",this.h=!1}Yt(li,de),Yt(Ls,de),Yt(Qi,ln),Qi.prototype.g=function(){return new XMLHttpRequest},Qi.prototype.i=function(){return{}},zs=new Qi;var Xs=45e3,Si={},Xi={};function ys(i,e,t){i.K=1,i.v=R(ur(e)),i.s=t,i.U=!0,lo(i,null)}function lo(i,e){i.F=Date.now(),Ds(i),i.A=ur(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Wn(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Gs,i.g=bn(i.l,t?e:null,!i.s),0<i.O&&(i.L=new Ns(xn(i.Ia,i,i.g),i.O)),ms(i.V,i.g,"readystatechange",i.gb),e=i.H?qt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Is(1),function Di(i,e,t,o,u,c){i.info(function(){if(i.g)if(c)for(var p="",T=c.split("&"),O=0;O<T.length;O++){var H=T[O].split("=");if(1<H.length){var te=H[0];H=H[1];var Ie=te.split("_");p=2<=Ie.length&&"type"==Ie[1]?p+(te+"=")+H+"&":p+(te+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+p})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ws(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function co(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=zi(i,t),u==Xi){4==e&&(i.o=4,Re(14),o=!1),Hi(i.j,i.m,null,"[Incomplete Response]");break}if(u==Si){i.o=4,Re(15),Hi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Hi(i.j,i.m,u,null),ho(i,u)}Ws(i)&&u!=Xi&&u!=Si&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Re(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Q(e),e.L=!0,Re(11))):(Hi(i.j,i.m,t,"[Invalid Chunked Response]"),nr(i),Oi(i))}function zi(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Xi:(t=Number(e.substring(t,o)),isNaN(t)?Si:(o+=1)+t>e.length?Xi:(e=e.substr(o,t),i.C=o+t,e))}function Ds(i){i.Y=Date.now()+i.P,Ts(i,i.P)}function Ts(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=qe(xn(i.eb,i),e)}function es(i){i.B&&(ze.clearTimeout(i.B),i.B=null)}function Oi(i){0==i.l.G||i.I||Pe(i.l,i)}function nr(i){es(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ii(i.W),mi(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ho(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Ps(t.i,i)))if(t.I=i.N,!i.J&&Ps(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Me(t),M(t)}z(t),Re(18)}}else t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=qe(xn(t.ab,t),6e3));if(1>=no(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else gt(t,11)}else if((i.J||t.g==i)&&Me(t),!an(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(t.U=H[0],H=H[1],2==t.G)if("c"==H[0]){t.J=H[1],t.la=H[2];const te=H[3];null!=te&&(t.ma=te,t.h.info("VER="+t.ma));const Ie=H[4];null!=Ie&&(t.za=Ie,t.h.info("SVER="+t.za));const Qe=H[5];null!=Qe&&"number"==typeof Qe&&0<Qe&&(t.K=o=1.5*Qe,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Et=i.g;if(Et){const Tt=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tt){var c=o.i;!c.g&&(sr(Tt,"spdy")||sr(Tt,"quic")||sr(Tt,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(ds(c,c.h),c.h=null))}if(o.D){const fn=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(o.sa=fn,W(o.F,o.D,fn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=i;if((o=t).oa=dn(o,o.H?o.la:null,o.W),p.J){ra(o.i,p);var T=p,O=o.K;O&&T.setTimeout(O),T.B&&(es(T),Ds(T)),o.g=p}else B(o);0<t.l.length&&Te(t)}else"stop"!=H[0]&&"close"!=H[0]||gt(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?gt(t,7):w(t):"noop"!=H[0]&&t.j&&t.j.wa(H),t.A=0)}Is(4)}catch{}}function to(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Vt(i)||"string"==typeof i)Ue(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Vt(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function eo(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Vt(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var c=0;c<u;c++)e.call(void 0,o[c],t&&t[c],i)}}function Vs(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Vs)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function bo(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Dr(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)Dr(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function Dr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(bt=Ji.prototype).setTimeout=function(i){this.P=i},bt.gb=function(i){i=i.target;const e=this.L;e&&3==As(i)?e.l():this.Ia(i)},bt.Ia=function(i){try{if(i==this.g)e:{const te=As(this.g);var e=this.g.Da();const Ie=this.g.ba();if(!(3>te)&&(3!=te||or||this.g&&(this.h.h||this.g.ga()||Gi(this.g)))){this.I||4!=te||7==e||Is(8==e||0>=Ie?3:2),es(this);var t=this.g.ba();this.N=t;t:if(Ws(this)){var o=Gi(this.g);i="";var u=o.length,c=4==As(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),Oi(this);var p="";break t}this.h.i=new ze.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function yi(i,e,t,o,u,c,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.X,te,t),this.i){if(this.$&&!this.J){t:{if(this.g){var T,O=this.g;if((T=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!an(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Re(12),nr(this),Oi(this);break e}Hi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ho(this,t)}this.U?(co(this,te,p),or&&this.i&&3==te&&(ms(this.V,this.W,"tick",this.fb),this.W.start())):(Hi(this.j,this.m,p,null),ho(this,p)),4==te&&nr(this),this.i&&!this.I&&(4==te?Pe(this.l,this):(this.i=!1,Ds(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Re(12)):(this.o=0,Re(13)),nr(this),Oi(this)}}}catch{}},bt.fb=function(){if(this.g){var i=As(this.g),e=this.g.ga();this.C<e.length&&(es(this),co(this,i,e),this.i&&4!=i&&Ds(this))}},bt.cancel=function(){this.I=!0,nr(this)},bt.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ti(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Is(3),Re(17)),nr(this),this.o=2,Oi(this)):Ts(this,this.Y-i)},(bt=Vs.prototype).R=function(){bo(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},bt.T=function(){return bo(this),this.g.concat()},bt.get=function(i,e){return Dr(this.h,i)?this.h[i]:e},bt.set=function(i,e){Dr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},bt.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],c=this.get(u);i.call(e,c,u,this)}};var na=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ts(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof ts){this.g=void 0!==e?e:i.g,Us(this,i.j),this.s=i.s,Cs(this,i.i),ki(this,i.m),this.l=i.l,e=i.h;var t=new wr;t.i=e.i,e.g&&(t.g=new Vs(e.g),t.h=e.h),N(this,t),this.o=i.o}else i&&(t=String(i).match(na))?(this.g=!!e,Us(this,t[1]||"",!0),this.s=Xe(t[2]||""),Cs(this,t[3]||"",!0),ki(this,t[4]),this.l=Xe(t[5]||"",!0),N(this,t[6]||"",!0),this.o=Xe(t[7]||"")):(this.g=!!e,this.h=new wr(null,this.g))}function ur(i){return new ts(i)}function Us(i,e,t){i.j=t?Xe(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Cs(i,e,t){i.i=t?Xe(e,!0):e}function ki(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function N(i,e,t){e instanceof wr?(i.h=e,function vi(i,e){e&&!i.j&&(Ar(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Xr(this,o),Wn(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=It(e,Gn)),i.h=new wr(e,i.g))}function W(i,e,t){i.h.set(e,t)}function R(i){return W(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Xe(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function It(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,yt),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function yt(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ts.prototype.toString=function(){var i=[],e=this.j;e&&i.push(It(e,Pr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(It(e,Pr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(It(t,"/"==t.charAt(0)?Hr:Tr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",It(t,Ai)),i.join("")};var Pr=/[#\/\?@]/g,Tr=/[#\?:]/g,Hr=/[#\?]/g,Gn=/[#\?@]/g,Ai=/#/g;function wr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ar(i){i.g||(i.g=new Vs,i.h=0,i.i&&function Eo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var c=i[t].substring(0,o);u=i[t].substring(o+1)}else c=i[t];e(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Xr(i,e){Ar(i),e=Fi(i,e),Dr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Dr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&bo(i)))}function ut(i,e){return Ar(i),e=Fi(i,e),Dr(i.g.h,e)}function Wn(i,e,t){Xr(i,e),0<t.length&&(i.i=null,i.g.set(Fi(i,e),pn(t)),i.h+=t.length)}function Fi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ks(i){this.l=i||qs,i=ze.PerformanceNavigationTiming?0<(i=ze.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ze.g&&ze.g.Ea&&ze.g.Ea()&&ze.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(bt=wr.prototype).add=function(i,e){Ar(this),this.i=null,i=Fi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},bt.forEach=function(i,e){Ar(this),this.g.forEach(function(t,o){Ue(t,function(u){i.call(e,u,o,this)},this)},this)},bt.T=function(){Ar(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],c=0;c<u.length;c++)t.push(e[o]);return t},bt.R=function(i){Ar(this);var e=[];if("string"==typeof i)ut(this,i)&&(e=Lt(e,this.g.get(Fi(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Lt(e,i[t])}return e},bt.set=function(i,e){return Ar(this),this.i=null,ut(this,i=Fi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},bt.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var p=u;""!==o[c]&&(p+="="+encodeURIComponent(String(o[c]))),i.push(p)}}return this.i=i.join("&")};var qs=10;function vs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function no(i){return i.h?1:i.g?i.g.size:0}function Ps(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ds(i,e){i.g?i.g.add(e):i.h=e}function ra(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function jo(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return pn(i.i)}function _s(){}function ei(){this.g=new _s}function Ss(i,e,t){const o=t||"";try{to(i,function(u,c){let p=u;Nt(u)&&(p=os(u)),e.push(o+c+"="+encodeURIComponent(p))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Bs(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function ws(i){this.l=i.$b||null,this.j=i.ib||!1}function Io(i,e){un.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Oo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ks.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},_s.prototype.stringify=function(i){return ze.JSON.stringify(i,void 0)},_s.prototype.parse=function(i){return ze.JSON.parse(i,void 0)},Yt(ws,ln),ws.prototype.g=function(){return new Io(this.l,this.j)},ws.prototype.i=function(i){return function(){return i}}({}),Yt(Io,un);var Oo=0;function Do(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ho(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Os(i)}function Os(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(bt=Io.prototype).open=function(i,e){if(this.readyState!=Oo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Os(this)},bt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ze).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ho(this)),this.readyState=Oo},bt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ze.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Do(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},bt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ho(this):Os(this),3==this.readyState&&Do(this)}},bt.Ua=function(i){this.g&&(this.response=this.responseText=i,Ho(this))},bt.Ta=function(i){this.g&&(this.response=i,Ho(this))},bt.ha=function(){this.g&&Ho(this)},bt.setRequestHeader=function(i,e){this.v.append(i,e)},bt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},bt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Io.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Zs=ze.JSON.parse;function ti(i){un.call(this),this.headers=new Vs,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fo,this.K=this.L=!1}Yt(ti,un);var fo="",ba=/^https?$/i,To=["POST","PUT"];function zo(i){return"content-type"==i.toLowerCase()}function ga(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ro(i),io(i)}function ro(i){i.D||(i.D=!0,jn(i,"complete"),jn(i,"error"))}function ia(i){if(i.h&&typeof sn<"u"&&(!i.C[1]||4!=As(i)||2!=i.ba()))if(i.v&&4==As(i))Es(i.Fa,0,i);else if(jn(i,"readystatechange"),4==As(i)){i.h=!1;try{const T=i.ba();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===T){var u=String(i.H).match(na)[1]||null;if(!u&&ze.self&&ze.self.location){var c=ze.self.location.protocol;u=c.substr(0,c.length-1)}o=!ba.test(u?u.toLowerCase():"")}t=o}if(t)jn(i,"complete"),jn(i,"success");else{i.m=6;try{var p=2<As(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.ba()+"]",ro(i)}}finally{io(i)}}}function io(i,e){if(i.g){sa(i);const t=i.g,o=i.C[0]?ot:null;i.g=null,i.C=null,e||jn(i,"ready");try{t.onreadystatechange=o}catch{}}}function sa(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ze.clearTimeout(i.A),i.A=null)}function As(i){return i.g?i.g.readyState:0}function Gi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case fo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Br(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function ks(i){let e="";return Qt(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):W(i,e,t))}function $(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function v(i){this.za=0,this.l=[],this.h=new si,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$("baseRetryDelayMs",5e3,i),this.$a=$("retryDelaySeedMs",1e4,i),this.Ya=$("forwardChannelMaxRetries",2,i),this.ra=$("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Ks(i&&i.concurrentRequestLimit),this.Ca=new ei,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function w(i){if(G(i),3==i.G){var e=i.V++,t=ur(i.F);W(t,"SID",i.J),W(t,"RID",e),W(t,"TYPE","terminate"),pt(i,t),(e=new Ji(i,i.h,e,void 0)).K=2,e.v=R(ur(t)),t=!1,ze.navigator&&ze.navigator.sendBeacon&&(t=ze.navigator.sendBeacon(e.v.toString(),"")),!t&&ze.Image&&((new Image).src=e.v,t=!0),t||(e.g=bn(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ds(e)}vn(i)}function M(i){i.g&&(Q(i),i.g.cancel(),i.g=null)}function G(i){M(i),i.u&&(ze.clearTimeout(i.u),i.u=null),Me(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ze.clearTimeout(i.m),i.m=null)}function re(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Te(i)}function Te(i){vs(i.i)||i.m||(i.m=!0,ji(i.Ha,i),i.C=0)}function We(i,e){var t;t=e?e.m:i.V++;const o=ur(i.F);W(o,"SID",i.J),W(o,"RID",t),W(o,"AID",i.U),pt(i,o),i.o&&i.s&&Br(o,i.o,i.s),t=new Ji(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=x(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ds(i.i,t),ys(t,o,e)}function pt(i,e){i.j&&to({},function(t,o){W(e,o,t)})}function x(i,e,t){t=Math.min(i.l.length,t);var o=i.j?xn(i.j.Oa,i.j,i):null;e:{var u=i.l;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=u[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let T=!0;for(let O=0;O<t;O++){let H=u[O].h;const te=u[O].g;if(H-=c,0>H)c=Math.max(0,u[O].h-100),T=!1;else try{Ss(te,p,"req"+H+"_")}catch{o&&o(te)}}if(T){o=p.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function B(i){i.g||i.u||(i.Y=1,ji(i.Ga,i),i.A=0)}function z(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=qe(xn(i.Ga,i),$e(i,i.A)),i.A++,0))}function Q(i){null!=i.B&&(ze.clearTimeout(i.B),i.B=null)}function ie(i){i.g=new Ji(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=ur(i.oa);W(e,"RID","rpc"),W(e,"SID",i.J),W(e,"CI",i.N?"0":"1"),W(e,"AID",i.U),pt(i,e),W(e,"TYPE","xmlhttp"),i.o&&i.s&&Br(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=R(ur(e)),t.s=null,t.U=!0,lo(t,i)}function Me(i){null!=i.v&&(ze.clearTimeout(i.v),i.v=null)}function Pe(i,e){var t=null;if(i.g==e){Me(i),Q(i),i.g=null;var o=2}else{if(!Ps(i.i,e))return;t=e.D,ra(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;jn(o=oi(),new ke(o,t,e,u)),Te(i)}else B(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Se(i,e){return!(no(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=qe(xn(i.Ha,i,e),$e(i,i.C)),i.C++,0)))}(i,e)||2==o&&z(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:gt(i,5);break;case 4:gt(i,10);break;case 3:gt(i,6);break;default:gt(i,2)}}function $e(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function gt(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=xn(i.jb,i);t||(t=new ts("//www.google.com/images/cleardot.gif"),ze.location&&"http"==ze.location.protocol||Us(t,"https"),R(t)),function $o(i,e){const t=new si;if(ze.Image){const o=new Image;o.onload=Ln(Bs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ln(Bs,t,o,"TestLoadImage: error",!1,e),o.onabort=Ln(Bs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ln(Bs,t,o,"TestLoadImage: timeout",!1,e),ze.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Re(2);i.G=0,i.j&&i.j.va(e),vn(i),G(i)}function vn(i){i.G=0,i.I=-1,i.j&&((0!=jo(i.i).length||0!=i.l.length)&&(i.i.i.length=0,pn(i.l),i.l.length=0),i.j.ua())}function dn(i,e,t){let o=function J(i){return i instanceof ts?ur(i):new ts(i,void 0)}(t);if(""!=o.i)e&&Cs(o,e+"."+o.i),ki(o,o.m);else{const u=ze.location;o=function xe(i,e,t,o){var u=new ts(null,void 0);return i&&Us(u,i),e&&Cs(u,e),t&&ki(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&Qt(i.aa,function(u,c){W(o,c,u)}),t=i.sa,(e=i.D)&&t&&W(o,e,t),W(o,"VER",i.ma),pt(i,o),o}function bn(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ti(t&&i.Ba&&!i.qa?new ws({ib:!0}):i.qa)).L=i.H,e}function kn(){}function Yn(){if(Pn&&!(10<=Number(Oe)))throw Error("Environmental error: no available transport.")}function Kn(i,e){un.call(this),this.g=new v(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!an(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!an(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new di(this)}function Kr(i){li.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ci(){Ls.call(this),this.status=1}function di(i){this.g=i}(bt=ti.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zs.g(),this.C=function Hn(i){return i.h||(i.h=i.i())}(this.u?this.u:zs),this.g.onreadystatechange=xn(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(c){return void ga(this,c)}i=t||"";const u=new Vs(this.headers);o&&to(o,function(c,p){u.set(p,c)}),o=function Ke(i){e:{var e=zo;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=ze.FormData&&i instanceof ze.FormData,!(0<=at(To,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(c,p){this.g.setRequestHeader(p,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sa(this),0<this.B&&((this.K=function pa(i){return Pn&&function On(){return function ri(i){var e=ii;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Cn(String(zr)).split("."),t=Cn("9").split("."),o=Math.max(e.length,t.length);for(let p=0;0==i&&p<o;p++){var u=e[p]||"",c=t[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==u[0].length&&0==c[0].length)break;i=br(0==u[1].length?0:parseInt(u[1],10),0==c[1].length?0:parseInt(c[1],10))||br(0==u[2].length,0==c[2].length)||br(u[2],c[2]),u=u[3],c=c[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xn(this.pa,this)):this.A=Es(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){ga(this,c)}},bt.pa=function(){typeof sn<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jn(this,"timeout"),this.abort(8))},bt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,jn(this,"complete"),jn(this,"abort"),io(this))},bt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),io(this,!0)),ti.Z.M.call(this)},bt.Fa=function(){this.s||(this.F||this.v||this.l?ia(this):this.cb())},bt.cb=function(){ia(this)},bt.ba=function(){try{return 2<As(this)?this.g.status:-1}catch{return-1}},bt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},bt.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Zs(e)}},bt.Da=function(){return this.m},bt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(bt=v.prototype).ma=8,bt.G=1,bt.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},bt.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Ji(this,this.h,i,void 0);let c=this.s;if(this.P&&(c?(c=qt(c),Bn(c,this.P)):c=this.P),null===this.o&&(u.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=x(this,u,e),W(t=ur(this.F),"RID",i),W(t,"CVER",22),this.D&&W(t,"X-HTTP-Session-Id",this.D),pt(this,t),this.o&&c&&Br(t,this.o,c),ds(this.i,u),this.Ra&&W(t,"TYPE","init"),this.ja?(W(t,"$req",e),W(t,"SID","null"),u.$=!0,ys(u,t,null)):ys(u,t,e),this.G=2}}else 3==this.G&&(i?We(this,i):0==this.l.length||vs(this.i)||We(this))},bt.Ga=function(){if(this.u=null,ie(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=qe(xn(this.bb,this),i)}},bt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Re(10),M(this),ie(this))},bt.ab=function(){null!=this.v&&(this.v=null,M(this),z(this),Re(19))},bt.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Re(2)):(this.h.info("Failed to ping google.com"),Re(1))},(bt=kn.prototype).xa=function(){},bt.wa=function(){},bt.va=function(){},bt.ua=function(){},bt.Oa=function(){},Yn.prototype.g=function(i,e){return new Kn(i,e)},Yt(Kn,un),Kn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),ji(xn(i.hb,i,e))),Re(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=dn(i,null,i.W),Te(i)},Kn.prototype.close=function(){w(this.g)},Kn.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,re(this.g,e)}else this.v?((e={}).__data__=os(i),re(this.g,e)):re(this.g,i)},Kn.prototype.M=function(){this.g.j=null,delete this.j,w(this.g),delete this.g,Kn.Z.M.call(this)},Yt(Kr,li),Yt(ci,Ls),Yt(di,kn),di.prototype.xa=function(){jn(this.g,"a")},di.prototype.wa=function(i){jn(this.g,new Kr(i))},di.prototype.va=function(i){jn(this.g,new ci(i))},di.prototype.ua=function(){jn(this.g,"b")},Yn.prototype.createWebChannel=Yn.prototype.g,Kn.prototype.send=Kn.prototype.u,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,_t.NO_ERROR=0,_t.TIMEOUT=8,_t.HTTP_ERROR=6,Ut.COMPLETE="complete",Sr.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",un.prototype.listen=un.prototype.N,ti.prototype.listenOnce=ti.prototype.O,ti.prototype.getLastError=ti.prototype.La,ti.prototype.getLastErrorCode=ti.prototype.Da,ti.prototype.getStatus=ti.prototype.ba,ti.prototype.getResponseJson=ti.prototype.Qa,ti.prototype.getResponseText=ti.prototype.ga,ti.prototype.send=ti.prototype.ea;var qr=Pt.createWebChannelTransport=function(){return new Yn},pr=Pt.getStatEventTarget=function(){return oi()},Wi=Pt.ErrorCode=_t,ns=Pt.EventType=Ut,cn=Pt.Event=cs,In=Pt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Mn=Pt.FetchXmlHttpFactory=ws,Jn=Pt.WebChannel=Sr,Ki=Pt.XhrIo=ti;const qi="@firebase/firestore";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let xi="9.9.2";const tr=new en.Yd("@firebase/firestore");function Co(){return tr.logLevel}function Dt(i,...e){if(tr.logLevel<=en.in.DEBUG){const t=e.map(so);tr.debug(`Firestore (${xi}): ${i}`,...t)}}function jr(i,...e){if(tr.logLevel<=en.in.ERROR){const t=e.map(so);tr.error(`Firestore (${xi}): ${i}`,...t)}}function Zi(i,...e){if(tr.logLevel<=en.in.WARN){const t=e.map(so);tr.warn(`Firestore (${xi}): ${i}`,...t)}}function so(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function hn(i="Unexpected state"){const e=`FIRESTORE (${xi}) INTERNAL ASSERTION FAILED: `+i;throw jr(e),new Error(e)}function Vn(i,e){i||hn()}function Zt(i,e){return i}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends vt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ga{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Go{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class Ju{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pa{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const c=H=>this.i!==u?(u=this.i,t(H)):Promise.resolve();let p=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Li,e.enqueueRetryable(()=>c(this.currentUser))};const T=()=>{const H=p;e.enqueueRetryable((0,oe.Z)(function*(){yield H.promise,yield c(o.currentUser)}))},O=H=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>O(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?O(H):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Li)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Vn("string"==typeof o.accessToken),new Ga(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vn(null===e||"string"==typeof e),new Or(e)}}class du{constructor(e,t,o){this.type="FirstParty",this.user=Or.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Wa{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new du(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oa{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=c=>{null!=c.error&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.p;return this.p=c.token,Dt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const u=c=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?u(c):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vn("string"==typeof t.token),this.p=t.token,new Vi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fs(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class po{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Fs(40);for(let c=0;c<u.length;++c)o.length<20&&u[c]<t&&(o+=e.charAt(u[c]%e.length))}return o}}function qn(i,e){return i<e?-1:i>e?1:0}function oo(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Wo(i){return i+"\0"}class Mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mi.fromMillis(Date.now())}static fromDate(e){return Mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Mi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qn(this.nanoseconds,e.nanoseconds):qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new Mi(0,0))}static max(){return new Nn(new Mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rr{constructor(e,t,o){void 0===t?t=0:t>e.length&&hn(),void 0===o?o=e.length-t:o>e.length-t&&hn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Rr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const c=e.get(u),p=t.get(u);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cr extends Rr{construct(e,t,o){return new Cr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new xt(it.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new Cr(t)}static emptyPath(){return new Cr([])}}const Xu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Rr{construct(e,t,o){return new Fr(e,t,o)}static isValidIdentifier(e){return Xu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const c=()=>{if(0===o.length)throw new xt(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let p=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new xt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new xt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=O,u+=2}else"`"===T?(p=!p,u++):"."!==T||p?(o+=T,u++):(c(),u++)}if(c(),p)throw new xt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Cr.fromString(e))}static fromName(e){return new tn(Cr.fromString(e).popFirst(5))}static empty(){return new tn(Cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Cr(e.slice()))}}class Ka{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function ka(i){return i.fields.find(e=>2===e.kind)}function Ko(i){return i.fields.filter(e=>2!==e.kind)}Ka.UNKNOWN_ID=-1;class Nu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ni{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ni(0,ko.min())}}function hu(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Nn.fromTimestamp(1e9===o?new Mi(t+1,0):new Mi(t,o));return new ko(u,tn.empty(),e)}function Da(i){return new ko(i.readTime,i.key,-1)}class ko{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ko(Nn.min(),tn.empty(),-1)}static max(){return new ko(Nn.max(),tn.empty(),-1)}}function Ta(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=tn.comparator(i.documentKey,e.documentKey),0!==t?t:qn(i.largestBatchId,e.largestBatchId))}const js="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class So{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qo(i){return oa.apply(this,arguments)}function oa(){return oa=(0,oe.Z)(function*(i){if(i.code!==it.FAILED_PRECONDITION||i.message!==js)throw i;Dt("LocalStore","Unexpectedly lost primary lease")}),oa.apply(this,arguments)}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((o,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,u)},this.catchCallback=c=>{this.wrapFailure(t,c).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,o)=>{t(e)})}static reject(e){return new Je((t,o)=>{o(e)})}static waitFor(e){return new Je((t,o)=>{let u=0,c=0,p=!1;e.forEach(T=>{++u,T.next(()=>{++c,p&&c===u&&t()},O=>o(O))}),p=!0,c===u&&t()})}static or(e){let t=Je.resolve(!1);for(const o of e)t=t.next(u=>u?Je.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,c)=>{o.push(t.call(this,u,c))}),this.waitFor(o)}static mapArray(e,t){return new Je((o,u)=>{const c=e.length,p=new Array(c);let T=0;for(let O=0;O<c;O++){const H=O;t(e[H]).next(te=>{p[H]=te,++T,T===c&&o(p)},te=>u(te))}})}static doWhile(e,t){return new Je((o,u)=>{const c=()=>{!0===e()?t().next(()=>{c()},u):o()};c()})}}class Ca{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Li,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Sa(e,t.error)):this.T.resolve()},this.transaction.onerror=o=>{const u=_(o.target.error);this.T.reject(new Sa(e,u))}}static open(e,t,o,u){try{return new Ca(t,e.transaction(u,o))}catch(c){throw new Sa(t,c)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fu(t)}}class Ys{constructor(e,t,o){this.name=e,this.version=t,this.P=o,12.2===Ys.v((0,vt.z$)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Dt("SimpleDb","Removing database:",e),E(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,vt.hl)())return!1;if(Ys.S())return!0;const e=(0,vt.z$)(),t=Ys.v(e),o=0<t&&t<10,u=Ys.D(e),c=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||c)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var t=this;return(0,oe.Z)(function*(){return t.db||(Dt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{o(p.target.result)},c.onblocked=()=>{u(new Sa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const T=p.target.error;u("VersionError"===T.name?new xt(it.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new xt(it.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Sa(e,T))},c.onupgradeneeded=p=>{Dt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.P.M(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{Dt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=o=>t.O(o)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var c=this;return(0,oe.Z)(function*(){const p="readonly"===t;let T=0;for(;;){++T;try{c.db=yield c.k(e);const O=Ca.open(c.db,e,p?"readonly":"readwrite",o),H=u(O).next(te=>(O.R(),te)).catch(te=>(O.abort(te),Je.reject(te))).toPromise();return H.catch(()=>{}),yield O.A,H}catch(O){const H=O,te="FirebaseError"!==H.name&&T<3;if(Dt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",te),c.close(),!te)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tl{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return E(this.$.delete())}}class Sa extends xt{constructor(e,t){super(it.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function go(i){return"IndexedDbTransactionError"===i.name}class fu{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Dt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),E(o)}add(e){return Dt("SimpleDb","ADD",this.store.name,e,e),E(this.store.add(e))}get(e){return E(this.store.get(e)).next(t=>(void 0===t&&(t=null),Dt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Dt("SimpleDb","DELETE",this.store.name,e),E(this.store.delete(e))}count(){return Dt("SimpleDb","COUNT",this.store.name),E(this.store.count())}K(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),c=[];return this.G(u,(p,T)=>{c.push(T)}).next(()=>c)}{const u=this.store.getAll(o.range);return new Je((c,p)=>{u.onerror=T=>{p(T.target.error)},u.onsuccess=T=>{c(T.target.result)}})}}j(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Je((u,c)=>{o.onerror=p=>{c(p.target.error)},o.onsuccess=p=>{u(p.target.result)}})}W(e,t){Dt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.H=!1;const u=this.cursor(o);return this.G(u,(c,p,T)=>T.delete())}J(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.G(u,t)}Y(e){const t=this.cursor({});return new Je((o,u)=>{t.onerror=c=>{const p=_(c.target.error);u(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(T=>{T?p.continue():o()}):o()}})}G(e,t){const o=[];return new Je((u,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const T=p.target.result;if(!T)return void u();const O=new tl(T),H=t(T.primaryKey,T.value,O);if(H instanceof Je){const te=H.catch(Ie=>(O.done(),Je.reject(Ie)));o.push(te)}O.isDone?u():null===O.U?T.continue():T.continue(O.U)}}).next(()=>Je.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function E(i){return new Je((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=_(o.target.error);t(u)}})}let b=!1;function _(i){const e=Ys.v((0,vt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new xt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return b||(b=!0,setTimeout(()=>{throw o},0)),o}}return i}class S{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Dt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,oe.Z)(function*(){t.task=null;try{Dt("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(o){go(o)?Dt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield qo(o)}yield t.Z(1)}))}}class P{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.et(o,e))})()}et(e,t){const o=new Set;let u=t,c=!0;return Je.doWhile(()=>!0===c&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!o.has(p))return Dt("IndexBackiller",`Processing collection: ${p}`),this.nt(e,p,u).next(T=>{u-=T,o.add(p)});c=!1})).next(()=>t-u)}nt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.st(u,c)).next(T=>(Dt("IndexBackiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,t,T))).next(()=>p.size)}))}st(e,t){let o=e;return t.changes.forEach((u,c)=>{const p=Da(c);Ta(p,o)>0&&(o=p)}),new ko(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Z{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.it(o),this.rt=o=>t.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function he(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ce(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function lt(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Z.ot=-1;class Rt{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hr(this.root,e,this.comparator,!1)}getReverseIterator(){return new hr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hr(this.root,e,this.comparator,!0)}}class hr{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?o(e.key,t):1,t&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,o,u,c){this.key=e,this.value=t,this.color=o??Jt.RED,this.left=u??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,c){return new Jt(e??this.key,t??this.value,o??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const c=o(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===c?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Jt.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1,Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Jt(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rs(this.data.getIterator())}getIteratorFrom(e){return new rs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,c=o.getNext().key;if(0!==this.comparator(u,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class rs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function is(i){return i.hasNext()?i.getNext():void 0}class ni{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new ni([])}unionWith(e){let t=new Dn(Fr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hs(t)}static fromUint8Array(e){const t=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(e);return new hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const aa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(i){if(Vn(!!i),"string"==typeof i){let e=0;const t=aa.exec(i);if(Vn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ri(i.seconds),nanos:Ri(i.nanos)}}function Ri(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ua(i){return"string"==typeof i?hs.fromBase64String(i):hs.fromUint8Array(i)}function A(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function k(i){const e=i.mapValue.fields.__previous_value__;return A(e)?k(e):e}function K(i){const e=Ao(i.mapValue.fields.__local_write_time__.timestampValue);return new Mi(e.seconds,e.nanos)}class ge{constructor(e,t,o,u,c,p,T,O){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=T,this.useFetchStreams=O}}class Be{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Be("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Be&&e.projectId===this.projectId&&e.database===this.database}}function tt(i){return null==i}function St(i){return 0===i&&1/i==-1/0}function on(i){return"number"==typeof i&&Number.isInteger(i)&&!St(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Rn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rr={nullValue:"NULL_VALUE"};function Xn(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?A(i)?4:yf(i)?9007199254740991:10:hn()}function En(i,e){if(i===e)return!0;const t=Xn(i);if(t!==Xn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return K(i).isEqual(K(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ao(o.timestampValue),p=Ao(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ua(i.bytesValue).isEqual(ua(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ri(o.geoPointValue.latitude)===Ri(u.geoPointValue.latitude)&&Ri(o.geoPointValue.longitude)===Ri(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ri(o.integerValue)===Ri(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ri(o.doubleValue),p=Ri(u.doubleValue);return c===p?St(c)===St(p):isNaN(c)&&isNaN(p)}return!1}(i,e);case 9:return oo(i.arrayValue.values||[],e.arrayValue.values||[],En);case 10:return function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(he(c)!==he(p))return!1;for(const T in c)if(c.hasOwnProperty(T)&&(void 0===p[T]||!En(c[T],p[T])))return!1;return!0}(i,e);default:return hn()}var u}function fs(i,e){return void 0!==(i.values||[]).find(t=>En(t,e))}function wi(i,e){if(i===e)return 0;const t=Xn(i),o=Xn(e);if(t!==o)return qn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return qn(i.booleanValue,e.booleanValue);case 2:return function(u,c){const p=Ri(u.integerValue||u.doubleValue),T=Ri(c.integerValue||c.doubleValue);return p<T?-1:p>T?1:p===T?0:isNaN(p)?isNaN(T)?0:-1:1}(i,e);case 3:return pu(i.timestampValue,e.timestampValue);case 4:return pu(K(i),K(e));case 5:return qn(i.stringValue,e.stringValue);case 6:return function(u,c){const p=ua(u),T=ua(c);return p.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,c){const p=u.split("/"),T=c.split("/");for(let O=0;O<p.length&&O<T.length;O++){const H=qn(p[O],T[O]);if(0!==H)return H}return qn(p.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,c){const p=qn(Ri(u.latitude),Ri(c.latitude));return 0!==p?p:qn(Ri(u.longitude),Ri(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,c){const p=u.values||[],T=c.values||[];for(let O=0;O<p.length&&O<T.length;++O){const H=wi(p[O],T[O]);if(H)return H}return qn(p.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,c){if(u===Rn.mapValue&&c===Rn.mapValue)return 0;if(u===Rn.mapValue)return 1;if(c===Rn.mapValue)return-1;const p=u.fields||{},T=Object.keys(p),O=c.fields||{},H=Object.keys(O);T.sort(),H.sort();for(let te=0;te<T.length&&te<H.length;++te){const Ie=qn(T[te],H[te]);if(0!==Ie)return Ie;const Qe=wi(p[T[te]],O[H[te]]);if(0!==Qe)return Qe}return qn(T.length,H.length)}(i.mapValue,e.mapValue);default:throw hn()}}function pu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return qn(i,e);const t=Ao(i),o=Ao(e),u=qn(t.seconds,o.seconds);return 0!==u?u:qn(t.nanos,o.nanos)}function xo(i){return mo(i)}function mo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ao(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ua(i.bytesValue).toBase64():"referenceValue"in i?tn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",c=!0;for(const p of o.values||[])c?c=!1:u+=",",u+=mo(p);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let c="{",p=!0;for(const T of u)p?p=!1:c+=",",c+=`${T}:${mo(o.fields[T])}`;return c+"}"}(i.mapValue):hn();var e}function la(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ca(i){return!!i&&"integerValue"in i}function ya(i){return!!i&&"arrayValue"in i}function Aa(i){return!!i&&"nullValue"in i}function yo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zo(i){return!!i&&"mapValue"in i}function gu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ce(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=gu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function yf(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fc(i){return"nullValue"in i?rr:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?la(Be.empty(),tn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:hn()}function Ld(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?la(Be.empty(),tn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Rn:hn()}function Vd(i,e){const t=wi(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ud(i,e){const t=wi(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ao{constructor(e){this.value=e}static empty(){return new ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Zo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(t)}setAll(e){let t=Fr.emptyPath(),o={},u=[];e.forEach((p,T)=>{if(!t.isImmediateParentOf(T)){const O=this.getFieldsMap(t);this.applyChanges(O,o,u),o={},u=[],t=T.popLast()}p?o[T.lastSegment()]=gu(p):u.push(T.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,o,u)}delete(e){const t=this.field(e.popLast());Zo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Zo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Ce(t,(u,c)=>e[u]=c);for(const u of o)delete e[u]}clone(){return new ao(gu(this.value))}}function Fl(i){const e=[];return Ce(i.fields,(t,o)=>{const u=new Fr([t]);if(Zo(o)){const c=Fl(o.mapValue).fields;if(0===c.length)e.push(u);else for(const p of c)e.push(u.child(p))}else e.push(u)}),new ni(e)}class hi{constructor(e,t,o,u,c,p){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=c,this.documentState=p}static newInvalidDocument(e){return new hi(e,0,Nn.min(),Nn.min(),ao.empty(),0)}static newFoundDocument(e,t,o){return new hi(e,1,t,Nn.min(),o,0)}static newNoDocument(e,t){return new hi(e,2,t,Nn.min(),ao.empty(),0)}static newUnknownDocument(e,t){return new hi(e,3,t,Nn.min(),ao.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bd{constructor(e,t=null,o=[],u=[],c=null,p=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=c,this.startAt=p,this.endAt=T,this.ut=null}}function Ll(i,e=null,t=[],o=[],u=null,c=null,p=null){return new Bd(i,e,t,o,u,c,p)}function qa(i){const e=Zt(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+xo(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),tt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>xo(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>xo(o)).join(",")),e.ut=t}return e.ut}function Za(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!yu(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!En(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$d(i.startAt,e.startAt)&&$d(i.endAt,e.endAt)}function Lc(i){return tn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Ya(i,e){return i.filters.filter(t=>t instanceof xs&&t.field.isEqual(e))}function Vl(i,e,t){let o=rr,u=!0;for(const c of Ya(i,e)){let p=rr,T=!0;switch(c.op){case"<":case"<=":p=Fc(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,T=!1;break;case"!=":case"not-in":p=rr}Vd({value:o,inclusive:u},{value:p,inclusive:T})<0&&(o=p,u=T)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];Vd({value:o,inclusive:u},{value:p,inclusive:t.inclusive})<0&&(o=p,u=t.inclusive);break}return{value:o,inclusive:u}}function nl(i,e,t){let o=Rn,u=!0;for(const c of Ya(i,e)){let p=Rn,T=!0;switch(c.op){case">=":case">":p=Ld(c.value),T=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,T=!1;break;case"!=":case"not-in":p=Rn}Ud({value:o,inclusive:u},{value:p,inclusive:T})>0&&(o=p,u=T)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const p=t.position[c];Ud({value:o,inclusive:u},{value:p,inclusive:t.inclusive})>0&&(o=p,u=t.inclusive);break}return{value:o,inclusive:u}}class xs extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,o):new rl(e,t,o):"array-contains"===t?new vf(e,o):"in"===t?new Ul(e,o):"not-in"===t?new Bl(e,o):"array-contains-any"===t?new jl(e,o):new xs(e,t,o)}static ct(e,t,o){return"in"===t?new Ru(e,o):new jd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(wi(t,this.value)):null!==t&&Xn(this.value)===Xn(t)&&this.at(wi(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rl extends xs{constructor(e,t,o){super(e,t,o),this.key=tn.fromName(o.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.at(t)}}class Ru extends xs{constructor(e,t){super(e,"in",t),this.keys=Vc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jd extends xs{constructor(e,t){super(e,"not-in",t),this.keys=Vc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>tn.fromName(o.referenceValue))}class vf extends xs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ya(t)&&fs(t.arrayValue,this.value)}}class Ul extends xs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fs(this.value.arrayValue,t)}}class Bl extends xs{constructor(e,t){super(e,"not-in",t)}matches(e){if(fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fs(this.value.arrayValue,t)}}class jl extends xs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ya(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>fs(this.value.arrayValue,o))}}class Fa{constructor(e,t){this.position=e,this.inclusive=t}}class mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function yu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function $l(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const c=e[u],p=i.position[u];if(o=c.field.isKeyField()?tn.comparator(tn.fromName(p.referenceValue),t.key):wi(p,t.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return o}function $d(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!En(i.position[t],e.position[t]))return!1;return!0}class La{constructor(e,t=null,o=[],u=[],c=null,p="F",T=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=c,this.limitType=p,this.startAt=T,this.endAt=O,this.lt=null,this.ft=null}}function Uc(i,e,t,o,u,c,p,T){return new La(i,e,t,o,u,c,p,T)}function Pu(i){return new La(i)}function Yo(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Qa(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Bc(i){for(const e of i.filters)if(e.ht())return e.field;return null}function jc(i){return null!==i.collectionGroup}function Ou(i){const e=Zt(i);if(null===e.lt){e.lt=[];const t=Bc(e),o=Qa(e);if(null!==t&&null===o)t.isKeyField()||e.lt.push(new mu(t)),e.lt.push(new mu(Fr.keyField(),"asc"));else{let u=!1;for(const c of e.explicitOrderBy)e.lt.push(c),c.field.isKeyField()&&(u=!0);if(!u){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new mu(Fr.keyField(),c))}}}return e.lt}function Fo(i){const e=Zt(i);if(!e.ft)if("F"===e.limitType)e.ft=Ll(e.path,e.collectionGroup,Ou(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Ou(e))t.push(new mu(c.field,"desc"===c.dir?"asc":"desc"));const o=e.endAt?new Fa(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Fa(e.startAt.position,e.startAt.inclusive):null;e.ft=Ll(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.ft}function Hl(i,e,t){return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function il(i,e){return Za(Fo(i),Fo(e))&&i.limitType===e.limitType}function $c(i){return`${qa(Fo(i))}|lt:${i.limitType}`}function sl(i){return`Query(target=${function yg(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${xo(o.value)}`;var o}).join(", ")}]`),tt(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>xo(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>xo(t)).join(",")),`Target(${e})`}(Fo(i))}; limitType=${i.limitType})`}function Hc(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):tn.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,c,p){const T=$l(u,c,p);return u.inclusive?T<=0:T<0}(t.startAt,Ou(t),o)||t.endAt&&!function(u,c,p){const T=$l(u,c,p);return u.inclusive?T>=0:T>0}(t.endAt,Ou(t),o)));var t,o}function Hd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zd(i){return(e,t)=>{let o=!1;for(const u of Ou(i)){const c=vg(u,e,t);if(0!==c)return c;o=o||u.field.isKeyField()}return 0}}function vg(i,e,t){const o=i.field.isKeyField()?tn.comparator(e.key,t.key):function(u,c,p){const T=c.data.field(u),O=p.data.field(u);return null!==T&&null!==O?wi(T,O):hn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return hn()}}function Gd(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:St(e)?"-0":e}}function vu(i){return{integerValue:""+i}}function zc(i,e){return on(e)?vu(e):Gd(i,e)}class Qo{constructor(){this._=void 0}}function ol(i,e,t){return i instanceof _u?function(o,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(c.fields.__previous_value__=u),{mapValue:c}}(t,e):i instanceof Ja?_f(i,e):i instanceof wu?zl(i,e):function(o,u){const c=al(o,u),p=Gl(c)+Gl(o._t);return ca(c)&&ca(o._t)?vu(p):Gd(o.wt,p)}(i,e)}function Wd(i,e,t){return i instanceof Ja?_f(i,e):i instanceof wu?zl(i,e):t}function al(i,e){return i instanceof xa?ca(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class _u extends Qo{}class Ja extends Qo{constructor(e){super(),this.elements=e}}function _f(i,e){const t=Kd(e);for(const o of i.elements)t.some(u=>En(u,o))||t.push(o);return{arrayValue:{values:t}}}class wu extends Qo{constructor(e){super(),this.elements=e}}function zl(i,e){let t=Kd(e);for(const o of i.elements)t=t.filter(u=>!En(u,o));return{arrayValue:{values:t}}}class xa extends Qo{constructor(e,t){super(),this.wt=e,this._t=t}}function Gl(i){return Ri(i.integerValue||i.doubleValue)}function Kd(i){return ya(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ul{constructor(e,t){this.field=e,this.transform=t}}class wf{constructor(e,t){this.version=e,this.transformResults=t}}class ps{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class y{}function d(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Lr(i.key,ps.none()):new Ae(i.key,i.data,ps.none());{const t=i.data,o=ao.empty();let u=new Dn(Fr.comparator);for(let c of e.fields)if(!u.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?o.delete(c):o.set(c,p),u=u.add(c)}return new st(i.key,o,new ni(u.toArray()),ps.none())}}function f(i,e,t){i instanceof Ae?function(o,u,c){const p=o.value.clone(),T=jt(o.fieldTransforms,u,c.transformResults);p.setAll(T),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):i instanceof st?function(o,u,c){if(!Gc(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=jt(o.fieldTransforms,u,c.transformResults),T=u.data;T.setAll(rn(o)),T.setAll(p),u.convertToFoundDocument(c.version,T).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function I(i,e,t,o){return i instanceof Ae?function(u,c,p,T){if(!Gc(u.precondition,c))return p;const O=u.value.clone(),H=Un(u.fieldTransforms,T,c);return O.setAll(H),c.convertToFoundDocument(c.version,O).setHasLocalMutations(),null}(i,e,t,o):i instanceof st?function(u,c,p,T){if(!Gc(u.precondition,c))return p;const O=Un(u.fieldTransforms,T,c),H=c.data;return H.setAll(rn(u)),H.setAll(O),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===p?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(te=>te.field))}(i,e,t,o):(p=t,Gc(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function j(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),c=al(o.transform,u||null);null!=c&&(null===t&&(t=ao.empty()),t.set(o.field,c))}return t||null}function q(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&oo(t,o,(u,c)=>function qd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Ja&&o instanceof Ja||t instanceof wu&&o instanceof wu?oo(t.elements,o.elements,En):t instanceof xa&&o instanceof xa?En(t._t,o._t):t instanceof _u&&o instanceof _u);var t,o}(u,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Ae extends y{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class st extends y{constructor(e,t,o,u,c=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rn(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function jt(i,e,t){const o=new Map;Vn(i.length===t.length);for(let u=0;u<t.length;u++){const c=i[u],p=c.transform,T=e.data.field(c.field);o.set(c.field,Wd(p,T,t[u]))}return o}function Un(i,e,t){const o=new Map;for(const u of i){const c=u.transform,p=t.data.field(u.field);o.set(u.field,ol(c,p,e))}return o}class Lr extends y{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fi extends y{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mo{constructor(e){this.count=e}}var Pi,kr;function Wc(i){switch(i){default:return hn();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}function Zd(i){if(void 0===i)return jr("GRPC error has no .code"),it.UNKNOWN;switch(i){case Pi.OK:return it.OK;case Pi.CANCELLED:return it.CANCELLED;case Pi.UNKNOWN:return it.UNKNOWN;case Pi.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Pi.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Pi.INTERNAL:return it.INTERNAL;case Pi.UNAVAILABLE:return it.UNAVAILABLE;case Pi.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Pi.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Pi.NOT_FOUND:return it.NOT_FOUND;case Pi.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Pi.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Pi.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Pi.ABORTED:return it.ABORTED;case Pi.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Pi.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Pi.DATA_LOSS:return it.DATA_LOSS;default:return hn()}}(kr=Pi||(Pi={}))[kr.OK=0]="OK",kr[kr.CANCELLED=1]="CANCELLED",kr[kr.UNKNOWN=2]="UNKNOWN",kr[kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kr[kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kr[kr.NOT_FOUND=5]="NOT_FOUND",kr[kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",kr[kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",kr[kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",kr[kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kr[kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kr[kr.ABORTED=10]="ABORTED",kr[kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",kr[kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",kr[kr.INTERNAL=13]="INTERNAL",kr[kr.UNAVAILABLE=14]="UNAVAILABLE",kr[kr.DATA_LOSS=15]="DATA_LOSS";class Jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,c]of o)if(this.equalsFn(u,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ce(this.inner,(t,o)=>{for(const[u,c]of o)e(u,c)})}isEmpty(){return lt(this.inner)}size(){return this.innerSize}}const ll=new Rt(tn.comparator);function vo(){return ll}const Wl=new Rt(tn.comparator);function Xa(...i){let e=Wl;for(const t of i)e=e.insert(t.key,t);return e}function Kc(i){let e=Wl;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function va(){return bu()}function cl(){return bu()}function bu(){return new Jo(i=>i.toString(),(i,e)=>i.isEqual(e))}const G_=new Rt(tn.comparator),Oy=new Dn(tn.comparator);function gr(...i){let e=Oy;for(const t of i)e=e.add(t);return e}const _g=new Dn(qn);function qc(){return _g}class Va{constructor(e,t,o,u,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,t)),new Va(Nn.min(),o,qc(),vo(),gr())}}class Zc{constructor(e,t,o,u,c){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Zc(hs.EMPTY_BYTE_STRING,t,gr(),gr(),gr())}}class Kl{constructor(e,t,o,u){this.gt=e,this.removedTargetIds=t,this.key=o,this.yt=u}}class Yc{constructor(e,t){this.targetId=e,this.It=t}}class wg{constructor(e,t,o=hs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Yd{constructor(){this.Tt=0,this.Et=bf(),this.At=hs.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=gr(),t=gr(),o=gr();return this.Et.forEach((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:hn()}}),new Zc(this.At,this.Rt,e,t,o)}Dt(){this.bt=!1,this.Et=bf()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Qd{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=vo(),this.Bt=ku(),this.Lt=new Dn(qn)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const o=this.Qt(t);switch(e.state){case 0:this.jt(t)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(o.Mt(),o.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),o.Vt(e.resumeToken));break;default:hn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((o,u)=>{this.jt(u)&&t(u)})}zt(e){const t=e.targetId,o=e.It.count,u=this.Ht(t);if(u){const c=u.target;if(Lc(c))if(0===o){const p=new tn(c.path);this.Kt(t,p,hi.newNoDocument(p,Nn.min()))}else Vn(1===o);else this.Jt(t)!==o&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((c,p)=>{const T=this.Ht(p);if(T){if(c.current&&Lc(T.target)){const O=new tn(T.target.path);null!==this.$t.get(O)||this.Xt(p,O)||this.Kt(p,O,hi.newNoDocument(O,e))}c.vt&&(t.set(p,c.St()),c.Dt())}});let o=gr();this.Bt.forEach((c,p)=>{let T=!0;p.forEachWhile(O=>{const H=this.Ht(O);return!H||2===H.purpose||(T=!1,!1)}),T&&(o=o.add(c))}),this.$t.forEach((c,p)=>p.setReadTime(e));const u=new Va(e,t,this.Lt,this.$t,o);return this.$t=vo(),this.Bt=ku(),this.Lt=new Dn(qn),u}qt(e,t){if(!this.jt(e))return;const o=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,o),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,o){if(!this.jt(e))return;const u=this.Qt(e);this.Xt(e,t)?u.Ct(t,1):u.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),o&&(this.$t=this.$t.insert(t,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Yd,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Dn(qn),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Dt("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new Yd),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function ku(){return new Rt(tn.comparator)}function bf(){return new Rt(tn.comparator)}const Ef={asc:"ASCENDING",desc:"DESCENDING"},ky={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Fy{constructor(e,t){this.databaseId=e,this.dt=t}}function ql(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dl(i,e){return i.dt?e.toBase64():e.toUint8Array()}function Ly(i,e){return ql(i,e.toTimestamp())}function _o(i){return Vn(!!i),Nn.fromTimestamp(function(e){const t=Ao(e);return new Mi(t.seconds,t.nanos)}(i))}function If(i,e){return(t=i,new Cr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function bg(i){const e=Cr.fromString(i);return Vn(Xd(e)),e}function hl(i,e){return If(i.databaseId,e.path)}function eu(i,e){const t=bg(e);if(t.get(1)!==i.databaseId.projectId)throw new xt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new xt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new tn(Vy(t))}function Jd(i,e){return If(i.databaseId,e)}function Eg(i){const e=bg(i);return 4===e.length?Cr.emptyPath():Vy(e)}function Zl(i){return new Cr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Vy(i){return Vn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ig(i,e,t){return{name:hl(i,e),fields:t.value.mapValue.fields}}function Yl(i,e,t){const o=eu(i,e.name),u=_o(e.updateTime),c=new ao({mapValue:{fields:e.fields}}),p=hi.newFoundDocument(o,u,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Eu(i,e){let t;if(e instanceof Ae)t={update:Ig(i,e.key,e.value)};else if(e instanceof Lr)t={delete:hl(i,e.key)};else if(e instanceof st)t={update:Ig(i,e.key,e.data),updateMask:q_(e.fieldMask)};else{if(!(e instanceof fi))return hn();t={verify:hl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,c){const p=c.transform;if(p instanceof _u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ja)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof xa)return{fieldPath:c.field.canonicalString(),increment:p._t};throw hn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Ly(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:hn()),t;var u}function Df(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?ps.updateTime(_o(u.updateTime)):void 0!==u.exists?ps.exists(u.exists):ps.none():ps.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(c,p){let T=null;"setToServerValue"in p?(Vn("REQUEST_TIME"===p.setToServerValue),T=new _u):"appendMissingElements"in p?T=new Ja(p.appendMissingElements.values||[]):"removeAllFromArray"in p?T=new wu(p.removeAllFromArray.values||[]):"increment"in p?T=new xa(c,p.increment):hn();const O=Fr.fromServerFormat(p.fieldPath);return new ul(O,T)}(i,u)):[];var u;if(e.update){const u=eu(i,e.update.name),c=new ao({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new ni((e.updateMask.fieldPaths||[]).map(H=>Fr.fromServerFormat(H)));return new st(u,c,p,t,o)}return new Ae(u,c,t,o)}if(e.delete){const u=eu(i,e.delete);return new Lr(u,t)}if(e.verify){const u=eu(i,e.verify);return new fi(u,t)}return hn()}function Tf(i,e){return{documents:[Jd(i,e.path)]}}function Dg(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Jd(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Jd(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(O){if(0===O.length)return;const H=O.map(te=>function(Ie){if("=="===Ie.op){if(yo(Ie.value))return{unaryFilter:{field:Jl(Ie.field),op:"IS_NAN"}};if(Aa(Ie.value))return{unaryFilter:{field:Jl(Ie.field),op:"IS_NULL"}}}else if("!="===Ie.op){if(yo(Ie.value))return{unaryFilter:{field:Jl(Ie.field),op:"IS_NOT_NAN"}};if(Aa(Ie.value))return{unaryFilter:{field:Jl(Ie.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(Ie.field),op:Sf(Ie.op),value:Ie.value}}}(te));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);u&&(t.structuredQuery.where=u);const c=function(O){if(0!==O.length)return O.map(H=>{return{field:Jl((te=H).field),direction:Cg(te.dir)};var te})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=(H=e.limit,i.dt||tt(H)?H:{value:H});var H,T,O;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function Tg(i){let e=Eg(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){Vn(1===o);const te=t.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let c=[];t.where&&(c=Cf(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(te=>{return new mu(Xl((Ie=te).field),function(Qe){switch(Qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let T=null;t.limit&&(T=function(te){let Ie;return Ie="object"==typeof te?te.value:te,tt(Ie)?null:Ie}(t.limit));let O=null;var te;t.startAt&&(O=new Fa((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Fa(te.values||[],!te.before)}(t.endAt)),Uc(e,u,p,c,T,"F",O,H)}function Cf(i){return i?void 0!==i.unaryFilter?[K_(i)]:void 0!==i.fieldFilter?[Af(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Cf(e)).reduce((e,t)=>e.concat(t)):hn():[]}function Cg(i){return Ef[i]}function Sf(i){return ky[i]}function Jl(i){return{fieldPath:i.canonicalString()}}function Xl(i){return Fr.fromServerFormat(i.fieldPath)}function Af(i){return xs.create(Xl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(i.fieldFilter.op),i.fieldFilter.value)}function K_(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Xl(i.unaryFilter.field);return xs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xl(i.unaryFilter.field);return xs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xl(i.unaryFilter.field);return xs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xl(i.unaryFilter.field);return xs.create(u,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}function q_(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function da(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=jy(e)),e=Z_(i.get(t),e);return jy(e)}function Z_(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const c=i.charAt(u);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function jy(i){return i+"\x01\x01"}function Iu(i){const e=i.length;if(Vn(e>=2),2===e)return Vn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Cr.emptyPath();const t=e-2,o=[];let u="";for(let c=0;c<e;){const p=i.indexOf("\x01",c);switch((p<0||p>t)&&hn(),i.charAt(p+1)){case"\x01":const T=i.substring(c,p);let O;0===u.length?O=T:(u+=T,O=u,u=""),o.push(O);break;case"\x10":u+=i.substring(c,p),u+="\0";break;case"\x11":u+=i.substring(c,p+1);break;default:hn()}c=p+2}return new Cr(o)}const $y=["userId","batchId"];function eh(i,e){return[i,da(e)]}function xf(i,e,t){return[i,da(e),t]}const Mf={},Sg=["prefixPath","collectionGroup","readTime","documentId"],Ag=["prefixPath","collectionGroup","documentId"],xg=["collectionGroup","readTime","prefixPath","documentId"],Nf=["canonicalId","targetId"],Hy=["targetId","path"],Rf=["path","targetId"],Qc=["collectionId","parent"],zy=["indexId","uid"],Gy=["uid","sequenceNumber"],Wy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Mg=["indexId","uid","orderedDocumentKey"],Ky=["userId","collectionPath","documentId"],qy=["userId","collectionPath","largestBatchId"],Zy=["userId","collectionGroup","largestBatchId"],Ng=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pf=[...Ng,"documentOverlays"],Rg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pg=Rg,Yy=[...Pg,"indexConfiguration","indexState","indexEntries"];class th extends So{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function wo(i,e){const t=Zt(i);return Ys.N(t.ee,e)}class Of{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&f(c,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=I(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=I(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=cl();return this.mutations.forEach(u=>{const c=e.get(u.key),p=c.overlayedDocument;let T=this.applyToLocalView(p,c.mutatedFields);T=t.has(u.key)?null:T;const O=d(p,T);null!==O&&o.set(u.key,O),p.isValidDocument()||p.convertToNoDocument(Nn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gr())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(t,o)=>q(t,o))&&oo(this.baseMutations,e.baseMutations,(t,o)=>q(t,o))}}class No{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){Vn(e.mutations.length===o.length);let u=G_;const c=e.mutations;for(let p=0;p<c.length;p++)u=u.insert(c[p].key,o[p].version);return new No(e,t,o,u)}}class Jc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Du{constructor(e,t,o,u,c=Nn.min(),p=Nn.min(),T=hs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=T}withSequenceNumber(e){return new Du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class nh{constructor(e){this.ne=e}}function ec(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:tc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:hl(u=i.ne,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:ql(u,c.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:fl(e.version)};else{if(!e.isUnknownDocument())return hn();o.unknownDocument={path:t.path.toArray(),version:fl(e.version)}}var u,c;return o}function tc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function fl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pl(i){const e=new Mi(i.seconds,i.nanoseconds);return Nn.fromTimestamp(e)}function Fu(i,e){const t=(e.baseMutations||[]).map(c=>Df(i.ne,c));for(let c=0;c<e.mutations.length-1;++c){const p=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(p.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const o=e.mutations.map(c=>Df(i.ne,c)),u=Mi.fromMillis(e.localWriteTimeMs);return new Of(e.batchId,u,t,o)}function Xc(i){const e=pl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?pl(i.lastLimboFreeSnapshotVersion):Nn.min();let o;var u;return void 0!==i.query.documents?(Vn(1===(u=i.query).documents.length),o=Fo(Pu(Eg(u.documents[0])))):o=Fo(Tg(i.query)),new Du(o,i.targetId,0,i.lastListenSequenceNumber,e,t,hs.fromBase64String(i.resumeToken))}function kf(i,e){const t=fl(e.snapshotVersion),o=fl(e.lastLimboFreeSnapshotVersion);let u;u=Lc(e.target)?Tf(i.ne,e.target):Dg(i.ne,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qa(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Ff(i){const e=Tg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Hl(e,e.limit,"L"):e}function rh(i,e){return new Jc(e.largestBatchId,Df(i.ne,e.overlayMutation))}function Og(i,e){const t=e.path.lastSegment();return[i,da(e.path.popLast()),t]}function kg(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:fl(o.readTime),documentKey:da(o.documentKey.path),largestBatchId:o.largestBatchId}}class Qy{getBundleMetadata(e,t){return Fg(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:pl(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Fg(e).put({bundleId:(o=t).id,createTime:fl(_o(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Lg(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Ff(u.bundledQuery),readTime:pl(u.readTime)};var u})}saveNamedQuery(e,t){return Lg(e).put({name:(o=t).name,readTime:fl(_o(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Fg(i){return wo(i,"bundles")}function Lg(i){return wo(i,"namedQueries")}class ih{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new ih(e,t.uid||"")}getOverlay(e,t){return tu(e).get(Og(this.userId,t)).next(o=>o?rh(this.wt,o):null)}getOverlays(e,t){const o=va();return Je.forEach(t,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((c,p)=>{const T=new Jc(t,p);u.push(this.ie(e,T))}),Je.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(p=>u.add(da(p.getCollectionPath())));const c=[];return u.forEach(p=>{const T=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,o+1],!1,!0);c.push(tu(e).W("collectionPathOverlayIndex",T))}),Je.waitFor(c)}getOverlaysForCollection(e,t,o){const u=va(),c=da(t),p=IDBKeyRange.bound([this.userId,c,o],[this.userId,c,Number.POSITIVE_INFINITY],!0);return tu(e).K("collectionPathOverlayIndex",p).next(T=>{for(const O of T){const H=rh(this.wt,O);u.set(H.getKey(),H)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const c=va();let p;const T=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tu(e).J({index:"collectionGroupOverlayIndex",range:T},(O,H,te)=>{const Ie=rh(this.wt,H);c.size()<u||Ie.largestBatchId===p?(c.set(Ie.getKey(),Ie),p=Ie.largestBatchId):te.done()}).next(()=>c)}ie(e,t){return tu(e).put(function(o,u,c){const[p,T,O]=Og(u,c.mutation.key);return{userId:u,collectionPath:T,documentId:O,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Eu(o.ne,c.mutation)}}(this.wt,this.userId,t))}}function tu(i){return wo(i,"documentOverlays")}class Xo{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ri(e.integerValue));else if("doubleValue"in e){const o=Ri(e.doubleValue);isNaN(o)?this.ce(t,13):(this.ce(t,15),St(o)?t.ae(0):t.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(t,20),"string"==typeof o?t.he(o):(t.he(`${o.seconds||""}`),t.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(ua(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(t,45),t.ae(o.latitude||0),t.ae(o.longitude||0)}else"mapValue"in e?yf(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):hn()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const o=e.fields||{};this.ce(t,55);for(const u of Object.keys(o))this.le(u,t),this.oe(o[u],t)}me(e,t){const o=e.values||[];this.ce(t,50);for(const u of o)this.oe(u,t)}_e(e,t){this.ce(t,37),tn.fromName(e).path.forEach(o=>{this.ce(t,60),this.ge(o,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Jy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Vg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const c=Jy(255&t[u]);if(o+=c,8!==c)break}return o}(i);return Math.ceil(e/8)}Xo.ye=new Xo;class Y_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ie(o.value),o=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const u=t.codePointAt(0);this.Ie(240|u>>>18),this.Ie(128|63&u>>>12),this.Ie(128|63&u>>>6),this.Ie(128|63&u)}}this.Te()}Pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}ve(e){const t=this.Ve(e),o=Vg(t);this.Se(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}De(e){const t=this.Ve(e),o=Vg(t);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Q_{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class Ug{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class sh{constructor(){this.Oe=new Y_,this.Fe=new Q_(this.Oe),this.$e=new Ug(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Vo{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Vo(this.indexId,this.documentKey,this.arrayValue,o)}}function Tu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=oh(i.arrayValue,e.arrayValue),0!==t?t:(t=oh(i.directionalValue,e.directionalValue),0!==t?t:tn.comparator(i.documentKey,e.documentKey)))}function oh(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Xy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const o=t;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const t=ka(e);if(void 0!==t&&!this.Qe(t))return!1;const o=Ko(e);let u=0,c=0;for(;u<o.length&&this.Qe(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Ke){const p=o[u];if(!this.je(this.Ke,p)||!this.We(this.Ue[c++],p))return!1;++u}for(;u<o.length;++u){const p=o[u];if(c>=this.Ue.length||!this.We(this.Ue[c++],p))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Bg{constructor(){this.ze=new Lf}addToCollectionParentIndex(e,t){return this.ze.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return Je.resolve(ko.min())}updateCollectionGroup(e,t,o){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class Lf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Dn(Cr.comparator),c=!u.has(o);return this.index[t]=u.add(o),c}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Dn(Cr.comparator)).toArray()}}const Lu=new Uint8Array(0);class ev{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Lf,this.Je=new Jo(o=>qa(o),(o,u)=>Za(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const c={collectionId:o,parent:da(u)};return Vf(e).put(c)}return Je.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Wo(t),""],!1,!0);return Vf(e).K(u).next(c=>{for(const p of c){if(p.collectionId!==t)break;o.push(Iu(p.parent))}return o})}addFieldIndex(e,t){const o=nc(e),u={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(T=>[T.fieldPath.canonicalString(),T.kind])};var p;delete u.indexId;const c=o.add(u);if(t.indexState){const p=rc(e);return c.next(T=>{p.put(kg(T,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const o=nc(e),u=rc(e),c=gl(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=gl(e);let u=!0;const c=new Map;return Je.forEach(this.Ye(t),p=>this.Xe(e,p).next(T=>{u&&(u=!!T),c.set(p,T)})).next(()=>{if(u){let p=gr();const T=[];return Je.forEach(c,(O,H)=>{var te;Dt("IndexedDbIndexManager",`Using index ${te=O,`id=${te.indexId}|cg=${te.collectionGroup}|f=${te.fields.map(pi=>`${pi.fieldPath}:${pi.kind}`).join(",")}`} to execute ${qa(t)}`);const Ie=function(pi,Yi){const ai=ka(Yi);if(void 0===ai)return null;for(const bi of Ya(pi,ai.fieldPath))switch(bi.op){case"array-contains-any":return bi.value.arrayValue.values||[];case"array-contains":return[bi.value]}return null}(H,O),Qe=function(pi,Yi){const ai=new Map;for(const bi of Ko(Yi))for(const uo of Ya(pi,bi.fieldPath))switch(uo.op){case"==":case"in":ai.set(bi.fieldPath.canonicalString(),uo.value);break;case"not-in":case"!=":return ai.set(bi.fieldPath.canonicalString(),uo.value),Array.from(ai.values())}return null}(H,O),Et=function(pi,Yi){const ai=[];let bi=!0;for(const uo of Ko(Yi)){const Yu=0===uo.kind?Vl(pi,uo.fieldPath,pi.startAt):nl(pi,uo.fieldPath,pi.startAt);ai.push(Yu.value),bi&&(bi=Yu.inclusive)}return new Fa(ai,bi)}(H,O),Tt=function(pi,Yi){const ai=[];let bi=!0;for(const uo of Ko(Yi)){const Yu=0===uo.kind?nl(pi,uo.fieldPath,pi.endAt):Vl(pi,uo.fieldPath,pi.endAt);ai.push(Yu.value),bi&&(bi=Yu.inclusive)}return new Fa(ai,bi)}(H,O),fn=this.Ze(O,H,Et),An=this.Ze(O,H,Tt),Qr=this.tn(O,H,Qe),Ui=this.en(O.indexId,Ie,fn,Et.inclusive,An,Tt.inclusive,Qr);return Je.forEach(Ui,pi=>o.j(pi,t.limit).next(Yi=>{Yi.forEach(ai=>{const bi=tn.fromSegments(ai.documentKey);p.has(bi)||(p=p.add(bi),T.push(bi))})}))}).next(()=>T)}return Je.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,o,u,c,p,T){const O=(null!=t?t.length:1)*Math.max(o.length,c.length),H=O/(null!=t?t.length:1),te=[];for(let Ie=0;Ie<O;++Ie){const Qe=t?this.nn(t[Ie/H]):Lu,Et=this.sn(e,Qe,o[Ie%H],u),Tt=this.rn(e,Qe,c[Ie%H],p),fn=T.map(An=>this.sn(e,Qe,An,!0));te.push(...this.createRange(Et,Tt,fn))}return te}sn(e,t,o,u){const c=new Vo(e,tn.empty(),t,o);return u?c:c.Le()}rn(e,t,o,u){const c=new Vo(e,tn.empty(),t,o);return u?c.Le():c}Xe(e,t){const o=new Xy(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(c=>{let p=null;for(const T of c)o.Ge(T)&&(!p||T.fields.length>p.fields.length)&&(p=T);return p})}getIndexType(e,t){let o=2;return Je.forEach(this.Ye(t),u=>this.Xe(e,u).next(c=>{c?0!==o&&c.fields.length<function(p){let T=new Dn(Fr.comparator),O=!1;for(const H of p.filters){const te=H;te.field.isKeyField()||("array-contains"===te.op||"array-contains-any"===te.op?O=!0:T=T.add(te.field))}for(const H of p.orderBy)H.field.isKeyField()||(T=T.add(H.field));return T.size+(O?1:0)}(u)&&(o=1):o=0})).next(()=>o)}on(e,t){const o=new sh;for(const u of Ko(e)){const c=t.data.field(u.fieldPath);if(null==c)return null;const p=o.Be(u.kind);Xo.ye.re(c,p)}return o.Me()}nn(e){const t=new sh;return Xo.ye.re(e,t.Be(0)),t.Me()}un(e,t){const o=new sh;return Xo.ye.re(la(this.databaseId,t),o.Be(function(u){const c=Ko(u);return 0===c.length?0:c[c.length-1].kind}(e))),o.Me()}tn(e,t,o){if(null===o)return[];let u=[];u.push(new sh);let c=0;for(const p of Ko(e)){const T=o[c++];for(const O of u)if(this.cn(t,p.fieldPath)&&ya(T))u=this.an(u,p,T);else{const H=O.Be(p.kind);Xo.ye.re(T,H)}}return this.hn(u)}Ze(e,t,o){return this.tn(e,t,o.position)}hn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Me();return t}an(e,t,o){const u=[...e],c=[];for(const p of o.arrayValue.values||[])for(const T of u){const O=new sh;O.seed(T.Me()),Xo.ye.re(p,O.Be(t.kind)),c.push(O)}return c}cn(e,t){return!!e.filters.find(o=>o instanceof xs&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=nc(e),u=rc(e);return(t?o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.K()).next(c=>{const p=[];return Je.forEach(c,T=>u.get([T.indexId,this.uid]).next(O=>{p.push(function(H,te){const Ie=te?new Ni(te.sequenceNumber,new ko(pl(te.readTime),new tn(Iu(te.documentKey)),te.largestBatchId)):Ni.empty(),Qe=H.fields.map(([Et,Tt])=>new Nu(Fr.fromServerFormat(Et),Tt));return new Ka(H.indexId,H.collectionGroup,Qe,Ie)}(T,O))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const c=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==c?c:qn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=nc(e),c=rc(e);return this.ln(e).next(p=>u.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(T=>Je.forEach(T,O=>c.put(kg(O.indexId,this.user,p,o)))))}updateIndexEntries(e,t){const o=new Map;return Je.forEach(t,(u,c)=>{const p=o.get(u.collectionGroup);return(p?Je.resolve(p):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(o.set(u.collectionGroup,T),Je.forEach(T,O=>this.fn(e,u,O).next(H=>{const te=this.dn(c,O);return H.isEqual(te)?Je.resolve():this._n(e,c,O,H,te)}))))})}wn(e,t,o,u){return gl(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.un(o,t.key),documentKey:t.key.path.toArray()})}mn(e,t,o,u){return gl(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.un(o,t.key),t.key.path.toArray()])}fn(e,t,o){const u=gl(e);let c=new Dn(Tu);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,t)])},(p,T)=>{c=c.add(new Vo(o.indexId,t,T.arrayValue,T.directionalValue))}).next(()=>c)}dn(e,t){let o=new Dn(Tu);const u=this.on(t,e);if(null==u)return o;const c=ka(t);if(null!=c){const p=e.data.field(c.fieldPath);if(ya(p))for(const T of p.arrayValue.values||[])o=o.add(new Vo(t.indexId,e.key,this.nn(T),u))}else o=o.add(new Vo(t.indexId,e.key,Lu,u));return o}_n(e,t,o,u,c){Dt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(T,O,H,te,Ie){const Qe=T.getIterator(),Et=O.getIterator();let Tt=is(Qe),fn=is(Et);for(;Tt||fn;){let An=!1,Qr=!1;if(Tt&&fn){const Ui=H(Tt,fn);Ui<0?Qr=!0:Ui>0&&(An=!0)}else null!=Tt?Qr=!0:An=!0;An?(te(fn),fn=is(Et)):Qr?(Ie(Tt),Tt=is(Qe)):(Tt=is(Qe),fn=is(Et))}}(u,c,Tu,T=>{p.push(this.wn(e,t,o,T))},T=>{p.push(this.mn(e,t,o,T))}),Je.waitFor(p)}ln(e){let t=1;return rc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,c)=>{c.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((p,T)=>Tu(p,T)).filter((p,T,O)=>!T||0!==Tu(p,O[T-1]));const u=[];u.push(e);for(const p of o){const T=Tu(p,e),O=Tu(p,t);if(0===T)u[0]=e.Le();else if(T>0&&O<0)u.push(p),u.push(p.Le());else if(O>0)break}u.push(t);const c=[];for(let p=0;p<u.length;p+=2)c.push(IDBKeyRange.bound([u[p].indexId,this.uid,u[p].arrayValue,u[p].directionalValue,Lu,[]],[u[p+1].indexId,this.uid,u[p+1].arrayValue,u[p+1].directionalValue,Lu,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tv)}getMinOffset(e,t){return Je.mapArray(this.Ye(t),o=>this.Xe(e,o).next(u=>u||hn())).next(tv)}}function Vf(i){return wo(i,"collectionParents")}function gl(i){return wo(i,"indexEntries")}function nc(i){return wo(i,"indexConfiguration")}function rc(i){return wo(i,"indexState")}function tv(i){Vn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;Ta(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new ko(e.readTime,e.documentKey,t)}const ml={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Uo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Uo(e,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Uf(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let T=0;const O=o.J({range:p},(te,Ie,Qe)=>(T++,Qe.delete()));c.push(O.next(()=>{Vn(1===T)}));const H=[];for(const te of t.mutations){const Ie=xf(e,te.key.path,t.batchId);c.push(u.delete(Ie)),H.push(te.key)}return Je.waitFor(c).next(()=>H)}function ah(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw hn();e=i.noDocument}return JSON.stringify(e).length}Uo.DEFAULT_COLLECTION_PERCENTILE=10,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uo.DEFAULT=new Uo(41943040,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uo.DISABLED=new Uo(-1,0,0);class ic{constructor(e,t,o,u){this.userId=e,this.wt=t,this.indexManager=o,this.referenceDelegate=u,this.gn={}}static se(e,t,o,u){Vn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new ic(c,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).J({index:"userMutationsIndex",range:o},(u,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const c=sc(e),p=Vu(e);return p.add({}).next(T=>{Vn("number"==typeof T);const O=new Of(T,t,o,u),H=function(Qe,Et,Tt){const fn=Tt.baseMutations.map(Qr=>Eu(Qe.ne,Qr)),An=Tt.mutations.map(Qr=>Eu(Qe.ne,Qr));return{userId:Et,batchId:Tt.batchId,localWriteTimeMs:Tt.localWriteTime.toMillis(),baseMutations:fn,mutations:An}}(this.wt,this.userId,O),te=[];let Ie=new Dn((Qe,Et)=>qn(Qe.canonicalString(),Et.canonicalString()));for(const Qe of u){const Et=xf(this.userId,Qe.key.path,T);Ie=Ie.add(Qe.key.path.popLast()),te.push(p.put(H)),te.push(c.put(Et,Mf))}return Ie.forEach(Qe=>{te.push(this.indexManager.addToCollectionParentIndex(e,Qe))}),e.addOnCommittedListener(()=>{this.gn[T]=O.keys()}),Je.waitFor(te).next(()=>O)})}lookupMutationBatch(e,t){return Vu(e).get(t).next(o=>o?(Vn(o.userId===this.userId),Fu(this.wt,o)):null)}yn(e,t){return this.gn[t]?Je.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.gn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let c=null;return Vu(e).J({index:"userMutationsIndex",range:u},(p,T,O)=>{T.userId===this.userId&&(Vn(T.batchId>=o),c=Fu(this.wt,T)),O.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Vu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(u,c,p)=>{o=c.batchId,p.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).K("userMutationsIndex",t).next(o=>o.map(u=>Fu(this.wt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=eh(this.userId,t.path),u=IDBKeyRange.lowerBound(o),c=[];return sc(e).J({range:u},(p,T,O)=>{const[H,te,Ie]=p,Qe=Iu(te);if(H===this.userId&&t.path.isEqual(Qe))return Vu(e).get(Ie).next(Et=>{if(!Et)throw hn();Vn(Et.userId===this.userId),c.push(Fu(this.wt,Et))});O.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Dn(qn);const u=[];return t.forEach(c=>{const p=eh(this.userId,c.path),T=IDBKeyRange.lowerBound(p),O=sc(e).J({range:T},(H,te,Ie)=>{const[Qe,Et,Tt]=H,fn=Iu(Et);Qe===this.userId&&c.path.isEqual(fn)?o=o.add(Tt):Ie.done()});u.push(O)}),Je.waitFor(u).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,c=eh(this.userId,o),p=IDBKeyRange.lowerBound(c);let T=new Dn(qn);return sc(e).J({range:p},(O,H,te)=>{const[Ie,Qe,Et]=O,Tt=Iu(Qe);Ie===this.userId&&o.isPrefixOf(Tt)?Tt.length===u&&(T=T.add(Et)):te.done()}).next(()=>this.pn(e,T))}pn(e,t){const o=[],u=[];return t.forEach(c=>{u.push(Vu(e).get(c).next(p=>{if(null===p)throw hn();Vn(p.userId===this.userId),o.push(Fu(this.wt,p))}))}),Je.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Uf(e.ee,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Je.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return sc(e).J({range:o},(c,p,T)=>{if(c[0]===this.userId){const O=Iu(c[1]);u.push(O)}else T.done()}).next(()=>{Vn(0===u.length)})})}containsKey(e,t){return jg(e,this.userId,t)}Tn(e){return $g(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jg(i,e,t){const o=eh(e,t.path),u=o[1],c=IDBKeyRange.lowerBound(o);let p=!1;return sc(i).J({range:c,H:!0},(T,O,H)=>{const[te,Ie,Qe]=T;te===e&&Ie===u&&(p=!0),H.done()}).next(()=>p)}function Vu(i){return wo(i,"mutations")}function sc(i){return wo(i,"documentMutations")}function $g(i){return wo(i,"mutationQueues")}class yl{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new yl(0)}static Rn(){return new yl(-1)}}class nv{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const o=new yl(t.highestTargetId);return t.highestTargetId=o.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Nn.fromTimestamp(new Mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.bn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Pn(e,u)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(t,o),this.Pn(e,o))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>vl(e).delete(t.targetId)).next(()=>this.bn(e)).next(o=>(Vn(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,t,o){let u=0;const c=[];return vl(e).J((p,T)=>{const O=Xc(T);O.sequenceNumber<=t&&null===o.get(O.targetId)&&(u++,c.push(this.removeTargetData(e,O)))}).next(()=>Je.waitFor(c)).next(()=>u)}forEachTarget(e,t){return vl(e).J((o,u)=>{const c=Xc(u);t(c)})}bn(e){return uh(e).get("targetGlobalKey").next(t=>(Vn(null!==t),t))}Pn(e,t){return uh(e).put("targetGlobalKey",t)}vn(e,t){return vl(e).put(kf(this.wt,t))}Vn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=qa(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let c=null;return vl(e).J({range:u,index:"queryTargetsIndex"},(p,T,O)=>{const H=Xc(T);Za(t,H.target)&&(c=H,O.done())}).next(()=>c)}addMatchingKeys(e,t,o){const u=[],c=Cu(e);return t.forEach(p=>{const T=da(p.path);u.push(c.put({targetId:o,path:T})),u.push(this.referenceDelegate.addReference(e,o,p))}),Je.waitFor(u)}removeMatchingKeys(e,t,o){const u=Cu(e);return Je.forEach(t,c=>{const p=da(c.path);return Je.waitFor([u.delete([o,p]),this.referenceDelegate.removeReference(e,o,c)])})}removeMatchingKeysForTargetId(e,t){const o=Cu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Cu(e);let c=gr();return u.J({range:o,H:!0},(p,T,O)=>{const H=Iu(p[1]),te=new tn(H);c=c.add(te)}).next(()=>c)}containsKey(e,t){const o=da(t.path),u=IDBKeyRange.bound([o],[Wo(o)],!1,!0);let c=0;return Cu(e).J({index:"documentTargetsIndex",H:!0,range:u},([p,T],O,H)=>{0!==p&&(c++,H.done())}).next(()=>c>0)}te(e,t){return vl(e).get(t).next(o=>o?Xc(o):null)}}function vl(i){return wo(i,"targets")}function uh(i){return wo(i,"targetGlobal")}function Cu(i){return wo(i,"targetDocuments")}function lh([i,e],[t,o]){const u=qn(i,t);return 0===u?qn(e,o):u}class rv{constructor(e){this.Sn=e,this.buffer=new Dn(lh),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();lh(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iv{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Dt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,oe.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){go(o)?Dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield qo(o)}yield t.kn(3e5)}))}}class Hg{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(Z.ot);const o=new rv(t);return this.Mn.forEachTarget(e,u=>o.xn(u.sequenceNumber)).next(()=>this.Mn.Fn(e,u=>o.xn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Mn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(ml)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ml):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let o,u,c,p,T,O,H;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),u=this.params.maximumSequenceNumbersToCollect):u=Ie,p=Date.now(),this.nthSequenceNumber(e,u))).next(Ie=>(o=Ie,T=Date.now(),this.removeTargets(e,o,t))).next(Ie=>(c=Ie,O=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ie=>(H=Date.now(),Co()<=en.in.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-te}ms\n\tDetermined least recently used ${u} in `+(T-p)+`ms\n\tRemoved ${c} targets in `+(O-T)+`ms\n\tRemoved ${Ie} documents in `+(H-O)+`ms\nTotal Duration: ${H-te}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:c,documentsRemoved:Ie})))}}class zg{constructor(e,t){this.db=e,this.garbageCollector=new Hg(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}Bn(e){let t=0;return this.Fn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(o,u)=>t(u))}addReference(e,t,o){return nu(e,o)}removeReference(e,t,o){return nu(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return nu(e,t)}Un(e,t){return function(o,u){let c=!1;return $g(o).Y(p=>jg(o,p,u).next(T=>(T&&(c=!0),Je.resolve(!T)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let c=0;return this.Ln(e,(p,T)=>{if(T<=t){const O=this.Un(e,p).next(H=>{if(!H)return c++,o.getEntry(e,p).next(()=>(o.removeEntry(p,Nn.min()),Cu(e).delete([0,da(p.path)])))});u.push(O)}}).next(()=>Je.waitFor(u)).next(()=>o.apply(e)).next(()=>c)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return nu(e,t)}Ln(e,t){const o=Cu(e);let u,c=Z.ot;return o.J({index:"documentTargetsIndex"},([p,T],{path:O,sequenceNumber:H})=>{0===p?(c!==Z.ot&&t(new tn(Iu(u)),c),c=H,u=O):c=Z.ot}).next(()=>{c!==Z.ot&&t(new tn(Iu(u)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nu(i,e){return Cu(i).put((o=i.currentSequenceNumber,{targetId:0,path:da(e.path),sequenceNumber:o}));var o}class Bf{constructor(){this.changes=new Jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Je.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gg{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return _l(e).put(o)}removeEntry(e,t,o){return _l(e).delete(function(u,c){const p=u.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],tc(c),p[p.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.qn(e,o)))}getEntry(e,t){let o=hi.newInvalidDocument(t);return _l(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(t))},(u,c)=>{o=this.Kn(t,c)}).next(()=>o)}Gn(e,t){let o={size:0,document:hi.newInvalidDocument(t)};return _l(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(t))},(u,c)=>{o={document:this.Kn(t,c),size:ah(c)}}).next(()=>o)}getEntries(e,t){let o=vo();return this.Qn(e,t,(u,c)=>{const p=this.Kn(u,c);o=o.insert(u,p)}).next(()=>o)}jn(e,t){let o=vo(),u=new Rt(tn.comparator);return this.Qn(e,t,(c,p)=>{const T=this.Kn(c,p);o=o.insert(c,T),u=u.insert(c,ah(p))}).next(()=>({documents:o,Wn:u}))}Qn(e,t,o){if(t.isEmpty())return Je.resolve();let u=new Dn($f);t.forEach(O=>u=u.add(O));const c=IDBKeyRange.bound(oc(u.first()),oc(u.last())),p=u.getIterator();let T=p.getNext();return _l(e).J({index:"documentKeyIndex",range:c},(O,H,te)=>{const Ie=tn.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;T&&$f(T,Ie)<0;)o(T,null),T=p.getNext();T&&T.isEqual(Ie)&&(o(T,H),T=p.hasNext()?p.getNext():null),T?te.q(oc(T)):te.done()}).next(()=>{for(;T;)o(T,null),T=p.hasNext()?p.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),tc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _l(e).K(IDBKeyRange.bound(u,c,!0)).next(p=>{let T=vo();for(const O of p){const H=this.Kn(tn.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);T=T.insert(H.key,H)}return T})}getAllFromCollectionGroup(e,t,o,u){let c=vo();const p=jf(t,o),T=jf(t,ko.max());return _l(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,T,!0)},(O,H,te)=>{const Ie=this.Kn(tn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);c=c.insert(Ie.key,Ie),c.size===u&&te.done()}).next(()=>c)}newChangeBuffer(e){return new J_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ed(e).get("remoteDocumentGlobalKey").next(t=>(Vn(!!t),t))}qn(e,t){return ed(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const o=function Lo(i,e){let t;if(e.document)t=Yl(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=tn.fromSegments(e.noDocument.path),u=pl(e.noDocument.readTime);t=hi.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return hn();{const o=tn.fromSegments(e.unknownDocument.path),u=pl(e.unknownDocument.version);t=hi.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Mi(o[0],o[1]);return Nn.fromTimestamp(u)}(e.readTime)),t}(this.wt,t);if(!o.isNoDocument()||!o.version.isEqual(Nn.min()))return o}return hi.newInvalidDocument(e)}}function Wg(i){return new Gg(i)}class J_ extends Bf{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Jo(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new Dn((c,p)=>qn(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const T=this.Hn.get(c);if(t.push(this.zn.removeEntry(e,c,T.readTime)),p.isValidDocument()){const O=ec(this.zn.wt,p);u=u.add(c.path.popLast()),o+=ah(O)-T.size,t.push(this.zn.addEntry(e,c,O))}else if(o-=T.size,this.trackRemovals){const O=ec(this.zn.wt,p.convertToNoDocument(Nn.min()));t.push(this.zn.addEntry(e,c,O))}}),u.forEach(c=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.zn.updateMetadata(e,o)),Je.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(o=>(this.Hn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:o,Wn:u})=>(u.forEach((c,p)=>{this.Hn.set(c,{size:p,readTime:o.get(c).readTime})}),o))}}function ed(i){return wo(i,"remoteDocumentGlobal")}function _l(i){return wo(i,"remoteDocumentsV14")}function oc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jf(i,e){const t=e.documentKey.path.toArray();return[i,tc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $f(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let c=0;c<t.length-2&&c<o.length-2;++c)if(u=qn(t[c],o[c]),u)return u;return u=qn(t.length,o.length),u||(u=qn(t[t.length-2],o[o.length-2]),u||qn(t[t.length-1],o[o.length-1]))}class Hf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zf{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&I(o.mutation,u,ni.empty(),Mi.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,gr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=gr()){const u=va();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(c=>{let p=Xa();return c.forEach((T,O)=>{p=p.insert(T,O.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const o=va();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,gr()))}populateOverlays(e,t,o){const u=[];return o.forEach(c=>{t.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(e,u).next(c=>{c.forEach((p,T)=>{t.set(p,T)})})}computeViews(e,t,o,u){let c=vo();const p=bu(),T=bu();return t.forEach((O,H)=>{const te=o.get(H.key);u.has(H.key)&&(void 0===te||te.mutation instanceof st)?c=c.insert(H.key,H):void 0!==te&&(p.set(H.key,te.mutation.getFieldMask()),I(te.mutation,H,te.mutation.getFieldMask(),Mi.now()))}),this.recalculateAndSaveOverlays(e,c).next(O=>(O.forEach((H,te)=>p.set(H,te)),t.forEach((H,te)=>{var Ie;return T.set(H,new Hf(te,null!==(Ie=p.get(H))&&void 0!==Ie?Ie:null))}),T))}recalculateAndSaveOverlays(e,t){const o=bu();let u=new Rt((p,T)=>p-T),c=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const T of p)T.keys().forEach(O=>{const H=t.get(O);if(null===H)return;let te=o.get(O)||ni.empty();te=T.applyToLocalView(H,te),o.set(O,te);const Ie=(u.get(T.batchId)||gr()).add(O);u=u.insert(T.batchId,Ie)})}).next(()=>{const p=[],T=u.getReverseIterator();for(;T.hasNext();){const O=T.getNext(),H=O.key,te=O.value,Ie=cl();te.forEach(Qe=>{if(!c.has(Qe)){const Et=d(t.get(Qe),o.get(Qe));null!==Et&&Ie.set(Qe,Et),c=c.add(Qe)}}),p.push(this.documentOverlayCache.saveOverlays(e,H,Ie))}return Je.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return tn.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(c=>{const p=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-c.size):Je.resolve(va());let T=-1,O=c;return p.next(H=>Je.forEach(H,(te,Ie)=>(T<Ie.largestBatchId&&(T=Ie.largestBatchId),c.get(te)?Je.resolve():this.getBaseDocument(e,te,Ie).next(Qe=>{O=O.insert(te,Qe)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,O,H,gr())).next(te=>({batchId:T,changes:Kc(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(o=>{let u=Xa();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let c=Xa();return this.indexManager.getCollectionParents(e,u).next(p=>Je.forEach(p,T=>{const O=(H=t,te=T.child(u),new La(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,O,o).next(H=>{H.forEach((te,Ie)=>{c=c.insert(te,Ie)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(c=>(u=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(c=>{c.forEach((T,O)=>{const H=O.getKey();null===u.get(H)&&(u=u.insert(H,hi.newInvalidDocument(H)))});let p=Xa();return u.forEach((T,O)=>{const H=c.get(T);void 0!==H&&I(H.mutation,O,ni.empty(),Mi.now()),Hc(t,O)&&(p=p.insert(T,O))}),p})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):Je.resolve(hi.newInvalidDocument(t))}}class ch{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Je.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var o;return this.Jn.set(t.id,{id:(o=t).id,version:o.version,createTime:_o(o.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(o=t).name,query:Ff(o.bundledQuery),readTime:_o(o.readTime)}),Je.resolve();var o}}class dh{constructor(){this.overlays=new Rt(tn.comparator),this.Xn=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}getOverlays(e,t){const o=va();return Je.forEach(t,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,c)=>{this.ie(e,t,c)}),Je.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.Xn.get(o);return void 0!==u&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.Xn.delete(o)),Je.resolve()}getOverlaysForCollection(e,t,o){const u=va(),c=t.length+1,p=new tn(t.child("")),T=this.overlays.getIteratorFrom(p);for(;T.hasNext();){const O=T.getNext().value,H=O.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&O.largestBatchId>o&&u.set(O.getKey(),O)}return Je.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let c=new Rt((H,te)=>H-te);const p=this.overlays.getIterator();for(;p.hasNext();){const H=p.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let te=c.get(H.largestBatchId);null===te&&(te=va(),c=c.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const T=va(),O=c.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((H,te)=>T.set(H,te)),!(T.size()>=u)););return Je.resolve(T)}ie(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const p=this.Xn.get(u.largestBatchId).delete(o.key);this.Xn.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Jc(t,o));let c=this.Xn.get(t);void 0===c&&(c=gr(),this.Xn.set(t,c)),this.Xn.set(t,c.add(o.key))}}class hh{constructor(){this.Zn=new Dn(Qs.ts),this.es=new Dn(Qs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const o=new Qs(e,t);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.rs(new Qs(e,t))}os(e,t){e.forEach(o=>this.removeReference(o,t))}us(e){const t=new tn(new Cr([])),o=new Qs(t,e),u=new Qs(t,e+1),c=[];return this.es.forEachInRange([o,u],p=>{this.rs(p),c.push(p.key)}),c}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new tn(new Cr([])),o=new Qs(t,e),u=new Qs(t,e+1);let c=gr();return this.es.forEachInRange([o,u],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new Qs(e,0),o=this.Zn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Qs{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return tn.comparator(e.key,t.key)||qn(e.ls,t.ls)}static ns(e,t){return qn(e.ls,t.ls)||tn.comparator(e.key,t.key)}}class Kg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Dn(Qs.ts)}checkEmpty(e){return Je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const c=this.fs;this.fs++;const p=new Of(c,t,o,u);this.mutationQueue.push(p);for(const T of u)this.ds=this.ds.add(new Qs(T.key,c)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Je.resolve(p)}lookupMutationBatch(e,t){return Je.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ws(t+1),c=u<0?0:u;return Je.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Qs(t,0),u=new Qs(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([o,u],p=>{const T=this._s(p.ls);c.push(T)}),Je.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Dn(qn);return t.forEach(u=>{const c=new Qs(u,0),p=new Qs(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,p],T=>{o=o.add(T.ls)})}),Je.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let c=o;tn.isDocumentKey(c)||(c=c.child(""));const p=new Qs(new tn(c),0);let T=new Dn(qn);return this.ds.forEachWhile(O=>{const H=O.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(T=T.add(O.ls)),!0)},p),Je.resolve(this.gs(T))}gs(e){const t=[];return e.forEach(o=>{const u=this._s(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Vn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return Je.forEach(t.mutations,u=>{const c=new Qs(u.key,t.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,t){const o=new Qs(t,0),u=this.ds.firstAfterOrEqual(o);return Je.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Je.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gf{constructor(e){this.ps=e,this.docs=new Rt(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),c=u?u.size:0,p=this.ps(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Je.resolve(o?o.document.mutableCopy():hi.newInvalidDocument(t))}getEntries(e,t){let o=vo();return t.forEach(u=>{const c=this.docs.get(u);o=o.insert(u,c?c.document.mutableCopy():hi.newInvalidDocument(u))}),Je.resolve(o)}getAllFromCollection(e,t,o){let u=vo();const c=new tn(t.child("")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:T,value:{document:O}}=p.getNext();if(!t.isPrefixOf(T.path))break;T.path.length>t.length+1||Ta(Da(O),o)<=0||(u=u.insert(O.key,O.mutableCopy()))}return Je.resolve(u)}getAllFromCollectionGroup(e,t,o,u){hn()}Is(e,t){return Je.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new td(this)}getSize(e){return Je.resolve(this.size)}}class td extends Bf{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.zn.addEntry(e,u)):this.zn.removeEntry(o)}),Je.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class sv{constructor(e){this.persistence=e,this.Ts=new Jo(t=>qa(t),Za),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Es=0,this.As=new hh,this.targetCount=0,this.Rs=yl.An()}forEachTarget(e,t){return this.Ts.forEach((o,u)=>t(u)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Es&&(this.Es=t),Je.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.vn(t),Je.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,o){let u=0;const c=[];return this.Ts.forEach((p,T)=>{T.sequenceNumber<=t&&null===o.get(T.targetId)&&(this.Ts.delete(p),c.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Je.waitFor(c).next(()=>u)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const o=this.Ts.get(t)||null;return Je.resolve(o)}addMatchingKeys(e,t,o){return this.As.ss(t,o),Je.resolve()}removeMatchingKeys(e,t,o){this.As.os(t,o);const u=this.persistence.referenceDelegate,c=[];return u&&t.forEach(p=>{c.push(u.markPotentiallyOrphaned(e,p))}),Je.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const o=this.As.hs(t);return Je.resolve(o)}containsKey(e,t){return Je.resolve(this.As.containsKey(t))}}class Wf{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Z(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new sv(this),this.indexManager=new Bg,this.remoteDocumentCache=new Gf(o=>this.referenceDelegate.Ss(o)),this.wt=new nh(t),this.Ds=new ch(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.bs[e.toKey()];return o||(o=new Kg(t,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,o){Dt("MemoryPersistence","Starting transaction:",e);const u=new ov(this.Ps.next());return this.referenceDelegate.Cs(),o(u).next(c=>this.referenceDelegate.xs(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Ns(e,t){return Je.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,t)))}}class ov extends So{constructor(e){super(),this.currentSequenceNumber=e}}class fh{constructor(e){this.persistence=e,this.ks=new hh,this.Ms=null}static Os(e){return new fh(e)}get Fs(){if(this.Ms)return this.Ms;throw hn()}addReference(e,t,o){return this.ks.addReference(o,t),this.Fs.delete(o.toString()),Je.resolve()}removeReference(e,t,o){return this.ks.removeReference(o,t),this.Fs.add(o.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Je.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(u=>this.Fs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(c=>this.Fs.add(c.toString()))}).next(()=>o.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Fs,o=>{const u=tn.fromPath(o);return this.$s(e,u).next(c=>{c||t.removeEntry(u,Nn.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(o=>{o?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Je.or([()=>Je.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class qg{constructor(e){this.wt=e}M(e,t,o,u){const c=new Ca("createOrUpgrade",t);var T;o<1&&u>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$y,{unique:!0}),T.createObjectStore("documentMutations"),ph(e),function(T){T.createObjectStore("remoteDocuments")}(e));let p=Je.resolve();return o<3&&u>=3&&(0!==o&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),ph(e)),p=p.next(()=>function(T){const O=T.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nn.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",H)}(c))),o<4&&u>=4&&(0!==o&&(p=p.next(()=>function(T,O){return O.store("mutations").K().next(H=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$y,{unique:!0});const te=O.store("mutations"),Ie=H.map(Qe=>te.put(Qe));return Je.waitFor(Ie)})}(e,c))),p=p.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(p=p.next(()=>this.Bs(c))),o<6&&u>=6&&(p=p.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(c)))),o<7&&u>=7&&(p=p.next(()=>this.Us(c))),o<8&&u>=8&&(p=p.next(()=>this.qs(e,c))),o<9&&u>=9&&(p=p.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(p=p.next(()=>this.Ks(c))),o<11&&u>=11&&(p=p.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(p=p.next(()=>{!function(T){const O=T.createObjectStore("documentOverlays",{keyPath:Ky});O.createIndex("collectionPathOverlayIndex",qy,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",Zy,{unique:!1})}(e)})),o<13&&u>=13&&(p=p.next(()=>function(T){const O=T.createObjectStore("remoteDocumentsV14",{keyPath:Sg});O.createIndex("documentKeyIndex",Ag),O.createIndex("collectionGroupIndex",xg)}(e)).next(()=>this.Gs(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(p=p.next(()=>this.Qs(e,c))),o<15&&u>=15&&(p=p.next(()=>function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:zy}).createIndex("sequenceNumberIndex",Gy,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:Wy}).createIndex("documentKeyIndex",Mg,{unique:!1})}(e))),p}Ls(e){let t=0;return e.store("remoteDocuments").J((o,u)=>{t+=ah(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.K().next(u=>Je.forEach(u,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",p).next(T=>Je.forEach(T,O=>{Vn(O.userId===c.userId);const H=Fu(this.wt,O);return Uf(e,c.userId,H).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const c=[];return o.J((p,T)=>{const O=new Cr(p),H=[0,da(O)];c.push(t.get(H).next(te=>te?Je.resolve():t.put({targetId:0,path:da(O),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Je.waitFor(c))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Qc});const o=t.store("collectionParents"),u=new Lf,c=p=>{if(u.add(p)){const T=p.lastSegment(),O=p.popLast();return o.put({collectionId:T,parent:da(O)})}};return t.store("remoteDocuments").J({H:!0},(p,T)=>{const O=new Cr(p);return c(O.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([p,T,O],H)=>{const te=Iu(T);return c(te.popLast())}))}Ks(e){const t=e.store("targets");return t.J((o,u)=>{const c=Xc(u),p=kf(this.wt,c);return t.put(p)})}Gs(e,t){const o=t.store("remoteDocuments"),u=[];return o.J((c,p)=>{const T=t.store("remoteDocumentsV14"),O=(H=p,H.document?new tn(Cr.fromString(H.document.name).popFirst(5)):H.noDocument?tn.fromSegments(H.noDocument.path):H.unknownDocument?tn.fromSegments(H.unknownDocument.path):hn()).path.toArray();var H;const te={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};u.push(T.put(te))}).next(()=>Je.waitFor(u))}Qs(e,t){const o=t.store("mutations"),u=Wg(this.wt),c=new Wf(fh.Os,this.wt.ne);return o.K().next(p=>{const T=new Map;return p.forEach(O=>{var H;let te=null!==(H=T.get(O.userId))&&void 0!==H?H:gr();Fu(this.wt,O).keys().forEach(Ie=>te=te.add(Ie)),T.set(O.userId,te)}),Je.forEach(T,(O,H)=>{const te=new Or(H),Ie=ih.se(this.wt,te),Qe=c.getIndexManager(te),Et=ic.se(te,this.wt,Qe,c.referenceDelegate);return new zf(u,Et,Ie,Qe).recalculateAndSaveOverlaysForDocumentKeys(new th(t,Z.ot),O).next()})})}}function ph(i){i.createObjectStore("targetDocuments",{keyPath:Hy}).createIndex("documentTargetsIndex",Rf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Nf,{unique:!0}),i.createObjectStore("targetGlobal")}const gh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zg{constructor(e,t,o,u,c,p,T,O,H,te,Ie=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.js=c,this.window=p,this.document=T,this.Ws=H,this.zs=te,this.Hs=Ie,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Qe=>Promise.resolve(),!Zg.V())throw new xt(it.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zg(this,u),this.ei=t+"main",this.wt=new nh(O),this.ni=new Ys(this.ei,this.Hs,new qg(this.wt)),this.Vs=new nv(this.referenceDelegate,this.wt),this.remoteDocumentCache=Wg(this.wt),this.Ds=new Qy,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===te&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xt(it.FAILED_PRECONDITION,gh);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Z(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var o=(0,oe.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,oe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,oe.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(go(e))return Dt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return ac(e).get("owner").next(t=>Je.resolve(this.di(t)))}_i(e){return mh(e).delete(this.clientId)}wi(){var e=this;return(0,oe.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=wo(o,"clientMetadata");return u.K().next(c=>{const p=e.gi(c,18e5),T=c.filter(O=>-1===p.indexOf(O));return Je.forEach(T,O=>u.delete(O.clientId)).next(()=>T)})}).catch(()=>[]);if(e.si)for(const o of t)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Je.resolve(!0):ac(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new xt(it.FAILED_PRECONDITION,gh);return!1}}return!(!this.networkEnabled||!this.inForeground)||mh(e).K().next(o=>void 0===this.gi(o,5e3).find(u=>{if(this.clientId!==u.clientId){const p=!this.inForeground&&u.inForeground,T=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||p&&T)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Dt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,oe.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new th(t,Z.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(o=>this.mi(o.updateTimeMs,t)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>mh(e).K().next(t=>this.gi(t,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return ic.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ev(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return ih.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,o){Dt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",c=15===(p=this.Hs)?Yy:14===p?Pg:13===p?Rg:12===p?Pf:11===p?Ng:void hn();var p;let T;return this.ni.runTransaction(e,u,c,O=>(T=new th(O,this.Ps?this.Ps.next():Z.ot),"readwrite-primary"===t?this.ai(T).next(H=>!!H||this.hi(T)).next(H=>{if(!H)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new xt(it.FAILED_PRECONDITION,js);return o(T)}).next(H=>this.fi(T).next(()=>H)):this.bi(T).next(()=>o(T)))).then(O=>(T.raiseOnCommittedEvent(),O))}bi(e){return ac(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xt(it.FAILED_PRECONDITION,gh)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ac(e).put("owner",t)}static V(){return Ys.V()}li(e){const t=ac(e);return t.get("owner").next(o=>this.di(o)?(Dt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}mi(e,t){const o=Date.now();return!(e<o-t||e>o&&(jr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,vt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const o=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Dt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return jr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ac(i){return wo(i,"owner")}function mh(i){return wo(i,"clientMetadata")}function yh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Kf{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Pi=o,this.vi=u}static Vi(e,t){let o=gr(),u=gr();for(const c of t.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new Kf(e,t.fromCache,o,u)}}class Yg{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Ci(e,t).next(c=>c||this.xi(e,t,u,o)).next(c=>c||this.Ni(e,t))}Ci(e,t){if(Yo(t))return Je.resolve(null);let o=Fo(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Hl(t,null,"F"),o=Fo(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const p=gr(...c);return this.Di.getDocuments(e,p).next(T=>this.indexManager.getMinOffset(e,o).next(O=>{const H=this.ki(t,T);return this.Mi(t,H,p,O.readTime)?this.Ci(e,Hl(t,null,"F")):this.Oi(e,H,t,O)}))})))}xi(e,t,o,u){return Yo(t)||u.isEqual(Nn.min())?this.Ni(e,t):this.Di.getDocuments(e,o).next(c=>{const p=this.ki(t,c);return this.Mi(t,p,o,u)?this.Ni(e,t):(Co()<=en.in.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),sl(t)),this.Oi(e,p,t,hu(u,-1)))})}ki(e,t){let o=new Dn(zd(e));return t.forEach((u,c)=>{Hc(e,c)&&(o=o.add(c))}),o}Mi(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Ni(e,t){return Co()<=en.in.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",sl(t)),this.Di.getDocumentsMatchingQuery(e,t,ko.min())}Oi(e,t,o,u){return this.Di.getDocumentsMatchingQuery(e,o,u).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class Ua{constructor(e,t,o,u){this.persistence=e,this.Fi=t,this.wt=u,this.$i=new Rt(qn),this.Bi=new Jo(c=>qa(c),Za),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zf(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Qg(i,e,t,o){return new Ua(i,e,t,o)}function qf(i,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,oe.Z)(function*(i,e){const t=Zt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(c=>(u=c,t.qi(e),t.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],T=[];let O=gr();for(const H of u){p.push(H.batchId);for(const te of H.mutations)O=O.add(te.key)}for(const H of c){T.push(H.batchId);for(const te of H.mutations)O=O.add(te.key)}return t.localDocuments.getDocuments(o,O).next(H=>({Ki:H,removedBatchIds:p,addedBatchIds:T}))})})}),Zf.apply(this,arguments)}function av(i,e){const t=Zt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),c=t.Ui.newChangeBuffer({trackRemovals:!0});return function(p,T,O,H){const te=O.batch,Ie=te.keys();let Qe=Je.resolve();return Ie.forEach(Et=>{Qe=Qe.next(()=>H.getEntry(T,Et)).next(Tt=>{const fn=O.docVersions.get(Et);Vn(null!==fn),Tt.version.compareTo(fn)<0&&(te.applyToRemoteDocument(Tt,O),Tt.isValidDocument()&&(Tt.setReadTime(O.commitVersion),H.addEntry(Tt)))})}),Qe.next(()=>p.mutationQueue.removeMutationBatch(T,te))}(t,o,e,c).next(()=>c.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let T=gr();for(let O=0;O<p.mutationResults.length;++O)p.mutationResults[O].transformResults.length>0&&(T=T.add(p.batch.mutations[O].key));return T}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function Jg(i){const e=Zt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function uv(i,e){const t=Zt(i),o=e.snapshotVersion;let u=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Ui.newChangeBuffer({trackRemovals:!0});u=t.$i;const T=[];e.targetChanges.forEach((te,Ie)=>{const Qe=u.get(Ie);if(!Qe)return;T.push(t.Vs.removeMatchingKeys(c,te.removedDocuments,Ie).next(()=>t.Vs.addMatchingKeys(c,te.addedDocuments,Ie)));let Et=Qe.withSequenceNumber(c.currentSequenceNumber);var Tt,fn,An;e.targetMismatches.has(Ie)?Et=Et.withResumeToken(hs.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):te.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(te.resumeToken,o)),u=u.insert(Ie,Et),fn=Et,An=te,(0===(Tt=Qe).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-Tt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&T.push(t.Vs.updateTargetData(c,Et))});let O=vo(),H=gr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(c,te))}),T.push(Yf(c,p,e.documentUpdates).next(te=>{O=te.Gi,H=te.Qi})),!o.isEqual(Nn.min())){const te=t.Vs.getLastRemoteSnapshotVersion(c).next(Ie=>t.Vs.setTargetsMetadata(c,c.currentSequenceNumber,o));T.push(te)}return Je.waitFor(T).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,O,H)).next(()=>O)}).then(c=>(t.$i=u,c))}function Yf(i,e,t){let o=gr(),u=gr();return t.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let p=vo();return t.forEach((T,O)=>{const H=c.get(T);O.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(T)),O.isNoDocument()&&O.version.isEqual(Nn.min())?(e.removeEntry(T,O.readTime),p=p.insert(T,O)):!H.isValidDocument()||O.version.compareTo(H.version)>0||0===O.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(O),p=p.insert(T,O)):Dt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",O.version)}),{Gi:p,Qi:u}})}function lv(i,e){const t=Zt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function uc(i,e){const t=Zt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Vs.getTargetData(o,e).next(c=>c?(u=c,Je.resolve(u)):t.Vs.allocateTargetId(o).next(p=>(u=new Du(e,p,0,o.currentSequenceNumber),t.Vs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.$i.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.$i=t.$i.insert(o.targetId,o),t.Bi.set(e,o.targetId)),o})}function lc(i,e,t){return fr.apply(this,arguments)}function fr(){return fr=(0,oe.Z)(function*(i,e,t){const o=Zt(i),u=o.$i.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!go(p))throw p;Dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.$i=o.$i.remove(e),o.Bi.delete(u.target)}),fr.apply(this,arguments)}function nd(i,e,t){const o=Zt(i);let u=Nn.min(),c=gr();return o.persistence.runTransaction("Execute query","readonly",p=>function(T,O,H){const te=Zt(T),Ie=te.Bi.get(H);return void 0!==Ie?Je.resolve(te.$i.get(Ie)):te.Vs.getTargetData(O,H)}(o,p,Fo(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(p,T.targetId).next(O=>{c=O})}).next(()=>o.Fi.getDocumentsMatchingQuery(p,e,t?u:Nn.min(),t?c:gr())).next(T=>(Xg(o,Hd(e),T),{documents:T,ji:c})))}function Qf(i,e){const t=Zt(i),o=Zt(t.Vs),u=t.$i.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",c=>o.te(c,e).next(p=>p?p.target:null))}function Jf(i,e){const t=Zt(i),o=t.Li.get(e)||Nn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Ui.getAllFromCollectionGroup(u,e,hu(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Xg(t,e,u),u))}function Xg(i,e,t){let o=Nn.min();t.forEach((u,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.Li.set(e,o)}function vh(){return vh=(0,oe.Z)(function*(i,e,t,o){const u=Zt(i);let c=gr(),p=vo();for(const H of t){const te=e.Wi(H.metadata.name);H.document&&(c=c.add(te));const Ie=e.zi(H);Ie.setReadTime(e.Hi(H.metadata.readTime)),p=p.insert(te,Ie)}const T=u.Ui.newChangeBuffer({trackRemovals:!0}),O=yield uc(u,(H=o,Fo(Pu(Cr.fromString(`__bundle__/docs/${H}`)))));var H;return u.persistence.runTransaction("Apply bundle documents","readwrite",H=>Yf(H,T,p).next(te=>(T.apply(H),te)).next(te=>u.Vs.removeMatchingKeysForTargetId(H,O.targetId).next(()=>u.Vs.addMatchingKeys(H,c,O.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(H,te.Gi,te.Qi)).next(()=>te.Gi)))}),vh.apply(this,arguments)}function dv(i,e){return _h.apply(this,arguments)}function _h(){return _h=(0,oe.Z)(function*(i,e,t=gr()){const o=yield uc(i,Fo(Ff(e.bundledQuery))),u=Zt(i);return u.persistence.runTransaction("Save named query","readwrite",c=>{const p=_o(e.readTime);if(o.snapshotVersion.compareTo(p)>=0)return u.Ds.saveNamedQuery(c,e);const T=o.withResumeToken(hs.EMPTY_BYTE_STRING,p);return u.$i=u.$i.insert(T.targetId,T),u.Vs.updateTargetData(c,T).next(()=>u.Vs.removeMatchingKeysForTargetId(c,o.targetId)).next(()=>u.Vs.addMatchingKeys(c,t,o.targetId)).next(()=>u.Ds.saveNamedQuery(c,e))})}),_h.apply(this,arguments)}function em(i,e){return`firestore_clients_${i}_${e}`}function tm(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function nm(i,e){return`firestore_targets_${i}_${e}`}class rd{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Ji(e,t,o){const u=JSON.parse(o);let c,p="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return p&&u.error&&(p="string"==typeof u.error.message&&"string"==typeof u.error.code,p&&(c=new xt(u.error.code,u.error.message))),p?new rd(e,t,u.state,c):(jr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let u,c="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(u=new xt(o.error.code,o.error.message))),c?new cc(e,o.state,u):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ru{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,c=qc();for(let p=0;u&&p<o.activeTargetIds.length;++p)u=on(o.activeTargetIds[p]),c=c.add(o.activeTargetIds[p]);return u?new ru(e,c):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xf{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xf(t.clientId,t.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class id{constructor(){this.activeTargetIds=qc()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sd{constructor(e,t,o,u,c){this.window=e,this.js=t,this.persistenceKey=o,this.tr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Rt(qn),this.started=!1,this.ir=[];const p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.rr=em(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new id),this.cr=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,oe.Z)(function*(){const t=yield e.syncEngine.Ri();for(const u of t){if(u===e.tr)continue;const c=e.getItem(em(e.persistenceKey,u));if(c){const p=ru.Ji(u,c);p&&(e.sr=e.sr.insert(p.clientId,p))}}e._r();const o=e.storage.getItem(e.lr);if(o){const u=e.wr(o);u&&e.mr(u)}for(const u of e.ir)e.nr(u);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(nm(this.persistenceKey,e));if(o){const u=cc.Ji(e,o);u&&(t=u.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nm(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.pr(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Dt("SharedClientState","READ",e,t),t}setItem(e,t){Dt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Dt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,oe.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const u=t.Rr(o.key);return t.br(u,null)}{const u=t.Pr(o.key,o.newValue);if(u)return t.br(u.clientId,u)}}else if(t.ar.test(o.key)){if(null!==o.newValue){const u=t.vr(o.key,o.newValue);if(u)return t.Vr(u)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const u=t.Sr(o.key,o.newValue);if(u)return t.Dr(u)}}else if(o.key===t.lr){if(null!==o.newValue){const u=t.wr(o.newValue);if(u)return t.mr(u)}}else if(o.key===t.ur){const u=function(c){let p=Z.ot;if(null!=c)try{const T=JSON.parse(c);Vn("number"==typeof T),p=T}catch(T){jr("SharedClientState","Failed to read sequence number from WebStorage",T)}return p}(o.newValue);u!==Z.ot&&t.sequenceNumberHandler(u)}else if(o.key===t.dr){const u=t.Cr(o.newValue);yield Promise.all(u.map(c=>t.syncEngine.Nr(c)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const u=new rd(this.currentUser,e,t,o),c=tm(this.persistenceKey,this.currentUser,e);this.setItem(c,u.Yi())}pr(e){const t=tm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const u=nm(this.persistenceKey,e),c=new cc(e,t,o);this.setItem(u,c.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return ru.Ji(o,t)}vr(e,t){const o=this.ar.exec(e),u=Number(o[1]);return rd.Ji(new Or(void 0!==o[2]?o[2]:null),u,t)}Sr(e,t){const o=this.hr.exec(e),u=Number(o[1]);return cc.Ji(u,t)}wr(e){return Xf.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Dt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),u=this.gr(this.sr),c=this.gr(o),p=[],T=[];return c.forEach(O=>{u.has(O)||p.push(O)}),u.forEach(O=>{c.has(O)||T.push(O)}),this.syncEngine.Or(p,T).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=qc();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class rm{constructor(){this.Fr=new id,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new id,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X_{Br(e){}shutdown(){}}class hv{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const e0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class fv{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class im extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,u,c){const p=this.oo(e,t);Dt("RestConnection","Sending: ",p,o);const T={};return this.uo(T,u,c),this.co(e,p,T,o).then(O=>(Dt("RestConnection","Received: ",O),O),O=>{throw Zi("RestConnection",`${e} failed with error: `,O,"url: ",p,"request:",o),O})}ao(e,t,o,u,c,p){return this.ro(e,t,o,u,c)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+xi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,c)=>e[c]=u),o&&o.headers.forEach((u,c)=>e[c]=u)}oo(e,t){return`${this.so}/v1/${t}:${e0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,u){return new Promise((c,p)=>{const T=new Ki;T.listenOnce(ns.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Wi.NO_ERROR:const H=T.getResponseJson();Dt("Connection","XHR received:",JSON.stringify(H)),c(H);break;case Wi.TIMEOUT:Dt("Connection",'RPC "'+e+'" timed out'),p(new xt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Wi.HTTP_ERROR:const te=T.getStatus();if(Dt("Connection",'RPC "'+e+'" failed with status:',te,"response text:",T.getResponseText()),te>0){const Ie=T.getResponseJson().error;if(Ie&&Ie.status&&Ie.message){const Qe=function(Et){const Tt=Et.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Tt)>=0?Tt:it.UNKNOWN}(Ie.status);p(new xt(Qe,Ie.message))}else p(new xt(it.UNKNOWN,"Server responded with status "+T.getStatus()))}else p(new xt(it.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{Dt("Connection",'RPC "'+e+'" completed.')}});const O=JSON.stringify(u);T.send(t,"POST",O,o,15)})}ho(e,t,o){const u=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qr(),p=pr(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new Mn({})),this.uo(T.initMessageHeaders,t,o),(0,vt.uI)()||(0,vt.b$)()||(0,vt.d)()||(0,vt.w1)()||(0,vt.Mn)()||(0,vt.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const O=u.join("");Dt("Connection","Creating WebChannel: "+O,T);const H=c.createWebChannel(O,T);let te=!1,Ie=!1;const Qe=new fv({jr:Tt=>{Ie?Dt("Connection","Not sending because WebChannel is closed:",Tt):(te||(Dt("Connection","Opening WebChannel transport."),H.open(),te=!0),Dt("Connection","WebChannel sending:",Tt),H.send(Tt))},Wr:()=>H.close()}),Et=(Tt,fn,An)=>{Tt.listen(fn,Qr=>{try{An(Qr)}catch(Ui){setTimeout(()=>{throw Ui},0)}})};return Et(H,Jn.EventType.OPEN,()=>{Ie||Dt("Connection","WebChannel transport opened.")}),Et(H,Jn.EventType.CLOSE,()=>{Ie||(Ie=!0,Dt("Connection","WebChannel transport closed"),Qe.eo())}),Et(H,Jn.EventType.ERROR,Tt=>{Ie||(Ie=!0,Zi("Connection","WebChannel transport errored:",Tt),Qe.eo(new xt(it.UNAVAILABLE,"The operation could not be completed")))}),Et(H,Jn.EventType.MESSAGE,Tt=>{var fn;if(!Ie){const An=Tt.data[0];Vn(!!An);const Qr=An,Ui=Qr.error||(null===(fn=Qr[0])||void 0===fn?void 0:fn.error);if(Ui){Dt("Connection","WebChannel received error:",Ui);const pi=Ui.status;let Yi=function(bi){const uo=Pi[bi];if(void 0!==uo)return Zd(uo)}(pi),ai=Ui.message;void 0===Yi&&(Yi=it.INTERNAL,ai="Unknown error status: "+pi+" with message "+Ui.message),Ie=!0,Qe.eo(new xt(Yi,ai)),H.close()}else Dt("Connection","WebChannel received:",An),Qe.no(An)}}),Et(p,cn.STAT_EVENT,Tt=>{Tt.stat===In.PROXY?Dt("Connection","Detected buffering proxy"):Tt.stat===In.NOPROXY&&Dt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Qe.Zr()},0),Qe}}function pv(){return typeof window<"u"?window:null}function wh(){return typeof document<"u"?document:null}function iu(i){return new Fy(i,!0)}class ep{constructor(e,t,o=1e3,u=1.5,c=6e4){this.js=e,this.timerId=t,this.lo=o,this.fo=u,this._o=c,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),u=Math.max(0,t-o);u>0&&Dt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,u,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class tp{constructor(e,t,o,u,c,p,T,O){this.js=e,this.Ao=o,this.Ro=u,this.bo=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=T,this.listener=O,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ep(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,oe.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,oe.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var o=this;return(0,oe.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===it.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===it.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Po===t&&this.Uo(o,u)},o=>{e(()=>{const u=new xt(it.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(u)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(u=>{o(()=>this.qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}xo(){var e=this;this.state=5,this.So.Io((0,oe.Z)(function*(){e.state=0,e.start()}))}qo(e){return Dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bh extends tp{constructor(e,t,o,u,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,p),this.wt=c}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Ql(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:hn(),u=e.targetChange.targetIds||[],c=function(O,H){return O.dt?(Vn(void 0===H||"string"==typeof H),hs.fromBase64String(H||"")):(Vn(void 0===H||H instanceof Uint8Array),hs.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,T=p&&function(O){const H=void 0===O.code?it.UNKNOWN:Zd(O.code);return new xt(H,O.message||"")}(p);t=new wg(o,u,c,T||null)}else if("documentChange"in e){const o=e.documentChange,u=eu(i,o.document.name),c=_o(o.document.updateTime),p=new ao({mapValue:{fields:o.document.fields}}),T=hi.newFoundDocument(u,c,p);t=new Kl(o.targetIds||[],o.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const o=e.documentDelete,u=eu(i,o.document),c=o.readTime?_o(o.readTime):Nn.min(),p=hi.newNoDocument(u,c);t=new Kl([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,u=eu(i,o.document);t=new Kl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return hn();{const o=e.filter,c=new Mo(o.count||0);t=new Yc(o.targetId,c)}}var O;return t}(this.wt,e),o=function(u){if(!("targetChange"in u))return Nn.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Nn.min():c.readTime?_o(c.readTime):Nn.min()}(e);return this.listener.Go(t,o)}Qo(e){const t={};t.database=Zl(this.wt),t.addTarget=function(u,c){let p;const T=c.target;return p=Lc(T)?{documents:Tf(u,T)}:{query:Dg(u,T)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?p.resumeToken=dl(u,c.resumeToken):c.snapshotVersion.compareTo(Nn.min())>0&&(p.readTime=ql(u,c.snapshotVersion.toTimestamp())),p}(this.wt,e);const o=function By(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Oo(t)}jo(e){const t={};t.database=Zl(this.wt),t.removeTarget=e,this.Oo(t)}}class gv extends tp{constructor(e,t,o,u,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,p),this.wt=c,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function W_(i,e){return i&&i.length>0?(Vn(void 0!==e),i.map(t=>function(o,u){let c=_o(o.updateTime?o.updateTime:u);return c.isEqual(Nn.min())&&(c=_o(u)),new wf(c,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=_o(e.commitTime);return this.listener.Jo(o,t)}return Vn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Zl(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Eu(this.wt,o))};this.Oo(t)}}class sm extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.wt=u,this.Zo=!1}tu(){if(this.Zo)throw new xt(it.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.bo.ro(e,t,o,u,c)).catch(u=>{throw"FirebaseError"===u.name?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(it.UNKNOWN,u.toString())})}ao(e,t,o,u){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.bo.ao(e,t,o,c,p,u)).catch(c=>{throw"FirebaseError"===c.name?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xt(it.UNKNOWN,c.toString())})}terminate(){this.Zo=!0}}class mv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(jr(t),this.su=!1):Dt("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class yv{constructor(e,t,o,u,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=c,this.du.Br(T=>{o.enqueueAndForget((0,oe.Z)(function*(){var O;Uu(p)&&(Dt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,oe.Z)(function*(H){const te=Zt(H);te.lu.add(4),yield dc(te),te._u.set("Unknown"),te.lu.delete(4),yield od(te)}),function(H){return O.apply(this,arguments)})(p))}))}),this._u=new mv(o,u)}}function od(i){return np.apply(this,arguments)}function np(){return np=(0,oe.Z)(function*(i){if(Uu(i))for(const e of i.fu)yield e(!0)}),np.apply(this,arguments)}function dc(i){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,oe.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Eh.apply(this,arguments)}function Ih(i,e){const t=Zt(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),ad(t)?om(t):mc(t).Co()&&Dh(t,e))}function hc(i,e){const t=Zt(i),o=mc(t);t.hu.delete(e),o.Co()&&Th(t,e),0===t.hu.size&&(o.Co()?o.ko():Uu(t)&&t._u.set("Unknown"))}function Dh(i,e){i.wu.Nt(e.targetId),mc(i).Qo(e)}function Th(i,e){i.wu.Nt(e),mc(i).jo(e)}function om(i){i.wu=new Qd({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),mc(i).start(),i._u.iu()}function ad(i){return Uu(i)&&!mc(i).Do()&&i.hu.size>0}function Uu(i){return 0===Zt(i).lu.size}function vv(i){i.wu=void 0}function fc(i){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,oe.Z)(function*(i){i.hu.forEach((e,t)=>{Dh(i,e)})}),Ch.apply(this,arguments)}function am(i,e){return pc.apply(this,arguments)}function pc(){return pc=(0,oe.Z)(function*(i,e){vv(i),ad(i)?(i._u.uu(e),om(i)):i._u.set("Unknown")}),pc.apply(this,arguments)}function Ba(i,e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,oe.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof wg&&2===e.state&&e.cause)try{yield(o=(0,oe.Z)(function*(u,c){const p=c.cause;for(const T of c.targetIds)u.hu.has(T)&&(yield u.remoteSyncer.rejectListen(T,p),u.hu.delete(T),u.wu.removeTarget(T))}),function(u,c){return o.apply(this,arguments)})(i,e)}catch(o){Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ah(i,o)}else if(e instanceof Kl?i.wu.Ut(e):e instanceof Yc?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(Nn.min()))try{const o=yield Jg(i.localStore);t.compareTo(o)>=0&&(yield function(u,c){const p=u.wu.Yt(c);return p.targetChanges.forEach((T,O)=>{if(T.resumeToken.approximateByteSize()>0){const H=u.hu.get(O);H&&u.hu.set(O,H.withResumeToken(T.resumeToken,c))}}),p.targetMismatches.forEach(T=>{const O=u.hu.get(T);if(!O)return;u.hu.set(T,O.withResumeToken(hs.EMPTY_BYTE_STRING,O.snapshotVersion)),Th(u,T);const H=new Du(O.target,T,1,O.sequenceNumber);Dh(u,H)}),u.remoteSyncer.applyRemoteEvent(p)}(i,t))}catch(o){Dt("RemoteStore","Failed to raise snapshot:",o),yield Ah(i,o)}var o}),Sh.apply(this,arguments)}function Ah(i,e,t){return ud.apply(this,arguments)}function ud(){return ud=(0,oe.Z)(function*(i,e,t){if(!go(e))throw e;i.lu.add(1),yield dc(i),i._u.set("Offline"),t||(t=()=>Jg(i.localStore)),i.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){Dt("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield od(i)}))}),ud.apply(this,arguments)}function su(i,e){return e().catch(t=>Ah(i,t,e))}function Bu(i){return xh.apply(this,arguments)}function xh(){return xh=(0,oe.Z)(function*(i){const e=Zt(i),t=wl(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;rp(e);)try{const u=yield lv(e.localStore,o);if(null===u){0===e.au.length&&t.ko();break}o=u.batchId,t0(e,u)}catch(u){yield Ah(e,u)}ip(e)&&_v(e)}),xh.apply(this,arguments)}function rp(i){return Uu(i)&&i.au.length<10}function t0(i,e){i.au.push(e);const t=wl(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function ip(i){return Uu(i)&&!wl(i).Do()&&i.au.length>0}function _v(i){wl(i).start()}function Mh(i){return gc.apply(this,arguments)}function gc(){return gc=(0,oe.Z)(function*(i){wl(i).Xo()}),gc.apply(this,arguments)}function sp(i){return ld.apply(this,arguments)}function ld(){return ld=(0,oe.Z)(function*(i){const e=wl(i);for(const t of i.au)e.Ho(t.mutations)}),ld.apply(this,arguments)}function op(i,e,t){return um.apply(this,arguments)}function um(){return um=(0,oe.Z)(function*(i,e,t){const o=i.au.shift(),u=No.from(o,e,t);yield su(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Bu(i)}),um.apply(this,arguments)}function wv(i,e){return ap.apply(this,arguments)}function ap(){return ap=(0,oe.Z)(function*(i,e){var t;e&&wl(i).zo&&(yield(t=(0,oe.Z)(function*(o,u){if(Wc(c=u.code)&&c!==it.ABORTED){const p=o.au.shift();wl(o).No(),yield su(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield Bu(o)}var c}),function(o,u){return t.apply(this,arguments)})(i,e)),ip(i)&&_v(i)}),ap.apply(this,arguments)}function lm(i,e){return up.apply(this,arguments)}function up(){return up=(0,oe.Z)(function*(i,e){const t=Zt(i);t.asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials");const o=Uu(t);t.lu.add(3),yield dc(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield od(t)}),up.apply(this,arguments)}function Nh(i,e){return cm.apply(this,arguments)}function cm(){return cm=(0,oe.Z)(function*(i,e){const t=Zt(i);e?(t.lu.delete(2),yield od(t)):e||(t.lu.add(2),yield dc(t),t._u.set("Unknown"))}),cm.apply(this,arguments)}function mc(i){return i.mu||(i.mu=function(e,t,o){const u=Zt(e);return u.tu(),new bh(t,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,o)}(i.datastore,i.asyncQueue,{zr:fc.bind(null,i),Jr:am.bind(null,i),Go:Ba.bind(null,i)}),i.fu.push(function(){var e=(0,oe.Z)(function*(t){t?(i.mu.No(),ad(i)?om(i):i._u.set("Unknown")):(yield i.mu.stop(),vv(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function wl(i){return i.gu||(i.gu=function(e,t,o){const u=Zt(e);return u.tu(),new gv(t,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,o)}(i.datastore,i.asyncQueue,{zr:Mh.bind(null,i),Jr:wv.bind(null,i),Yo:sp.bind(null,i),Jo:op.bind(null,i)}),i.fu.push(function(){var e=(0,oe.Z)(function*(t){t?(i.gu.No(),yield Bu(i)):(yield i.gu.stop(),i.au.length>0&&(Dt("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class Rh{constructor(e,t,o,u,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,o,u,c){const p=Date.now()+o,T=new Rh(e,t,p,u,c);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bl(i,e){if(jr("AsyncQueue",`${e}: ${i}`),go(i))return new xt(it.UNAVAILABLE,`${e}: ${i}`);throw i}class yc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||tn.comparator(t.key,o.key):(t,o)=>tn.comparator(t.key,o.key),this.keyedMap=Xa(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new yc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new yc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Ph{constructor(){this.yu=new Rt(tn.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):hn():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class cd{constructor(e,t,o,u,c,p,T,O){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=T,this.excludesMetadataChanges=O}static fromInitialDocuments(e,t,o,u){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new cd(e,t,yc.emptySet(t),c,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class n0{constructor(){this.Iu=void 0,this.listeners=[]}}class r0{constructor(){this.queries=new Jo(e=>$c(e),il),this.onlineState="Unknown",this.Tu=new Set}}function dm(i,e){return hm.apply(this,arguments)}function hm(){return hm=(0,oe.Z)(function*(i,e){const t=Zt(i),o=e.query;let u=!1,c=t.queries.get(o);if(c||(u=!0,c=new n0),u)try{c.Iu=yield t.onListen(o)}catch(p){const T=bl(p,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(T)}t.queries.set(o,c),c.listeners.push(e),e.Eu(t.onlineState),c.Iu&&e.Au(c.Iu)&&gm(t)}),hm.apply(this,arguments)}function fm(i,e){return pm.apply(this,arguments)}function pm(){return pm=(0,oe.Z)(function*(i,e){const t=Zt(i),o=e.query;let u=!1;const c=t.queries.get(o);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),u=0===c.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),pm.apply(this,arguments)}function s0(i,e){const t=Zt(i);let o=!1;for(const u of e){const p=t.queries.get(u.query);if(p){for(const T of p.listeners)T.Au(u)&&(o=!0);p.Iu=u}}o&&gm(t)}function o0(i,e,t){const o=Zt(i),u=o.queries.get(e);if(u)for(const c of u.listeners)c.onError(t);o.queries.delete(e)}function gm(i){i.Tu.forEach(e=>{e.next()})}class ou{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new cd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class lp{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class mm{constructor(e){this.wt=e}Wi(e){return eu(this.wt,e)}zi(e){return e.metadata.exists?Yl(this.wt,e.document,!1):hi.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return _o(e)}}class ym{constructor(e,t,o){this.xu=e,this.localStore=t,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Oh(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Cr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new mm(this.wt);for(const u of e)if(u.metadata.queries){const c=o.Wi(u.metadata.name);for(const p of u.metadata.queries){const T=(t.get(p)||gr()).add(c);t.set(p,T)}}return t}complete(){var e=this;return(0,oe.Z)(function*(){const t=yield function cv(i,e,t,o){return vh.apply(this,arguments)}(e.localStore,new mm(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const u of e.queries)yield dv(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function Oh(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cp{constructor(e){this.key=e}}class kh{constructor(e){this.key=e}}class vm{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=gr(),this.mutatedKeys=gr(),this.Lu=zd(e),this.Uu=new yc(this.Lu)}get qu(){return this.Fu}Ku(e,t){const o=t?t.Gu:new Ph,u=t?t.Uu:this.Uu;let c=t?t.mutatedKeys:this.mutatedKeys,p=u,T=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,Ie)=>{const Qe=u.get(te),Et=Hc(this.query,Ie)?Ie:null,Tt=!!Qe&&this.mutatedKeys.has(Qe.key),fn=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let An=!1;Qe&&Et?Qe.data.isEqual(Et.data)?Tt!==fn&&(o.track({type:3,doc:Et}),An=!0):this.Qu(Qe,Et)||(o.track({type:2,doc:Et}),An=!0,(O&&this.Lu(Et,O)>0||H&&this.Lu(Et,H)<0)&&(T=!0)):!Qe&&Et?(o.track({type:0,doc:Et}),An=!0):Qe&&!Et&&(o.track({type:1,doc:Qe}),An=!0,(O||H)&&(T=!0)),An&&(Et?(p=p.add(Et),c=fn?c.add(te):c.delete(te)):(p=p.delete(te),c=c.delete(te)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const te="F"===this.query.limitType?p.last():p.first();p=p.delete(te.key),c=c.delete(te.key),o.track({type:1,doc:te})}return{Uu:p,Gu:o,Mi:T,mutatedKeys:c}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const c=e.Gu.pu();c.sort((H,te)=>function(Ie,Qe){const Et=Tt=>{switch(Tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return Et(Ie)-Et(Qe)}(H.type,te.type)||this.Lu(H.doc,te.doc)),this.ju(o);const p=t?this.Wu():[],T=0===this.Bu.size&&this.current?1:0,O=T!==this.$u;return this.$u=T,0!==c.length||O?{snapshot:new cd(this.query,e.Uu,u,c,e.mutatedKeys,0===T,O,!1),zu:p}:{zu:p}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Ph,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=gr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new kh(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new cp(o))}),t}Ju(e){this.Fu=e.ji,this.Bu=gr();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return cd.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class ju{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class _m{constructor(e){this.key=e,this.Xu=!1}}class bv{constructor(e,t,o,u,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Zu={},this.tc=new Jo(T=>$c(T),il),this.ec=new Map,this.nc=new Set,this.sc=new Rt(tn.comparator),this.ic=new Map,this.rc=new hh,this.oc={},this.uc=new Map,this.cc=yl.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function dp(i,e){return hp.apply(this,arguments)}function hp(){return hp=(0,oe.Z)(function*(i,e){const t=Tp(i);let o,u;const c=t.tc.get(e);if(c)o=c.targetId,t.sharedClientState.addLocalQueryTarget(o),u=c.view.Yu();else{const p=yield uc(t.localStore,Fo(e));t.isPrimaryClient&&Ih(t.remoteStore,p);const T=t.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,u=yield Fh(t,e,o,"current"===T)}return u}),hp.apply(this,arguments)}function Fh(i,e,t,o){return fp.apply(this,arguments)}function fp(){return fp=(0,oe.Z)(function*(i,e,t,o){i.hc=(te,Ie,Qe)=>{return(Et=(0,oe.Z)(function*(Tt,fn,An,Qr){let Ui=fn.view.Ku(An);Ui.Mi&&(Ui=yield nd(Tt.localStore,fn.query,!1).then(({documents:ai})=>fn.view.Ku(ai,Ui)));const pi=Qr&&Qr.targetChanges.get(fn.targetId),Yi=fn.view.applyChanges(Ui,Tt.isPrimaryClient,pi);return Uh(Tt,fn.targetId,Yi.zu),Yi.snapshot}),function(Tt,fn,An,Qr){return Et.apply(this,arguments)})(i,te,Ie,Qe);var Et};const u=yield nd(i.localStore,e,!0),c=new vm(e,u.ji),p=c.Ku(u.documents),T=Zc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),O=c.applyChanges(p,i.isPrimaryClient,T);Uh(i,t,O.zu);const H=new ju(e,t,c);return i.tc.set(e,H),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),O.snapshot}),fp.apply(this,arguments)}function Ev(i,e){return vc.apply(this,arguments)}function vc(){return vc=(0,oe.Z)(function*(i,e){const t=Zt(i),o=t.tc.get(e),u=t.ec.get(o.targetId);if(u.length>1)return t.ec.set(o.targetId,u.filter(c=>!il(c,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield lc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),hc(t.remoteStore,o.targetId),Il(t,o.targetId)}).catch(qo))):(Il(t,o.targetId),yield lc(t.localStore,o.targetId,!0))}),vc.apply(this,arguments)}function dd(){return dd=(0,oe.Z)(function*(i,e,t){const o=Sm(i);try{const u=yield function(c,p){const T=Zt(c),O=Mi.now(),H=p.reduce((Qe,Et)=>Qe.add(Et.key),gr());let te,Ie;return T.persistence.runTransaction("Locally write mutations","readwrite",Qe=>{let Et=vo(),Tt=gr();return T.Ui.getEntries(Qe,H).next(fn=>{Et=fn,Et.forEach((An,Qr)=>{Qr.isValidDocument()||(Tt=Tt.add(An))})}).next(()=>T.localDocuments.getOverlayedDocuments(Qe,Et)).next(fn=>{te=fn;const An=[];for(const Qr of p){const Ui=j(Qr,te.get(Qr.key).overlayedDocument);null!=Ui&&An.push(new st(Qr.key,Ui,Fl(Ui.value.mapValue),ps.exists(!0)))}return T.mutationQueue.addMutationBatch(Qe,O,An,p)}).next(fn=>{Ie=fn;const An=fn.applyToLocalDocumentSet(te,Tt);return T.documentOverlayCache.saveOverlays(Qe,fn.batchId,An)})}).then(()=>({batchId:Ie.batchId,changes:Kc(te)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(c,p,T){let O=c.oc[c.currentUser.toKey()];O||(O=new Rt(qn)),O=O.insert(p,T),c.oc[c.currentUser.toKey()]=O}(o,u.batchId,t),yield Hs(o,u.changes),yield Bu(o.remoteStore)}catch(u){const c=bl(u,"Failed to persist write");t.reject(c)}}),dd.apply(this,arguments)}function El(i,e){return wc.apply(this,arguments)}function wc(){return wc=(0,oe.Z)(function*(i,e){const t=Zt(i);try{const o=yield uv(t.localStore,e);e.targetChanges.forEach((u,c)=>{const p=t.ic.get(c);p&&(Vn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.Xu=!0:u.modifiedDocuments.size>0?Vn(p.Xu):u.removedDocuments.size>0&&(Vn(p.Xu),p.Xu=!1))}),yield Hs(t,o,e)}catch(o){yield qo(o)}}),wc.apply(this,arguments)}function bc(i,e,t){const o=Zt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.tc.forEach((c,p)=>{const T=p.view.Eu(e);T.snapshot&&u.push(T.snapshot)}),function(c,p){const T=Zt(c);T.onlineState=p;let O=!1;T.queries.forEach((H,te)=>{for(const Ie of te.listeners)Ie.Eu(p)&&(O=!0)}),O&&gm(T)}(o.eventManager,e),u.length&&o.Zu.Go(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Iv(i,e,t){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,oe.Z)(function*(i,e,t){const o=Zt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.ic.get(e),c=u&&u.key;if(c){let p=new Rt(tn.comparator);p=p.insert(c,hi.newNoDocument(c,Nn.min()));const T=gr().add(c),O=new Va(Nn.min(),new Map,new Dn(qn),p,T);yield El(o,O),o.sc=o.sc.remove(c),o.ic.delete(e),vp(o)}else yield lc(o.localStore,e,!1).then(()=>Il(o,e,t)).catch(qo)}),Lh.apply(this,arguments)}function wm(i,e){return hd.apply(this,arguments)}function hd(){return hd=(0,oe.Z)(function*(i,e){const t=Zt(i),o=e.batch.batchId;try{const u=yield av(t.localStore,e);yp(t,o,null),bm(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Hs(t,u)}catch(u){yield qo(u)}}),hd.apply(this,arguments)}function pp(i,e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,oe.Z)(function*(i,e,t){const o=Zt(i);try{const u=yield function(c,p){const T=Zt(c);return T.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let H;return T.mutationQueue.lookupMutationBatch(O,p).next(te=>(Vn(null!==te),H=te.keys(),T.mutationQueue.removeMutationBatch(O,te))).next(()=>T.mutationQueue.performConsistencyCheck(O)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(O,H,p)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,H)).next(()=>T.localDocuments.getDocuments(O,H))})}(o.localStore,e);yp(o,e,t),bm(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Hs(o,u)}catch(u){yield qo(u)}}),Vh.apply(this,arguments)}function mp(){return mp=(0,oe.Z)(function*(i,e){const t=Zt(i);Uu(t.remoteStore)||Dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(c){const p=Zt(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>p.mutationQueue.getHighestUnacknowledgedBatchId(T))}(t.localStore);if(-1===o)return void e.resolve();const u=t.uc.get(o)||[];u.push(e),t.uc.set(o,u)}catch(o){const u=bl(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),mp.apply(this,arguments)}function bm(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function yp(i,e,t){const o=Zt(i);let u=o.oc[o.currentUser.toKey()];if(u){const c=u.get(e);c&&(t?c.reject(t):c.resolve(),u=u.remove(e)),o.oc[o.currentUser.toKey()]=u}}function Il(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),t&&i.Zu.lc(o,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||Em(i,o)})}function Em(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(hc(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),vp(i))}function Uh(i,e,t){for(const o of t)o instanceof cp?(i.rc.addReference(o.key,e),Im(i,o)):o instanceof kh?(Dt("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||Em(i,o.key)):hn()}function Im(i,e){const t=e.key,o=t.path.canonicalString();i.sc.get(t)||i.nc.has(o)||(Dt("SyncEngine","New document in limbo: "+t),i.nc.add(o),vp(i))}function vp(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new tn(Cr.fromString(e)),o=i.cc.next();i.ic.set(o,new _m(t)),i.sc=i.sc.insert(t,o),Ih(i.remoteStore,new Du(Fo(Pu(t.path)),o,2,Z.ot))}}function Hs(i,e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,oe.Z)(function*(i,e,t){const o=Zt(i),u=[],c=[],p=[];var T;o.tc.isEmpty()||(o.tc.forEach((T,O)=>{p.push(o.hc(O,e,t).then(H=>{if(H){o.isPrimaryClient&&o.sharedClientState.updateQueryState(O.targetId,H.fromCache?"not-current":"current"),u.push(H);const te=Kf.Vi(O.targetId,H);c.push(te)}}))}),yield Promise.all(p),o.Zu.Go(u),yield(T=(0,oe.Z)(function*(O,H){const te=Zt(O);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>Je.forEach(H,Qe=>Je.forEach(Qe.Pi,Et=>te.persistence.referenceDelegate.addReference(Ie,Qe.targetId,Et)).next(()=>Je.forEach(Qe.vi,Et=>te.persistence.referenceDelegate.removeReference(Ie,Qe.targetId,Et)))))}catch(Ie){if(!go(Ie))throw Ie;Dt("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of H){const Qe=Ie.targetId;if(!Ie.fromCache){const Et=te.$i.get(Qe),fn=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);te.$i=te.$i.insert(Qe,fn)}}}),function(O,H){return T.apply(this,arguments)})(o.localStore,c))}),Bh.apply(this,arguments)}function Dv(i,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,oe.Z)(function*(i,e){const t=Zt(i);if(!t.currentUser.isEqual(e)){Dt("SyncEngine","User change. New user:",e.toKey());const o=yield qf(t.localStore,e);t.currentUser=e,(u=t).uc.forEach(p=>{p.forEach(T=>{T.reject(new xt(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.uc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Hs(t,o.Ki)}var u}),Dm.apply(this,arguments)}function Tv(i,e){const t=Zt(i),o=t.ic.get(e);if(o&&o.Xu)return gr().add(o.key);{let u=gr();const c=t.ec.get(e);if(!c)return u;for(const p of c){const T=t.tc.get(p);u=u.unionWith(T.view.qu)}return u}}function _p(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,oe.Z)(function*(i,e){const t=Zt(i),o=yield nd(t.localStore,e.query,!0),u=e.view.Ju(o);return t.isPrimaryClient&&Uh(t,e.targetId,u.zu),u}),jh.apply(this,arguments)}function Cv(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,oe.Z)(function*(i,e){const t=Zt(i);return Jf(t.localStore,e).then(o=>Hs(t,o))}),wp.apply(this,arguments)}function Sv(i,e,t,o){return $h.apply(this,arguments)}function $h(){return $h=(0,oe.Z)(function*(i,e,t,o){const u=Zt(i),c=yield function(p,T){const O=Zt(p),H=Zt(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",te=>H.yn(te,T).next(Ie=>Ie?O.localDocuments.getDocuments(te,Ie):Je.resolve(null)))}(u.localStore,e);var T;null!==c?("pending"===t?yield Bu(u.remoteStore):"acknowledged"===t||"rejected"===t?(yp(u,e,o||null),bm(u,e),T=e,Zt(Zt(u.localStore).mutationQueue).In(T)):hn(),yield Hs(u,c)):Dt("SyncEngine","Cannot apply mutation batch with id: "+e)}),$h.apply(this,arguments)}function Hh(){return Hh=(0,oe.Z)(function*(i,e){const t=Zt(i);if(Tp(t),Sm(t),!0===e&&!0!==t.ac){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Tm(t,o.toArray());t.ac=!0,yield Nh(t.remoteStore,!0);for(const c of u)Ih(t.remoteStore,c)}else if(!1===e&&!1!==t.ac){const o=[];let u=Promise.resolve();t.ec.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?o.push(p):u=u.then(()=>(Il(t,p),lc(t.localStore,p,!0))),hc(t.remoteStore,p)}),yield u,yield Tm(t,o),function(c){const p=Zt(c);p.ic.forEach((T,O)=>{hc(p.remoteStore,O)}),p.rc.cs(),p.ic=new Map,p.sc=new Rt(tn.comparator)}(t),t.ac=!1,yield Nh(t.remoteStore,!1)}}),Hh.apply(this,arguments)}function Tm(i,e,t){return bp.apply(this,arguments)}function bp(){return bp=(0,oe.Z)(function*(i,e,t){const o=Zt(i),u=[],c=[];for(const p of e){let T;const O=o.ec.get(p);if(O&&0!==O.length){T=yield uc(o.localStore,Fo(O[0]));for(const H of O){const te=o.tc.get(H),Ie=yield _p(o,te);Ie.snapshot&&c.push(Ie.snapshot)}}else{const H=yield Qf(o.localStore,p);T=yield uc(o.localStore,H),yield Fh(o,Ep(H),p,!1)}u.push(T)}return o.Zu.Go(c),u}),bp.apply(this,arguments)}function Ep(i){return Uc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Cm(i){const e=Zt(i);return Zt(Zt(e.localStore).persistence).Ri()}function xv(i,e,t,o){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,oe.Z)(function*(i,e,t,o){const u=Zt(i);if(u.ac)return void Dt("SyncEngine","Ignoring unexpected query state notification.");const c=u.ec.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield Jf(u.localStore,Hd(c[0])),T=Va.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Hs(u,p,T);break}case"rejected":yield lc(u.localStore,e,!0),Il(u,e,o);break;default:hn()}}),Ma.apply(this,arguments)}function Ip(i,e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,oe.Z)(function*(i,e,t){const o=Tp(i);if(o.ac){for(const u of e){if(o.ec.has(u)){Dt("SyncEngine","Adding an already active target "+u);continue}const c=yield Qf(o.localStore,u),p=yield uc(o.localStore,c);yield Fh(o,Ep(c),p.targetId,!1),Ih(o.remoteStore,p)}for(const u of t)o.ec.has(u)&&(yield lc(o.localStore,u,!1).then(()=>{hc(o.remoteStore,u),Il(o,u)}).catch(qo))}}),Dp.apply(this,arguments)}function Tp(i){const e=Zt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=El.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iv.bind(null,e),e.Zu.Go=s0.bind(null,e.eventManager),e.Zu.lc=o0.bind(null,e.eventManager),e}function Sm(i){const e=Zt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pp.bind(null,e),e}class xm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.wt=iu(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Qg(this.persistence,new Yg,e.initialUser,this.wt)}_c(e){return new Wf(fh.Os,this.wt)}dc(e){return new rm}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mm extends xm{constructor(e,t,o){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e),yield o.yc.initialize(o,e),yield Sm(o.yc.syncEngine),yield Bu(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Qg(this.persistence,new Yg,e.initialUser,this.wt)}mc(e,t){return new iv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const o=new P(t,this.persistence);return new S(e.asyncQueue,o)}_c(e){const t=yh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Uo.withCacheSize(this.cacheSizeBytes):Uo.DEFAULT;return new Zg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,pv(),wh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new rm}}class Mv extends Mm{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e);const u=o.yc.syncEngine;o.sharedClientState instanceof sd&&(o.sharedClientState.syncEngine={kr:Sv.bind(null,u),Mr:xv.bind(null,u),Or:Ip.bind(null,u),Ri:Cm.bind(null,u),Nr:Cv.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var c=(0,oe.Z)(function*(p){yield function Av(i,e){return Hh.apply(this,arguments)}(o.yc.syncEngine,p),o.gcScheduler&&(p&&!o.gcScheduler.started?o.gcScheduler.start():p||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(p&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():p||o.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}dc(e){const t=pv();if(!sd.V(t))throw new xt(it.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=yh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sd(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class fd{initialize(e,t){var o=this;return(0,oe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>bc(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Dv.bind(null,o.syncEngine),yield Nh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new r0}createDatastore(e){const t=iu(e.databaseInfo.databaseId),o=new im(e.databaseInfo);return new sm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,c=T=>bc(this.syncEngine,T,0),p=hv.V()?new hv:new X_,new yv(t,o,u,c,p);var t,o,u,c,p}createSyncEngine(e,t){return function(o,u,c,p,T,O,H){const te=new bv(o,u,c,p,T,O);return H&&(te.ac=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,oe.Z)(function*(t){const o=Zt(t);Dt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield dc(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Nm(i,e=10240){let t=0;return{read:()=>(0,oe.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Gh{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Li,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,oe.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,oe.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.bc();if(null===t)return null;const o=e.Ac.decode(t),u=Number(o);isNaN(u)&&e.Pc(`length string (${o}) is not valid number`);const c=yield e.vc(u);return new lp(JSON.parse(c),t.length+u)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,oe.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}vc(e){var t=this;return(0,oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const o=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Cp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xt(it.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,oe.Z)(function*(c,p){const T=Zt(c),O=Zl(T.wt)+"/documents",H={documents:p.map(Et=>hl(T.wt,Et))},te=yield T.ao("BatchGetDocuments",O,H,p.length),Ie=new Map;te.forEach(Et=>{const Tt=function Uy(i,e){return"found"in e?function(t,o){Vn(!!o.found);const u=eu(t,o.found.name),c=_o(o.found.updateTime),p=new ao({mapValue:{fields:o.found.fields}});return hi.newFoundDocument(u,c,p)}(i,e):"missing"in e?function(t,o){Vn(!!o.missing),Vn(!!o.readTime);const u=eu(t,o.missing),c=_o(o.readTime);return hi.newNoDocument(u,c)}(i,e):hn()}(T.wt,Et);Ie.set(Tt.key.toString(),Tt)});const Qe=[];return p.forEach(Et=>{const Tt=Ie.get(Et.toString());Vn(!!Tt),Qe.push(Tt)}),Qe}),function(c,p){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const c=tn.fromPath(u);e.mutations.push(new fi(c,e.precondition(c)))}),yield(o=(0,oe.Z)(function*(u,c){const p=Zt(u),T=Zl(p.wt)+"/documents",O={writes:c.map(H=>Eu(p.wt,H))};yield p.ro("Commit",T,O)}),function(u,c){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hn();t=Nn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new xt(it.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ps.updateTime(t):ps.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nn.min()))throw new xt(it.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ps.updateTime(t)}return ps.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nv{constructor(e,t,o,u,c){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=c,this.Dc=o.maxAttempts,this.So=new ep(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,oe.Z)(function*(){const t=new Cp(e.datastore),o=e.xc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(c=>{e.Nc(c)}))}).catch(u=>{e.Nc(u)})}))}xc(e){try{const t=this.updateFunction(e);return!tt(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Wc(t)}return!1}}class Rm{constructor(e,t,o,u){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=Or.UNAUTHENTICATED,this.clientId=po.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,oe.Z)(function*(T){Dt("FirestoreClient","Received user=",T.uid),yield c.authCredentialListener(T),c.user=T});return function(T){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(Dt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=bl(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Wh(i,e){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,oe.Z)(function*(c){o.isEqual(c)||(yield qf(e.localStore,c),o=c)});return function(c){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Kh.apply(this,arguments)}function Rv(i,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield pd(i);Dt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>lm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,c)=>lm(e.remoteStore,c)),i.onlineComponents=e}),Pm.apply(this,arguments)}function pd(i){return Om.apply(this,arguments)}function Om(){return Om=(0,oe.Z)(function*(i){return i.offlineComponents||(Dt("FirestoreClient","Using default OfflineComponentProvider"),yield Wh(i,new xm)),i.offlineComponents}),Om.apply(this,arguments)}function qh(i){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,oe.Z)(function*(i){return i.onlineComponents||(Dt("FirestoreClient","Using default OnlineComponentProvider"),yield Rv(i,new fd)),i.onlineComponents}),Zh.apply(this,arguments)}function Sp(i){return pd(i).then(e=>e.persistence)}function gd(i){return pd(i).then(e=>e.localStore)}function Ap(i){return qh(i).then(e=>e.remoteStore)}function md(i){return qh(i).then(e=>e.syncEngine)}function ha(i){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,oe.Z)(function*(i){const e=yield qh(i),t=e.eventManager;return t.onListen=dp.bind(null,e.syncEngine),t.onUnlisten=Ev.bind(null,e.syncEngine),t}),Ec.apply(this,arguments)}function Qh(i,e,t={}){const o=new Li;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(u,c,p,T,O){const H=new zh({next:Ie=>{c.enqueueAndForget(()=>fm(u,te));const Qe=Ie.docs.has(p);!Qe&&Ie.fromCache?O.reject(new xt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):Qe&&Ie.fromCache&&T&&"server"===T.source?O.reject(new xt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(Ie)},error:Ie=>O.reject(Ie)}),te=new ou(Pu(p.path),H,{includeMetadataChanges:!0,Du:!0});return dm(u,te)}(yield ha(i),i.asyncQueue,e,t,o)})),o.promise}function Fm(i,e,t={}){const o=new Li;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(u,c,p,T,O){const H=new zh({next:Ie=>{c.enqueueAndForget(()=>fm(u,te)),Ie.fromCache&&"server"===T.source?O.reject(new xt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(Ie)},error:Ie=>O.reject(Ie)}),te=new ou(p,H,{includeMetadataChanges:!0,Du:!0});return dm(u,te)}(yield ha(i),i.asyncQueue,e,t,o)})),o.promise}const Lm=new Map;function Vm(i,e,t){if(!t)throw new xt(it.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Um(i,e,t,o){if(!0===e&&!0===o)throw new xt(it.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Bm(i){if(!tn.isDocumentKey(i))throw new xt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function jm(i){if(tn.isDocumentKey(i))throw new xt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":hn()}function Yr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new xt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(i);throw new xt(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function xp(i,e){if(e<=0)throw new xt(it.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Xh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Um("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xh({}),this._settingsFrozen=!1,e instanceof Be?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new xt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Be(u.options.projectId)}(e))}get app(){if(!this._app)throw new xt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xh(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Go;switch(t.type){case"gapi":const o=t.client;return Vn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Wa(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Lm.get(e);t&&(Dt("ComponentProvider","Removing Datastore"),Lm.delete(e),t.terminate())}(this),Promise.resolve()}}class gs{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}}class Bo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class au extends Bo{constructor(e,t,o){super(e,t,Pu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new tn(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function $m(i,e,...t){if(i=(0,vt.m9)(i),Vm("collection","path",e),i instanceof _d){const o=Cr.fromString(e,...t);return jm(o),new au(i,null,o)}{if(!(i instanceof gs||i instanceof au))throw new xt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Cr.fromString(e,...t));return jm(o),new au(i.firestore,null,o)}}function ef(i,e,...t){if(i=(0,vt.m9)(i),1===arguments.length&&(e=po.I()),Vm("doc","path",e),i instanceof _d){const o=Cr.fromString(e,...t);return Bm(o),new gs(i,null,new tn(o))}{if(!(i instanceof gs||i instanceof au))throw new xt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Cr.fromString(e,...t));return Bm(o),new gs(i.firestore,i instanceof au?i.converter:null,new tn(o))}}function wd(i,e){return i=(0,vt.m9)(i),e=(0,vt.m9)(e),(i instanceof gs||i instanceof au)&&(e instanceof gs||e instanceof au)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function $u(i,e){return i=(0,vt.m9)(i),e=(0,vt.m9)(e),i instanceof Bo&&e instanceof Bo&&i.firestore===e.firestore&&il(i._query,e._query)&&i.converter===e.converter}class u0{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ep(this,"async_queue_retry"),this.Kc=()=>{const t=wh();t&&Dt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=wh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=wh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Li;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,oe.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!go(t))throw t;Dt("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,jr("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Mc=t,t}enqueueAfterDelay(e,t,o){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const u=Rh.createAndSchedule(this,e,t,o,c=>this.Wc(c));return this.$c.push(u),u}Gc(){this.Bc&&hn()}verifyOperationInProgress(){}zc(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Dl(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Lv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Li,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ss extends _d{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new u0,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ro(this),this._firestoreClient.terminate()}}function bs(i){return i._firestoreClient||Ro(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ro(i){var e;const t=i._freezeSettings(),o=(c=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ge(i._databaseId,c,i._persistenceKey,(T=t).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var c,T;i._firestoreClient=new Rm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function _a(i,e,t){const o=new Li;return i.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield Wh(i,t),yield Rv(i,e),o.resolve()}catch(u){const c=u;if(!("FirebaseError"===(p=c).name?p.code===it.FAILED_PRECONDITION||p.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw c;Zi("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}var p})).then(()=>o.promise)}function Cl(i){if(i._initialized||i._terminated)throw new xt(it.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(hs.fromBase64String(e))}catch(t){throw new xt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ja(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hu{constructor(e){this._methodName=e}}class Id{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qn(this._lat,e._lat)||qn(this._long,e._long)}}const Hm=/^__.*__$/;class zm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new st(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ae(e,this.data,t,this.fieldTransforms)}}class Rp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new st(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class Dd{constructor(e,t,o,u,c,p){this.settings=e,this.databaseId=t,this.wt=o,this.ignoreUndefinedProperties=u,void 0===c&&this.Xc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Dd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ta({path:o,na:!1});return u.sa(e),u}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ta({path:o,na:!1});return u.Xc(),u}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Ad(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Pp(this.Zc)&&Hm.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Gm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=o||iu(e)}aa(e,t,o,u=!1){return new Dd({Zc:e,methodName:t,ca:o,path:Fr.emptyPath(),na:!1,ua:u},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Sl(i){const e=i._freezeSettings(),t=iu(i._databaseId);return new Gm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function nf(i,e,t,o,u,c={}){const p=i.aa(c.merge||c.mergeFields?2:0,e,t,u);xc("Data must be an object, but it was:",p,o);const T=Km(o,p);let O,H;if(c.merge)O=new ni(p.fieldMask),H=p.fieldTransforms;else if(c.mergeFields){const te=[];for(const Ie of c.mergeFields){const Qe=rf(e,Ie,t);if(!p.contains(Qe))throw new xt(it.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);Up(te,Qe)||te.push(Qe)}O=new ni(te),H=p.fieldTransforms.filter(Ie=>O.covers(Ie.field))}else O=null,H=p.fieldTransforms;return new zm(new ao(T),O,H)}class Td extends Hu{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function Op(i,e,t){return new Dd({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class kp extends Hu{_toFieldTransform(e){return new ul(e.path,new _u)}isEqual(e){return e instanceof kp}}class Wm extends Hu{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Op(this,e,!0),o=this.ha.map(c=>Au(c,t)),u=new Ja(o);return new ul(e.path,u)}isEqual(e){return this===e}}class Fp extends Hu{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Op(this,e,!0),o=this.ha.map(c=>Au(c,t)),u=new wu(o);return new ul(e.path,u)}isEqual(e){return this===e}}class Lp extends Hu{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new xa(e.wt,zc(e.wt,this.la));return new ul(e.path,t)}isEqual(e){return this===e}}function Vp(i,e,t,o){const u=i.aa(1,e,t);xc("Data must be an object, but it was:",u,o);const c=[],p=ao.empty();Ce(o,(O,H)=>{const te=Mc(e,O,t);H=(0,vt.m9)(H);const Ie=u.ia(te);if(H instanceof Td)c.push(te);else{const Qe=Au(H,Ie);null!=Qe&&(c.push(te),p.set(te,Qe))}});const T=new ni(c);return new Rp(p,T,u.fieldTransforms)}function Ac(i,e,t,o,u,c){const p=i.aa(1,e,t),T=[rf(e,o,t)],O=[u];if(c.length%2!=0)throw new xt(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<c.length;Qe+=2)T.push(rf(e,c[Qe])),O.push(c[Qe+1]);const H=[],te=ao.empty();for(let Qe=T.length-1;Qe>=0;--Qe)if(!Up(H,T[Qe])){const Et=T[Qe];let Tt=O[Qe];Tt=(0,vt.m9)(Tt);const fn=p.ia(Et);if(Tt instanceof Td)H.push(Et);else{const An=Au(Tt,fn);null!=An&&(H.push(Et),te.set(Et,An))}}const Ie=new ni(H);return new Rp(te,Ie,p.fieldTransforms)}function Cd(i,e,t,o=!1){return Au(t,i.aa(o?4:3,e))}function Au(i,e){if(Sd(i=(0,vt.m9)(i)))return xc("Unsupported field value:",e,i),Km(i,e);if(i instanceof Hu)return function(t,o){if(!Pp(o.Zc))throw o.oa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,o){const u=[];let c=0;for(const p of t){let T=Au(p,o.ra(c));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),c++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,vt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zc(o.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Mi.fromDate(t);return{timestampValue:ql(o.wt,u)}}if(t instanceof Mi){const u=new Mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ql(o.wt,u)}}if(t instanceof Id)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ja)return{bytesValue:dl(o.wt,t._byteString)};if(t instanceof gs){const u=o.databaseId,c=t.firestore._databaseId;if(!c.isEqual(u))throw o.oa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:If(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.oa(`Unsupported field value: ${Jh(t)}`)}(i,e)}function Km(i,e){const t={};return lt(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ce(i,(o,u)=>{const c=Au(u,e.ea(o));null!=c&&(t[o]=c)}),{mapValue:{fields:t}}}function Sd(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Mi||i instanceof Id||i instanceof ja||i instanceof gs||i instanceof Hu)}function xc(i,e,t){if(!Sd(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Jh(t);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function rf(i,e,t){if((e=(0,vt.m9)(e))instanceof fa)return e._internalPath;if("string"==typeof e)return Mc(i,e);throw Ad("Field path arguments must be of type string or ",i,!1,void 0,t)}const qm=new RegExp("[~\\*/\\[\\]]");function Mc(i,e,t){if(e.search(qm)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new fa(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ad(i,e,t,o,u){const c=o&&!o.isEmpty(),p=void 0!==u;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let O="";return(c||p)&&(O+=" (found",c&&(O+=` in field ${o}`),p&&(O+=` in document ${u}`),O+=")"),new xt(it.INVALID_ARGUMENT,T+i+O)}function Up(i,e){return i.some(t=>t.isEqual(e))}class Al{constructor(e,t,o,u,c){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zm extends Al{data(){return super.data()}}function sf(i,e){return"string"==typeof e?Mc(i,e):e instanceof fa?e._internalPath:e._delegate._internalPath}class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends Al{constructor(e,t,o,u,c,p){super(e,t,o,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(sf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Nc extends uu{data(e={}){return super.data(e)}}class xu{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new zu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Nc(this._firestore,this._userDataWriter,o.key,o,new zu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new Nc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new zu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const T=new Nc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new zu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let O=-1,H=-1;return 0!==p.type&&(O=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),H=c.indexOf(p.doc.key)),{type:Uv(p.type),doc:T,oldIndex:O,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Uv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}function Bp(i,e){return i instanceof uu&&e instanceof uu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof xu&&e instanceof xu&&i._firestore===e._firestore&&$u(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function jp(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new xt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rc{}function lu(i,...e){for(const t of e)i=t._apply(i);return i}class Ym extends Rc{constructor(e,t,o){super(),this.fa=e,this.da=t,this._a=o,this.type="where"}_apply(e){const t=Sl(e.firestore),o=function(u,c,p,T,O,H,te){let Ie;if(O.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new xt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){iy(te,H);const Et=[];for(const Tt of te)Et.push(zp(T,u,Tt));Ie={arrayValue:{values:Et}}}else Ie=zp(T,u,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||iy(te,H),Ie=Cd(p,"where",te,"in"===H||"not-in"===H);const Qe=xs.create(O,H,Ie);return function(Et,Tt){if(Tt.ht()){const An=Bc(Et);if(null!==An&&!An.isEqual(Tt.field))throw new xt(it.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${An.toString()}' and '${Tt.field.toString()}'`);const Qr=Qa(Et);null!==Qr&&sy(0,Tt.field,Qr)}const fn=function(An,Qr){for(const Ui of An.filters)if(Qr.indexOf(Ui.op)>=0)return Ui.op;return null}(Et,function(An){switch(An){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Tt.op));if(null!==fn)throw new xt(it.INVALID_ARGUMENT,fn===Tt.op?`Invalid query. You cannot use more than one '${Tt.op.toString()}' filter.`:`Invalid query. You cannot use '${Tt.op.toString()}' filters with '${fn.toString()}' filters.`)}(u,Qe),Qe}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Bo(e.firestore,e.converter,function(u,c){const p=u.filters.concat([c]);return new La(u.path,u.collectionGroup,u.explicitOrderBy.slice(),p,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class Jm extends Rc{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(o,u,c){if(null!==o.startAt)throw new xt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new xt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new mu(u,c);return function(T,O){if(null===Qa(T)){const H=Bc(T);null!==H&&sy(0,H,O.field)}}(o,p),p}(e._query,this.fa,this.wa);return new Bo(e.firestore,e.converter,function(o,u){const c=o.explicitOrderBy.concat([u]);return new La(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class $p extends Rc{constructor(e,t,o){super(),this.type=e,this.ma=t,this.ga=o}_apply(e){return new Bo(e.firestore,e.converter,Hl(e._query,this.ma,this.ga))}}class Hp extends Rc{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=Js(e,this.type,this.ya,this.pa);return new Bo(e.firestore,e.converter,(u=t,new La((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class ny extends Rc{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=Js(e,this.type,this.ya,this.pa);return new Bo(e.firestore,e.converter,(u=t,new La((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Js(i,e,t,o){if(t[0]=(0,vt.m9)(t[0]),t[0]instanceof Al)return function(u,c,p,T,O){if(!T)throw new xt(it.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const H=[];for(const te of Ou(u))if(te.field.isKeyField())H.push(la(c,T.key));else{const Ie=T.data.field(te.field);if(A(Ie))throw new xt(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ie){const Qe=te.field.canonicalString();throw new xt(it.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Qe}' (used as the orderBy) does not exist.`)}H.push(Ie)}return new Fa(H,O)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=Sl(i.firestore);return function(c,p,T,O,H,te){const Ie=c.explicitOrderBy;if(H.length>Ie.length)throw new xt(it.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Qe=[];for(let Et=0;Et<H.length;Et++){const Tt=H[Et];if(Ie[Et].field.isKeyField()){if("string"!=typeof Tt)throw new xt(it.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof Tt}`);if(!jc(c)&&-1!==Tt.indexOf("/"))throw new xt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${Tt}' contains a slash.`);const fn=c.path.child(Cr.fromString(Tt));if(!tn.isDocumentKey(fn))throw new xt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const An=new tn(fn);Qe.push(la(p,An))}else{const fn=Cd(T,O,Tt);Qe.push(fn)}}return new Fa(Qe,te)}(i._query,i.firestore._databaseId,u,e,t,o)}}function zp(i,e,t){if("string"==typeof(t=(0,vt.m9)(t))){if(""===t)throw new xt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jc(e)&&-1!==t.indexOf("/"))throw new xt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Cr.fromString(t));if(!tn.isDocumentKey(o))throw new xt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return la(i,new tn(o))}if(t instanceof gs)return la(i,t._key);throw new xt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function iy(i,e){if(!Array.isArray(i)||0===i.length)throw new xt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new xt(it.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sy(i,e,t){if(!t.isEqual(e))throw new xt(it.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const oy={maxAttempts:5};class Gp{convertValue(e,t="none"){switch(Xn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hn()}}convertObject(e,t){const o={};return Ce(e.fields,(u,c)=>{o[u]=this.convertValue(c,t)}),o}convertGeoPoint(e){return new Id(Ri(e.latitude),Ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=k(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(K(e));default:return null}}convertTimestamp(e){const t=Ao(e);return new Mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Cr.fromString(e);Vn(Xd(o));const u=new Be(o.get(1),o.get(3)),c=new tn(o.popFirst(5));return u.isEqual(t)||jr(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function xd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class ay extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,t)}}class xl{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sl(e)}set(e,t,o){this._verifyNotCommitted();const u=Gu(e,this._firestore),c=xd(u.converter,t,o),p=nf(this._dataReader,"WriteBatch.set",u._key,c,null!==u.converter,o);return this._mutations.push(p.toMutation(u._key,ps.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const c=Gu(e,this._firestore);let p;return p="string"==typeof(t=(0,vt.m9)(t))||t instanceof fa?Ac(this._dataReader,"WriteBatch.update",c._key,t,o,u):Vp(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,ps.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gu(e,this._firestore);return this._mutations=this._mutations.concat(new Lr(t._key,ps.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xt(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gu(i,e){if((i=(0,vt.m9)(i)).firestore!==e)throw new xt(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Wu extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,t)}}function $a(i,e,t){i=Yr(i,gs);const o=Yr(i.firestore,ss),u=xd(i.converter,e,t);return Ml(o,[nf(Sl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,ps.none())])}function ly(i,e,t,...o){i=Yr(i,gs);const u=Yr(i.firestore,ss),c=Sl(u);let p;return p="string"==typeof(e=(0,vt.m9)(e))||e instanceof fa?Ac(c,"updateDoc",i._key,e,t,o):Vp(c,"updateDoc",i._key,e),Ml(u,[p.toMutation(i._key,ps.exists(!0))])}function Na(i,...e){var t,o,u;i=(0,vt.m9)(i);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Dl(e[p])||(c=e[p],p++);const T={includeMetadataChanges:c.includeMetadataChanges};if(Dl(e[p])){const Ie=e[p];e[p]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[p+1]=null===(o=Ie.error)||void 0===o?void 0:o.bind(Ie),e[p+2]=null===(u=Ie.complete)||void 0===u?void 0:u.bind(Ie)}let O,H,te;if(i instanceof gs)H=Yr(i.firestore,ss),te=Pu(i._key.path),O={next:Ie=>{e[p]&&e[p](af(H,i,Ie))},error:e[p+1],complete:e[p+2]};else{const Ie=Yr(i,Bo);H=Yr(Ie.firestore,ss),te=Ie._query;const Qe=new Wu(H);O={next:Et=>{e[p]&&e[p](new xu(H,Qe,Ie,Et))},error:e[p+1],complete:e[p+2]},jp(i._query)}return function(Ie,Qe,Et,Tt){const fn=new zh(Tt),An=new ou(Qe,fn,Et);return Ie.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return dm(yield ha(Ie),An)})),()=>{fn.Tc(),Ie.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return fm(yield ha(Ie),An)}))}}(bs(H),te,T,O)}function Ml(i,e){return function(t,o){const u=new Li;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function _c(i,e,t){return dd.apply(this,arguments)}(yield md(t),o,u)})),u.promise}(bs(i),e)}function af(i,e,t){const o=t.docs.get(e._key),u=new Wu(i);return new uu(i,u,e._key,o,new zu(t.hasPendingWrites,t.fromCache),e.converter)}class zv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sl(e)}get(e){const t=Gu(e,this._firestore),o=new ay(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return hn();const c=u[0];if(c.isFoundDocument())return new Al(this._firestore,o,c.key,c,t.converter);if(c.isNoDocument())return new Al(this._firestore,o,t._key,null,t.converter);throw hn()})}set(e,t,o){const u=Gu(e,this._firestore),c=xd(u.converter,t,o),p=nf(this._dataReader,"Transaction.set",u._key,c,null!==u.converter,o);return this._transaction.set(u._key,p),this}update(e,t,o,...u){const c=Gu(e,this._firestore);let p;return p="string"==typeof(t=(0,vt.m9)(t))||t instanceof fa?Ac(this._dataReader,"Transaction.update",c._key,t,o,u):Vp(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=Gu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gu(e,this._firestore),o=new Wu(this._firestore);return super.get(e).then(u=>new uu(this._firestore,o,t._key,u._document,new zu(!1,!1),t.converter))}}function Yp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Qp(){if(typeof Uint8Array>"u")throw new xt("unimplemented","Uint8Arrays are not available in this environment.")}function Jp(){if(!function $s(){return typeof atob<"u"}())throw new xt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){xi=Fe.SDK_VERSION,(0,Fe._registerComponent)(new Ft.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),c=new ss(u,new Pa(t.getProvider("auth-internal")),new Oa(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),c._setSettings(o),c},"PUBLIC")),(0,Fe.registerVersion)(qi,"3.4.14",i),(0,Fe.registerVersion)(qi,"3.4.14","esm2017")}();class Nl{constructor(e){this._delegate=e}static fromBase64String(e){return Jp(),new Nl(ja.fromBase64String(e))}static fromUint8Array(e){return Qp(),new Nl(ja.fromUint8Array(e))}toBase64(){return Jp(),this._delegate.toBase64()}toUint8Array(){return Qp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Pc(i){return function hy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class fy{enableIndexedDbPersistence(e,t){return function Tl(i,e){Cl(i=Yr(i,ss));const t=bs(i),o=i._freezeSettings(),u=new fd;return _a(t,u,new Mm(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function tf(i){Cl(i=Yr(i,ss));const e=bs(i),t=i._freezeSettings(),o=new fd;return _a(e,o,new Mv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Np(i){if(i._initialized&&!i._terminated)throw new xt(it.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Li;return i._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(t=(0,oe.Z)(function*(o){if(!Ys.V())return Promise.resolve();const u=o+"main";yield Ys.delete(u)}),function(o){return t.apply(this,arguments)})(yh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Xp{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Be||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Mp(i,e,t,o={}){var u;const c=(i=Yr(i,_d))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Zi("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let p,T;if("string"==typeof o.mockUserToken)p=o.mockUserToken,T=Or.MOCK_USER;else{p=(0,vt.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const O=o.mockUserToken.sub||o.mockUserToken.user_id;if(!O)throw new xt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Or(O)}i._authCredentials=new Ju(new Ga(p,T))}}(this._delegate,e,t,o)}enableNetwork(){return function Dc(i){return function Yh(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield Sp(i),t=yield Ap(i);return e.setNetworkEnabled(!0),function(o){const u=Zt(o);return u.lu.delete(0),od(u)}(t)}))}(bs(i=Yr(i,ss)))}(this._delegate)}disableNetwork(){return function Tc(i){return function yd(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield Sp(i),t=yield Ap(i);return e.setNetworkEnabled(!1),(o=(0,oe.Z)(function*(u){const c=Zt(u);c.lu.add(0),yield dc(c),c._u.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(bs(i=Yr(i,ss)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Um("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ic(i){return function(e){const t=new Li;return e.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function gp(i,e){return mp.apply(this,arguments)}(yield md(e),t)})),t.promise}(bs(i=Yr(i,ss)))}(this._delegate)}onSnapshotsInSync(e){return function Ha(i,e){return function Ov(i,e){const t=new zh(e);return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield ha(i),u=t,Zt(o).Tu.add(u),void u.next();var o,u})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield ha(i),u=t,void Zt(o).Tu.delete(u);var o,u}))}}(bs(i=Yr(i,ss)),Dl(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Oc(this,$m(this._delegate,e))}catch(t){throw ea(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ra(this,ef(this._delegate,e))}catch(t){throw ea(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ta(this,function Fv(i,e){if(i=Yr(i,_d),Vm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xt(it.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bo(i,null,(t=e,new La(Cr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ea(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Gv(i,e,t){i=Yr(i,ss);const o=Object.assign(Object.assign({},oy),t);return function(u){if(u.maxAttempts<1)throw new xt(it.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function vd(i,e,t){const o=new Li;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const u=yield(c=i,qh(c).then(p=>p.datastore));var c;new Nv(i.asyncQueue,u,t,e,o).run()})),o.promise}(bs(i),u=>e(new zv(i,u)),o)}(this._delegate,t=>e(new eg(this,t)))}batch(){return bs(this._delegate),new tg(new xl(this._delegate,e=>Ml(this._delegate,e)))}loadBundle(e){return function Cc(i,e){const t=bs(i=Yr(i,ss)),o=new Lv;return function kv(i,e,t,o){const u=function(c,p){let T;return T="string"==typeof c?(new TextEncoder).encode(c):c,O=function(O,H){if(O instanceof Uint8Array)return Nm(O,H);if(O instanceof ArrayBuffer)return Nm(new Uint8Array(O),H);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new Gh(O,p);var O}(t,iu(e));i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function Am(i,e,t){const o=Zt(i);var u;(u=(0,oe.Z)(function*(c,p,T){try{const O=yield p.getMetadata();if(yield function(Qe,Et){const Tt=Zt(Qe),fn=_o(Et.createTime);return Tt.persistence.runTransaction("hasNewerBundle","readonly",An=>Tt.Ds.getBundleMetadata(An,Et.id)).then(An=>!!An&&An.createTime.compareTo(fn)>=0)}(c.localStore,O))return yield p.close(),T._completeWith({taskState:"Success",documentsLoaded:(Qe=O).totalDocuments,bytesLoaded:Qe.totalBytes,totalDocuments:Qe.totalDocuments,totalBytes:Qe.totalBytes}),Promise.resolve(new Set);T._updateProgress(Oh(O));const H=new ym(O,c.localStore,p.wt);let te=yield p.fc();for(;te;){const Qe=yield H.Nu(te);Qe&&T._updateProgress(Qe),te=yield p.fc()}const Ie=yield H.complete();return yield Hs(c,Ie.Ou,void 0),yield function(Qe,Et){const Tt=Zt(Qe);return Tt.persistence.runTransaction("Save bundle","readwrite",fn=>Tt.Ds.saveBundleMetadata(fn,Et))}(c.localStore,O),T._completeWith(Ie.progress),Promise.resolve(Ie.Mu)}catch(O){return Zi("SyncEngine",`Loading bundle failed with ${O}`),T._failWith(O),Promise.resolve(new Set)}var Qe}),function(c,p,T){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield md(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Sc(i,e){return function a0(i,e){return i.asyncQueue.enqueue((0,oe.Z)(function*(){return function(t,o){const u=Zt(t);return u.persistence.runTransaction("Get named query","readonly",c=>u.Ds.getNamedQuery(c,o))}(yield gd(i),e)}))}(bs(i=Yr(i,ss)),e).then(t=>t?new Bo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ta(this,t):null)}}class Nd extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(new ja(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ra.forKey(t,this.firestore,null)}}class eg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Nd(e)}get(e){const t=Rl(e);return this._delegate.get(t).then(o=>new Rd(this._firestore,new uu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=Rl(e);return o?(Yp("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const c=Rl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,o,...u),this}delete(e){const t=Rl(e);return this._delegate.delete(t),this}}class tg{constructor(e){this._delegate=e}set(e,t,o){const u=Rl(e);return o?(Yp("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const c=Rl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,o,...u),this}delete(e){const t=Rl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ku{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Nc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pd(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Ku.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let c=u.get(t);return c||(c=new Ku(e,new Nd(e),t),u.set(t,c)),c}}Ku.INSTANCES=new WeakMap;class Ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Nd(e)}static forPath(e,t,o){if(e.length%2!=0)throw new xt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ra(t,new gs(t._delegate,o,new tn(e)))}static forKey(e,t,o){return new Ra(t,new gs(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Oc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Oc(this.firestore,$m(this._delegate,e))}catch(t){throw ea(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,vt.m9)(e))instanceof gs&&wd(this._delegate,e)}set(e,t){t=Yp("DocumentReference.set",t);try{return t?$a(this._delegate,e,t):$a(this._delegate,e)}catch(o){throw ea(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?ly(this._delegate,e):ly(this._delegate,e,t,...o)}catch(u){throw ea(u,"updateDoc()","DocumentReference.update()")}}delete(){return function cy(i){return Ml(Yr(i.firestore,ss),[new Lr(i._key,ps.none())])}(this._delegate)}onSnapshot(...e){const t=gy(e),o=my(e,u=>new Rd(this.firestore,new uu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Na(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Hv(i){i=Yr(i,gs);const e=Yr(i.firestore,ss),t=bs(e),o=new Wu(e);return function Pv(i,e){const t=new Li;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(u,c,p){try{const T=yield function(O,H){const te=Zt(O);return te.persistence.runTransaction("read document","readonly",Ie=>te.localDocuments.getDocument(Ie,H))}(u,c);T.isFoundDocument()?p.resolve(T):T.isNoDocument()?p.resolve(null):p.reject(new xt(it.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const O=bl(T,`Failed to get document '${c} from cache`);p.reject(O)}}),function(u,c,p){return o.apply(this,arguments)})(yield gd(i),e,t);var o})),t.promise}(t,i._key).then(u=>new uu(e,o,i._key,u,new zu(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function uy(i){i=Yr(i,gs);const e=Yr(i.firestore,ss);return Qh(bs(e),i._key,{source:"server"}).then(t=>af(e,i,t))}(this._delegate):function $v(i){i=Yr(i,gs);const e=Yr(i.firestore,ss);return Qh(bs(e),i._key).then(t=>af(e,i,t))}(this._delegate),t.then(o=>new Rd(this.firestore,new uu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ra(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}function ea(i,e,t){return i.message=i.message.replace(e,t),i}function gy(i){for(const e of i)if("object"==typeof e&&!Pc(e))return e;return{}}function my(i,e){var t,o;let u;return u=Pc(i[0])?i[0]:Pc(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{u.next&&u.next(e(c))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Rd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Bp(this._delegate,e._delegate)}}class Pd extends Rd{data(e){const t=this._delegate.data(e);return function Ea(i,e){i||hn()}(void 0!==t),t}}class ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Nd(e)}where(e,t,o){try{return new ta(this.firestore,lu(this._delegate,function Qm(i,e,t){const o=e,u=sf("where",i);return new Ym(u,o,t)}(e,t,o)))}catch(u){throw ea(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ta(this.firestore,lu(this._delegate,function Xm(i,e="asc"){const t=e,o=sf("orderBy",i);return new Jm(o,t)}(e,t)))}catch(o){throw ea(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ta(this.firestore,lu(this._delegate,function ey(i){return xp("limit",i),new $p("limit",i,"F")}(e)))}catch(t){throw ea(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ta(this.firestore,lu(this._delegate,function ty(i){return xp("limitToLast",i),new $p("limitToLast",i,"L")}(e)))}catch(t){throw ea(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ta(this.firestore,lu(this._delegate,function c0(...i){return new Hp("startAt",i,!0)}(...e)))}catch(t){throw ea(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ta(this.firestore,lu(this._delegate,function Bv(...i){return new Hp("startAfter",i,!1)}(...e)))}catch(t){throw ea(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ta(this.firestore,lu(this._delegate,function ry(...i){return new ny("endBefore",i,!1)}(...e)))}catch(t){throw ea(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ta(this.firestore,lu(this._delegate,function jv(...i){return new ny("endAt",i,!0)}(...e)))}catch(t){throw ea(t,"endAt()","Query.endAt()")}}isEqual(e){return $u(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Wp(i){i=Yr(i,Bo);const e=Yr(i.firestore,ss),t=bs(e),o=new Wu(e);return function km(i,e){const t=new Li;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(u,c,p){try{const T=yield nd(u,c,!0),O=new vm(c,T.ji),H=O.Ku(T.documents),te=O.applyChanges(H,!1);p.resolve(te.snapshot)}catch(T){const O=bl(T,`Failed to execute query '${c} against cache`);p.reject(O)}}),function(u,c,p){return o.apply(this,arguments)})(yield gd(i),e,t);var o})),t.promise}(t,i._query).then(u=>new xu(e,o,i,u))}(this._delegate):"server"===e?.source?function Kp(i){i=Yr(i,Bo);const e=Yr(i.firestore,ss),t=bs(e),o=new Wu(e);return Fm(t,i._query,{source:"server"}).then(u=>new xu(e,o,i,u))}(this._delegate):function d0(i){i=Yr(i,Bo);const e=Yr(i.firestore,ss),t=bs(e),o=new Wu(e);return jp(i._query),Fm(t,i._query).then(u=>new xu(e,o,i,u))}(this._delegate),t.then(o=>new ng(this.firestore,new xu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=gy(e),o=my(e,u=>new ng(this.firestore,new xu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Na(this._delegate,t,o)}withConverter(e){return new ta(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}class Yv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Pd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ng{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ta(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Yv(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Pd(this._firestore,o))})}isEqual(e){return Bp(this._delegate,e._delegate)}}class Oc extends ta{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ra(this.firestore,e):null}doc(e){try{return new Ra(this.firestore,void 0===e?ef(this._delegate):ef(this._delegate,e))}catch(t){throw ea(t,"doc()","CollectionReference.doc()")}}add(e){return function cu(i,e){const t=Yr(i.firestore,ss),o=ef(i),u=xd(i.converter,e);return Ml(t,[nf(Sl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,ps.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Ra(this.firestore,t))}isEqual(e){return wd(this._delegate,e._delegate)}withConverter(e){return new Oc(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}function Rl(i){return Yr(i,gs)}class rg{constructor(...e){this._delegate=new fa(...e)}static documentId(){return new rg(Fr.keyField().canonicalString())}isEqual(e){return(e=(0,vt.m9)(e))instanceof fa&&this._delegate._internalPath.isEqual(e._internalPath)}}class Pl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Kv(){return new kp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Pl(e)}static delete(){const e=function Wv(){return new Td("deleteField")}();return e._methodName="FieldValue.delete",new Pl(e)}static arrayUnion(...e){const t=function qp(...i){return new Wm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Pl(t)}static arrayRemove(...e){const t=function Md(...i){return new Fp("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Pl(t)}static increment(e){const t=function qv(i){return new Lp("increment",i)}(e);return t._methodName="FieldValue.increment",new Pl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Qv={Firestore:Xp,GeoPoint:Id,Timestamp:Mi,Blob:Nl,Transaction:eg,WriteBatch:tg,DocumentReference:Ra,DocumentSnapshot:Rd,Query:ta,QueryDocumentSnapshot:Pd,QuerySnapshot:ng,CollectionReference:Oc,FieldPath:rg,FieldValue:Pl,setLogLevel:function py(i){!function ma(i){tr.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Xv(i){(function Jv(i,e){i.INTERNAL.registerComponent(new Ft.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},Qv)))})(i,(e,t)=>new Xp(e,t,new fy)),i.registerVersion("@firebase/firestore-compat","0.1.23")}(et.Z);var qu=U(7451),e_=U(440),yy=U(127);function ig(i,e){return function vy(i,e=F.z){return new V.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function lf(i,e){return ig(i,e).pipe((0,le.U)(t=>({payload:t,type:"query"})))}function Od(i,e){return lf(i,e).pipe((0,fe.O)(void 0),(0,ee.G)(),(0,le.U)(([t,o])=>{const u=o.payload.docChanges(),c=u.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((p,T)=>{const O=u.find(te=>te.doc.ref.isEqual(p.ref)),H=t?.payload.docs.find(te=>te.ref.isEqual(p.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(p.metadata)||!O&&H&&JSON.stringify(H.metadata)===JSON.stringify(p.metadata)||c.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:p}})}),c}))}function sg(i,e,t){return Od(i,t).pipe((0,X.R)((o,u)=>function wy(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function og(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return cf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(c=>c.payload),e),[]),(0,se.x)(),(0,le.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function cf(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function df(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Zu{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Od(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,le.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,fe.O)(void 0),(0,ee.G)(),(0,ce.h)(([o,u])=>u.length>0||!o),(0,le.U)(([o,u])=>u),ne.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,X.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=df(e);return sg(this.query,t,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(e={}){return lf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ne.iC)}get(e){return(0,ye.D)(this.query.get(e)).pipe(ne.iC)}add(e){return this.ref.add(e)}doc(e){return new by(this.ref.doc(e),this.afs)}}class by{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:c}=ug(o,t);return new Zu(u,c,this.afs)}snapshotChanges(){return function _y(i,e){return ig(i,e).pipe((0,fe.O)(void 0),(0,ee.G)(),(0,le.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,le.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ye.D)(this.ref.get(e)).pipe(ne.iC)}}class t_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Od(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ce.h)(t=>t.length>0),ne.iC):Od(this.query,this.afs.schedulers.outsideAngular).pipe(ne.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,X.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=df(e);return sg(this.query,t,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(e={}){return lf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),ne.iC)}get(e){return(0,ye.D)(this.query.get(e)).pipe(ne.iC)}}const Ol=new g.OlP("angularfire2.enableFirestorePersistence"),n_=new g.OlP("angularfire2.firestore.persistenceSettings"),ag=new g.OlP("angularfire2.firestore.settings"),f0=new g.OlP("angularfire2.firestore.use-emulator");function ug(i,e=(t=>t)){return{query:e(i),ref:i}}let lg=(()=>{class i{constructor(t,o,u,c,p,T,O,H,te,Ie,Qe,Et,Tt,fn,An,Qr,Ui){this.schedulers=O;const pi=(0,Ve.on)(t,T,o),Yi=te;Ie&&(0,qu.nw)(pi,T,Qe,Tt,fn,An,Et,Qr),[this.firestore,this.persistenceEnabled$]=(0,Ve.cc)(`${pi.name}.firestore`,"AngularFirestore",pi.name,()=>{const ai=T.runOutsideAngular(()=>pi.firestore());if(c&&ai.settings(c),Yi&&ai.useEmulator(...Yi),u&&!(0,He.PM)(p)){const bi=()=>{try{return(0,ye.D)(ai.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(uo){return typeof console<"u"&&console.warn(uo),(0,me.of)(!1)}};return[ai,T.runOutsideAngular(bi)]}return[ai,(0,me.of)(!1)]},[c,Yi,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:p}=ug(u,o),T=this.schedulers.ngZone.run(()=>c);return new Zu(T,p,this)}collectionGroup(t,o){const u=o||(p=>p),c=this.firestore.collectionGroup(t);return new t_(u(c),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new by(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(g.LFG(Ve.Dh),g.LFG(Ve.xv,8),g.LFG(Ol,8),g.LFG(ag,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(ne.HU),g.LFG(n_,8),g.LFG(f0,8),g.LFG(qu.zQ,8),g.LFG(qu.Qv,8),g.LFG(qu.L6,8),g.LFG(qu._Q,8),g.LFG(qu.rT,8),g.LFG(qu.lh,8),g.LFG(qu.f7,8),g.LFG(e_.nm,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),p0=(()=>{class i{constructor(){yy.Z.registerVersion("angularfire",ne.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Ol,useValue:!0},{provide:n_,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[lg]}),i})()},2011:(Kt,Ge,U)=>{U.d(Ge,{Dh:()=>ee,GT:()=>ne,cc:()=>He,hO:()=>Ve,on:()=>X,pX:()=>me,xv:()=>le});var g=U(4650),F=U(127),V=U(6351);Kt=U.hmd(Kt);const ye=["ngOnDestroy"],me=(Fe,Ft,en,vt={})=>new Proxy(Fe,{get:(ct,Pt)=>en.runOutsideAngular(()=>{var bt;if(Fe[Pt])return!(null===(bt=vt?.spy)||void 0===bt)&&bt.get&&vt.spy.get(Pt,Fe[Pt]),Fe[Pt];if(ye.indexOf(Pt)>-1)return()=>{};const sn=Ft.toPromise().then(ze=>{const ot=ze&&ze[Pt];return"function"==typeof ot?ot.bind(ze):ot&&ot.then?ot.then(Vt=>en.run(()=>Vt)):en.run(()=>ot)});return new Proxy(()=>{},{get:(ze,ot)=>sn[ot],apply:(ze,ot,Vt)=>sn.then(Nt=>{var $t;const ft=Nt&&Nt(...Vt);return!(null===($t=vt?.spy)||void 0===$t)&&$t.apply&&vt.spy.apply(Pt,Vt,ft),ft})})})}),ne=(Fe,Ft)=>{Ft.forEach(en=>{Object.getOwnPropertyNames(en.prototype||en).forEach(vt=>{Object.defineProperty(Fe.prototype,vt,Object.getOwnPropertyDescriptor(en.prototype||en,vt))})})};class fe{constructor(Ft){return Ft}}const ee=new g.OlP("angularfire2.app.options"),le=new g.OlP("angularfire2.app.name");function X(Fe,Ft,en){const ct="object"==typeof en&&en||{};ct.name=ct.name||"string"==typeof en&&en||"[DEFAULT]";const bt=F.Z.apps.filter(sn=>sn&&sn.name===ct.name)[0]||Ft.runOutsideAngular(()=>F.Z.initializeApp(Fe,ct));try{JSON.stringify(Fe)!==JSON.stringify(bt.options)&&se("error",`${bt.name} Firebase App already initialized with different options${Kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(bt)}const se=(Fe,...Ft)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Fe](...Ft)},ce={provide:fe,useFactory:X,deps:[ee,g.R0b,[new g.FiY,le]]};let Ve=(()=>{class Fe{constructor(en){F.Z.registerVersion("angularfire",V.q4.full,"core"),F.Z.registerVersion("angularfire",V.q4.full,"app-compat"),F.Z.registerVersion("angular",g.q4F.full,en.toString())}static initializeApp(en,vt){return{ngModule:Fe,providers:[{provide:ee,useValue:en},{provide:le,useValue:vt}]}}}return Fe.\u0275fac=function(en){return new(en||Fe)(g.LFG(g.Lbi))},Fe.\u0275mod=g.oAB({type:Fe}),Fe.\u0275inj=g.cJS({providers:[ce]}),Fe})();function He(Fe,Ft,en,vt,ct){const[,Pt,bt]=globalThis.\u0275AngularfireInstanceCache.find(sn=>sn[0]===Fe)||[];if(Pt)return function Ze(Fe,Ft){try{return Fe.toString()===Ft.toString()}catch{return Fe===Ft}}(ct,bt)||(oe("error",`${Ft} was already initialized on the ${en} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),oe("warn",{is:ct,was:bt})),Pt;{const sn=vt();return globalThis.\u0275AngularfireInstanceCache.push([Fe,sn,ct]),sn}}const et=!!Kt.hot,oe=(Fe,...Ft)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Fe](...Ft)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Kt,Ge,U)=>{U.d(Ge,{q4:()=>tl,iC:()=>aa,HU:()=>Dn,vb:()=>lt,JM:()=>Ce});var g=U(4650),F=U(5867),V=U(5861),ye=U(9681),me=U(2090),ne=U(4859),fe=U(1877),ee=U(8766);const le="@firebase/installations",X="0.5.12",ce=`w:${X}`,Ve="FIS_v2",Ft=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function en(A){return A instanceof me.ZR&&A.code.includes("request-failed")}function vt({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function ct(A){return{token:A.token,requestStatus:2,expiresIn:Nt(A.expiresIn),creationTime:Date.now()}}function Pt(A,k){return bt.apply(this,arguments)}function bt(){return(bt=(0,V.Z)(function*(A,k){const ge=(yield k.json()).error;return Ft.create("request-failed",{requestName:A,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function sn({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function ze(A,{refreshToken:k}){const K=sn(A);return K.append("Authorization",function $t(A){return`${Ve} ${A}`}(k)),K}function ot(A){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,V.Z)(function*(A){const k=yield A();return k.status>=500&&k.status<600?A():k})).apply(this,arguments)}function Nt(A){return Number(A.replace("s","000"))}function ft(A,k){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,V.Z)(function*({appConfig:A,heartbeatServiceProvider:k},{fid:K}){const ge=vt(A),Be=sn(A),tt=k.getImmediate({optional:!0});if(tt){const rr=yield tt.getHeartbeatsHeader();rr&&Be.append("x-firebase-client",rr)}const on={method:"POST",headers:Be,body:JSON.stringify({fid:K,authVersion:Ve,appId:A.appId,sdkVersion:ce})},Rn=yield ot(()=>fetch(ge,on));if(Rn.ok){const rr=yield Rn.json();return{fid:rr.fid||K,registrationStatus:2,refreshToken:rr.refreshToken,authToken:ct(rr.authToken)}}throw yield Pt("Create Installation",Rn)})).apply(this,arguments)}function mr(A){return new Promise(k=>{setTimeout(k,A)})}const xn=/^[cdef][\w-]{21}$/;function Yt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const K=function lr(A){return function Mr(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return xn.test(K)?K:""}catch{return""}}function Tn(A){return`${A.appName}!${A.appId}`}const wt=new Map;function at(A,k){const K=Tn(A);Lt(K,k),function pn(A,k){const K=function Cn(){return!an&&"BroadcastChannel"in self&&(an=new BroadcastChannel("[Firebase] FID Change"),an.onmessage=A=>{Lt(A.data.key,A.data.fid)}),an}();K&&K.postMessage({key:A,fid:k}),function sr(){0===wt.size&&an&&(an.close(),an=null)}()}(K,k)}function Lt(A,k){const K=wt.get(A);if(K)for(const ge of K)ge(k)}let an=null;const mt="firebase-installations-store";let er=null;function Qt(){return er||(er=(0,ee.X3)("firebase-installations-database",1,{upgrade:(A,k)=>{0===k&&A.createObjectStore(mt)}})),er}function qt(A,k){return $n.apply(this,arguments)}function $n(){return($n=(0,V.Z)(function*(A,k){const K=Tn(A),Be=(yield Qt()).transaction(mt,"readwrite"),tt=Be.objectStore(mt),St=yield tt.get(K);return yield tt.put(k,K),yield Be.done,(!St||St.fid!==k.fid)&&at(A,k.fid),k})).apply(this,arguments)}function Bn(A){return $r.apply(this,arguments)}function $r(){return($r=(0,V.Z)(function*(A){const k=Tn(A),ge=(yield Qt()).transaction(mt,"readwrite");yield ge.objectStore(mt).delete(k),yield ge.done})).apply(this,arguments)}function ri(A,k){return cr.apply(this,arguments)}function cr(){return(cr=(0,V.Z)(function*(A,k){const K=Tn(A),Be=(yield Qt()).transaction(mt,"readwrite"),tt=Be.objectStore(mt),St=yield tt.get(K),on=k(St);return void 0===on?yield tt.delete(K):yield tt.put(on,K),yield Be.done,on&&(!St||St.fid!==on.fid)&&at(A,on.fid),on})).apply(this,arguments)}function Pn(A){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,V.Z)(function*(A){let k;const K=yield ri(A.appConfig,ge=>{const Be=or(ge),tt=Xt(A,Be);return k=tt.registrationPromise,tt.installationEntry});return""===K.fid?{installationEntry:yield k}:{installationEntry:K,registrationPromise:k}})).apply(this,arguments)}function or(A){return Mt(A||{fid:Yt(),registrationStatus:0})}function Xt(A,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Ft.create("app-offline"))};const K={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},ge=function Ot(A,k){return yr.apply(this,arguments)}(A,K);return{installationEntry:K,registrationPromise:ge}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:zr(A)}:{installationEntry:k}}function yr(){return(yr=(0,V.Z)(function*(A,k){try{const K=yield ft(A,k);return qt(A.appConfig,K)}catch(K){throw en(K)&&409===K.customData.serverCode?yield Bn(A.appConfig):yield qt(A.appConfig,{fid:k.fid,registrationStatus:0}),K}})).apply(this,arguments)}function zr(A){return Er.apply(this,arguments)}function Er(){return(Er=(0,V.Z)(function*(A){let k=yield Ht(A.appConfig);for(;1===k.registrationStatus;)yield mr(100),k=yield Ht(A.appConfig);if(0===k.registrationStatus){const{installationEntry:K,registrationPromise:ge}=yield Pn(A);return ge||K}return k})).apply(this,arguments)}function Ht(A){return ri(A,k=>{if(!k)throw Ft.create("installation-not-found");return Mt(k)})}function Mt(A){return function ii(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function On(A,k){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,V.Z)(function*({appConfig:A,heartbeatServiceProvider:k},K){const ge=gn(A,K),Be=ze(A,K),tt=k.getImmediate({optional:!0});if(tt){const rr=yield tt.getHeartbeatsHeader();rr&&Be.append("x-firebase-client",rr)}const on={method:"POST",headers:Be,body:JSON.stringify({installation:{sdkVersion:ce,appId:A.appId}})},Rn=yield ot(()=>fetch(ge,on));if(Rn.ok)return ct(yield Rn.json());throw yield Pt("Generate Auth Token",Rn)})).apply(this,arguments)}function gn(A,{fid:k}){return`${vt(A)}/${k}/authTokens:generate`}function Oe(A){return De.apply(this,arguments)}function De(){return(De=(0,V.Z)(function*(A,k=!1){let K;const ge=yield ri(A.appConfig,tt=>{if(!nn(tt))throw Ft.create("not-registered");const St=tt.authToken;if(!k&&zn(St))return tt;if(1===St.requestStatus)return K=de(A,k),tt;{if(!navigator.onLine)throw Ft.create("app-offline");const on=Nr(tt);return K=ht(A,on),on}});return K?yield K:ge.authToken})).apply(this,arguments)}function de(A,k){return we.apply(this,arguments)}function we(){return(we=(0,V.Z)(function*(A,k){let K=yield pe(A.appConfig);for(;1===K.authToken.requestStatus;)yield mr(100),K=yield pe(A.appConfig);const ge=K.authToken;return 0===ge.requestStatus?Oe(A,k):ge})).apply(this,arguments)}function pe(A){return ri(A,k=>{if(!nn(k))throw Ft.create("not-registered");return function je(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function ht(A,k){return zt.apply(this,arguments)}function zt(){return(zt=(0,V.Z)(function*(A,k){try{const K=yield On(A,k),ge=Object.assign(Object.assign({},k),{authToken:K});return yield qt(A.appConfig,ge),K}catch(K){if(!en(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const ge=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield qt(A.appConfig,ge)}else yield Bn(A.appConfig);throw K}})).apply(this,arguments)}function nn(A){return void 0!==A&&2===A.registrationStatus}function zn(A){return 2===A.requestStatus&&!function Qn(A){const k=Date.now();return k<A.creationTime||A.creationTime+A.expiresIn<k+36e5}(A)}function Nr(A){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:k})}function _e(){return(_e=(0,V.Z)(function*(A){const k=A,{installationEntry:K,registrationPromise:ge}=yield Pn(k);return ge?ge.catch(console.error):Oe(k).catch(console.error),K.fid})).apply(this,arguments)}function At(){return(At=(0,V.Z)(function*(A,k=!1){const K=A;return yield mn(K),(yield Oe(K,k)).token})).apply(this,arguments)}function mn(A){return nt.apply(this,arguments)}function nt(){return(nt=(0,V.Z)(function*(A){const{registrationPromise:k}=yield Pn(A);k&&(yield k)})).apply(this,arguments)}function jn(A){return Ft.create("missing-app-config-values",{valueName:A})}const wn="installations",Bi=A=>{const k=A.getProvider("app").getImmediate(),K=function un(A){if(!A||!A.options)throw jn("App Configuration");if(!A.name)throw jn("App Name");const k=["projectId","apiKey","appId"];for(const K of k)if(!A.options[K])throw jn(K);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(k);return{app:k,appConfig:K,heartbeatServiceProvider:(0,ye._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Ei=A=>{const k=A.getProvider("app").getImmediate(),K=(0,ye._getProvider)(k,wn).getImmediate();return{getId:()=>function ve(A){return _e.apply(this,arguments)}(K),getToken:Be=>function rt(A){return At.apply(this,arguments)}(K,Be)}};(function Gr(){(0,ye._registerComponent)(new ne.wA(wn,Bi,"PUBLIC")),(0,ye._registerComponent)(new ne.wA("installations-internal",Ei,"PRIVATE"))})(),(0,ye.registerVersion)(le,X),(0,ye.registerVersion)(le,X,"esm2017");const vr="@firebase/remote-config",_r=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class oi{constructor(k,K,ge,Be){this.client=k,this.storage=K,this.storageCache=ge,this.logger=Be}isCachedDataFresh(k,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-K,Be=ge<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Be}.`),Be}fetch(k){var K=this;return(0,V.Z)(function*(){const[ge,Be]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Be&&K.isCachedDataFresh(k.cacheMaxAgeMillis,ge))return Be;k.eTag=Be&&Be.eTag;const tt=yield K.client.fetch(k),St=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&St.push(K.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(St),tt})()}}function Po(A=navigator){return A.languages&&A.languages[0]||A.language}class Is{constructor(k,K,ge,Be,tt,St){this.firebaseInstallations=k,this.sdkVersion=K,this.namespace=ge,this.projectId=Be,this.apiKey=tt,this.appId=St}fetch(k){var K=this;return(0,V.Z)(function*(){var ge,Be,tt;const[St,on]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),rr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Xn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},En={sdk_version:K.sdkVersion,app_instance_id:St,app_instance_id_token:on,app_id:K.appId,language_code:Po()},fs={method:"POST",headers:Xn,body:JSON.stringify(En)},wi=fetch(rr,fs),pu=new Promise((Aa,yo)=>{k.signal.addEventListener(()=>{const Zo=new Error("The operation was aborted.");Zo.name="AbortError",yo(Zo)})});let xo;try{yield Promise.race([wi,pu]),xo=yield wi}catch(Aa){let yo="fetch-client-network";throw"AbortError"===(null===(ge=Aa)||void 0===ge?void 0:ge.name)&&(yo="fetch-timeout"),_r.create(yo,{originalErrorMessage:null===(Be=Aa)||void 0===Be?void 0:Be.message})}let mo=xo.status;const la=xo.headers.get("ETag")||void 0;let ca,ya;if(200===xo.status){let Aa;try{Aa=yield xo.json()}catch(yo){throw _r.create("fetch-client-parse",{originalErrorMessage:null===(tt=yo)||void 0===tt?void 0:tt.message})}ca=Aa.entries,ya=Aa.state}if("INSTANCE_STATE_UNSPECIFIED"===ya?mo=500:"NO_CHANGE"===ya?mo=304:("NO_TEMPLATE"===ya||"EMPTY_CONFIG"===ya)&&(ca={}),304!==mo&&200!==mo)throw _r.create("fetch-status",{httpStatus:mo});return{status:mo,eTag:la,config:ca}})()}}class ke{constructor(k,K){this.client=k,this.storage=K}fetch(k){var K=this;return(0,V.Z)(function*(){const ge=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(k,ge)})()}attemptFetch(k,{throttleEndTimeMillis:K,backoffCount:ge}){var Be=this;return(0,V.Z)(function*(){yield function Ci(A,k){return new Promise((K,ge)=>{const Be=Math.max(k-Date.now(),0),tt=setTimeout(K,Be);A.addEventListener(()=>{clearTimeout(tt),ge(_r.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,K);try{const tt=yield Be.client.fetch(k);return yield Be.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function Re(A){if(!(A instanceof me.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}(tt))throw tt;const St={throttleEndTimeMillis:Date.now()+(0,me.$s)(ge),backoffCount:ge+1};return yield Be.storage.setThrottleMetadata(St),Be.attemptFetch(k,St)}})()}}class Ut{constructor(k,K,ge,Be,tt){this.app=k,this._client=K,this._storageCache=ge,this._storage=Be,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ln(A,k){var K;const ge=A.target.error||void 0;return _r.create(k,{originalErrorMessage:ge&&(null===(K=ge)||void 0===K?void 0:K.message)})}const Hn="app_namespace_store";class Ls{constructor(k,K,ge,Be=function li(){return new Promise((A,k)=>{var K;try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=Be=>{k(ln(Be,"storage-open"))},ge.onsuccess=Be=>{A(Be.target.result)},ge.onupgradeneeded=Be=>{0===Be.oldVersion&&Be.target.result.createObjectStore(Hn,{keyPath:"compositeKey"})}}catch(ge){k(_r.create("storage-open",{originalErrorMessage:null===(K=ge)||void 0===K?void 0:K.message}))}})}()){this.appId=k,this.appName=K,this.namespace=ge,this.openDbPromise=Be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var K=this;return(0,V.Z)(function*(){const ge=yield K.openDbPromise;return new Promise((Be,tt)=>{var St;const Rn=ge.transaction([Hn],"readonly").objectStore(Hn),rr=K.createCompositeKey(k);try{const Xn=Rn.get(rr);Xn.onerror=En=>{tt(ln(En,"storage-get"))},Xn.onsuccess=En=>{const fs=En.target.result;Be(fs?fs.value:void 0)}}catch(Xn){tt(_r.create("storage-get",{originalErrorMessage:null===(St=Xn)||void 0===St?void 0:St.message}))}})})()}set(k,K){var ge=this;return(0,V.Z)(function*(){const Be=yield ge.openDbPromise;return new Promise((tt,St)=>{var on;const rr=Be.transaction([Hn],"readwrite").objectStore(Hn),Xn=ge.createCompositeKey(k);try{const En=rr.put({compositeKey:Xn,value:K});En.onerror=fs=>{St(ln(fs,"storage-set"))},En.onsuccess=()=>{tt()}}catch(En){St(_r.create("storage-set",{originalErrorMessage:null===(on=En)||void 0===on?void 0:on.message}))}})})()}delete(k){var K=this;return(0,V.Z)(function*(){const ge=yield K.openDbPromise;return new Promise((Be,tt)=>{var St;const Rn=ge.transaction([Hn],"readwrite").objectStore(Hn),rr=K.createCompositeKey(k);try{const Xn=Rn.delete(rr);Xn.onerror=En=>{tt(ln(En,"storage-delete"))},Xn.onsuccess=()=>{Be()}}catch(Xn){tt(_r.create("storage-delete",{originalErrorMessage:null===(St=Xn)||void 0===St?void 0:St.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class zs{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,V.Z)(function*(){const K=k.storage.getLastFetchStatus(),ge=k.storage.getLastSuccessfulFetchTimestampMillis(),Be=k.storage.getActiveConfig(),tt=yield K;tt&&(k.lastFetchStatus=tt);const St=yield ge;St&&(k.lastSuccessfulFetchTimestampMillis=St);const on=yield Be;on&&(k.activeConfig=on)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Xs(){return Si.apply(this,arguments)}function Si(){return(Si=(0,V.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function Qi(){(0,ye._registerComponent)(new ne.wA("remote-config",function A(k,{instanceIdentifier:K}){const ge=k.getProvider("app").getImmediate(),Be=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _r.create("registration-window");if(!(0,me.hl)())throw _r.create("indexed-db-unavailable");const{projectId:tt,apiKey:St,appId:on}=ge.options;if(!tt)throw _r.create("registration-project-id");if(!St)throw _r.create("registration-api-key");if(!on)throw _r.create("registration-app-id");const Rn=new Ls(on,ge.name,K=K||"firebase"),rr=new zs(Rn),Xn=new fe.Yd(vr);Xn.logLevel=fe.in.ERROR;const En=new Is(Be,ye.SDK_VERSION,K,tt,St,on),fs=new ke(En,Rn),wi=new oi(fs,Rn,rr,Xn),pu=new Ut(ge,wi,rr,Rn,Xn);return function ms(A){const k=(0,me.m9)(A);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(pu),pu},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(vr,"0.3.11"),(0,ye.registerVersion)(vr,"0.3.11","esm2017")}();const Xi="/firebase-messaging-sw.js",ys="/firebase-cloud-messaging-push-scope",lo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",co="google.c.a.c_id",zi="google.c.a.c_l",Ds="google.c.a.ts",Ts="google.c.a.e";var Oi=(()=>{return(A=Oi||(Oi={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Oi;var A})();function nr(A){const k=new Uint8Array(A);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ho(A){const K=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(K),Be=new Uint8Array(ge.length);for(let tt=0;tt<ge.length;++tt)Be[tt]=ge.charCodeAt(tt);return Be}const eo="fcm_token_details_db",Vs="fcm_token_object_Store";function bo(A){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,V.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tt=>tt.name).includes(eo))return null;let k=null;return(yield(0,ee.X3)(eo,5,{upgrade:(ge=(0,V.Z)(function*(Be,tt,St,on){var Rn;if(tt<2||!Be.objectStoreNames.contains(Vs))return;const rr=on.objectStore(Vs),Xn=yield rr.index("fcmSenderId").get(A);if(yield rr.clear(),Xn)if(2===tt){const En=Xn;if(!En.auth||!En.p256dh||!En.endpoint)return;k={token:En.fcmToken,createTime:null!==(Rn=En.createTime)&&void 0!==Rn?Rn:Date.now(),subscriptionOptions:{auth:En.auth,p256dh:En.p256dh,endpoint:En.endpoint,swScope:En.swScope,vapidKey:"string"==typeof En.vapidKey?En.vapidKey:nr(En.vapidKey)}}}else if(3===tt){const En=Xn;k={token:En.fcmToken,createTime:En.createTime,subscriptionOptions:{auth:nr(En.auth),p256dh:nr(En.p256dh),endpoint:En.endpoint,swScope:En.swScope,vapidKey:nr(En.vapidKey)}}}else if(4===tt){const En=Xn;k={token:En.fcmToken,createTime:En.createTime,subscriptionOptions:{auth:nr(En.auth),p256dh:nr(En.p256dh),endpoint:En.endpoint,swScope:En.swScope,vapidKey:nr(En.vapidKey)}}}}),function(tt,St,on,Rn){return ge.apply(this,arguments)})})).close(),yield(0,ee.Lj)(eo),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),na(k)?k:null;var ge}),Dr.apply(this,arguments)}function na(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:k}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const ur="firebase-messaging-store";let Us=null;function Cs(){return Us||(Us=(0,ee.X3)("firebase-messaging-database",1,{upgrade:(A,k)=>{0===k&&A.createObjectStore(ur)}})),Us}function ki(A){return N.apply(this,arguments)}function N(){return(N=(0,V.Z)(function*(A){const k=Xe(A),ge=yield(yield Cs()).transaction(ur).objectStore(ur).get(k);if(ge)return ge;{const Be=yield bo(A.appConfig.senderId);if(Be)return yield W(A,Be),Be}})).apply(this,arguments)}function W(A,k){return R.apply(this,arguments)}function R(){return(R=(0,V.Z)(function*(A,k){const K=Xe(A),Be=(yield Cs()).transaction(ur,"readwrite");return yield Be.objectStore(ur).put(k,K),yield Be.done,k})).apply(this,arguments)}function J(A){return xe.apply(this,arguments)}function xe(){return(xe=(0,V.Z)(function*(A){const k=Xe(A),ge=(yield Cs()).transaction(ur,"readwrite");yield ge.objectStore(ur).delete(k),yield ge.done})).apply(this,arguments)}function Xe({appConfig:A}){return A.appId}const yt=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pr(A,k){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,V.Z)(function*(A,k){var K;const ge=yield Xr(A),Be=Wn(k),tt={method:"POST",headers:ge,body:JSON.stringify(Be)};let St;try{St=yield(yield fetch(Ar(A.appConfig),tt)).json()}catch(on){throw yt.create("token-subscribe-failed",{errorInfo:null===(K=on)||void 0===K?void 0:K.toString()})}if(St.error)throw yt.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw yt.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function Hr(A,k){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,V.Z)(function*(A,k){var K;const ge=yield Xr(A),Be=Wn(k.subscriptionOptions),tt={method:"PATCH",headers:ge,body:JSON.stringify(Be)};let St;try{St=yield(yield fetch(`${Ar(A.appConfig)}/${k.token}`,tt)).json()}catch(on){throw yt.create("token-update-failed",{errorInfo:null===(K=on)||void 0===K?void 0:K.toString()})}if(St.error)throw yt.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw yt.create("token-update-no-token");return St.token})).apply(this,arguments)}function Ai(A,k){return wr.apply(this,arguments)}function wr(){return(wr=(0,V.Z)(function*(A,k){var K;const Be={method:"DELETE",headers:yield Xr(A)};try{const St=yield(yield fetch(`${Ar(A.appConfig)}/${k}`,Be)).json();if(St.error)throw yt.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(tt){throw yt.create("token-unsubscribe-failed",{errorInfo:null===(K=tt)||void 0===K?void 0:K.toString()})}})).apply(this,arguments)}function Ar({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Xr(A){return ut.apply(this,arguments)}function ut(){return(ut=(0,V.Z)(function*({appConfig:A,installations:k}){const K=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Wn({p256dh:A,auth:k,endpoint:K,vapidKey:ge}){const Be={web:{endpoint:K,auth:k,p256dh:A}};return ge!==lo&&(Be.web.applicationPubKey=ge),Be}const Fi=6048e5;function vi(A){return xr.apply(this,arguments)}function xr(){return(xr=(0,V.Z)(function*(A){const k=yield ra(A.swRegistration,A.vapidKey),K={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:k.endpoint,auth:nr(k.getKey("auth")),p256dh:nr(k.getKey("p256dh"))},ge=yield ki(A.firebaseDependencies);if(ge){if(_s(ge.subscriptionOptions,K))return Date.now()>=ge.createTime+Fi?vs(A,{token:ge.token,createTime:Date.now(),subscriptionOptions:K}):ge.token;try{yield Ai(A.firebaseDependencies,ge.token)}catch(Be){console.warn(Be)}return Ps(A.firebaseDependencies,K)}return Ps(A.firebaseDependencies,K)})).apply(this,arguments)}function Ks(A){return qs.apply(this,arguments)}function qs(){return(qs=(0,V.Z)(function*(A){const k=yield ki(A.firebaseDependencies);k&&(yield Ai(A.firebaseDependencies,k.token),yield J(A.firebaseDependencies));const K=yield A.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function vs(A,k){return no.apply(this,arguments)}function no(){return(no=(0,V.Z)(function*(A,k){try{const K=yield Hr(A.firebaseDependencies,k),ge=Object.assign(Object.assign({},k),{token:K,createTime:Date.now()});return yield W(A.firebaseDependencies,ge),K}catch(K){throw yield Ks(A),K}})).apply(this,arguments)}function Ps(A,k){return ds.apply(this,arguments)}function ds(){return(ds=(0,V.Z)(function*(A,k){const ge={token:yield Pr(A,k),createTime:Date.now(),subscriptionOptions:k};return yield W(A,ge),ge.token})).apply(this,arguments)}function ra(A,k){return jo.apply(this,arguments)}function jo(){return(jo=(0,V.Z)(function*(A,k){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ho(k)})})).apply(this,arguments)}function _s(A,k){return k.vapidKey===A.vapidKey&&k.endpoint===A.endpoint&&k.auth===A.auth&&k.p256dh===A.p256dh}function ei(A){const k={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Ss(A,k){if(!k.notification)return;A.notification={};const K=k.notification.title;K&&(A.notification.title=K);const ge=k.notification.body;ge&&(A.notification.body=ge);const Be=k.notification.image;Be&&(A.notification.image=Be)}(k,A),function $o(A,k){!k.data||(A.data=k.data)}(k,A),function Bs(A,k){var K,ge,Be,tt,St;if(!(k.fcmOptions||null!==(K=k.notification)&&void 0!==K&&K.click_action))return;A.fcmOptions={};const on=null!==(Be=null===(ge=k.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==Be?Be:null===(tt=k.notification)||void 0===tt?void 0:tt.click_action;on&&(A.fcmOptions.link=on);const Rn=null===(St=k.fcmOptions)||void 0===St?void 0:St.analytics_label;Rn&&(A.fcmOptions.analyticsLabel=Rn)}(k,A),k}function ws(A){return"object"==typeof A&&!!A&&co in A}function Io(A,k){const K=[];for(let ge=0;ge<A.length;ge++)K.push(A.charAt(ge)),ge<k.length&&K.push(k.charAt(ge));return K.join("")}function Do(A){return yt.create("missing-app-config-values",{valueName:A})}Io("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Io("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ho{constructor(k,K,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Be=function Oo(A){if(!A||!A.options)throw Do("App Configuration Object");if(!A.name)throw Do("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:K}=A;for(const ge of k)if(!K[ge])throw Do(ge);return{appName:A.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Be,installations:K,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function Os(A){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,V.Z)(function*(A){var k;try{A.swRegistration=yield navigator.serviceWorker.register(Xi,{scope:ys}),A.swRegistration.update().catch(()=>{})}catch(K){throw yt.create("failed-service-worker-registration",{browserErrorMessage:null===(k=K)||void 0===k?void 0:k.message})}})).apply(this,arguments)}function ti(A,k){return fo.apply(this,arguments)}function fo(){return(fo=(0,V.Z)(function*(A,k){if(!k&&!A.swRegistration&&(yield Os(A)),k||!A.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");A.swRegistration=k}})).apply(this,arguments)}function ba(A,k){return To.apply(this,arguments)}function To(){return(To=(0,V.Z)(function*(A,k){k?A.vapidKey=k:A.vapidKey||(A.vapidKey=lo)})).apply(this,arguments)}function zo(){return(zo=(0,V.Z)(function*(A,k){if(!navigator)throw yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yt.create("permission-blocked");return yield ba(A,k?.vapidKey),yield ti(A,k?.serviceWorkerRegistration),vi(A)})).apply(this,arguments)}function ga(A,k,K){return ro.apply(this,arguments)}function ro(){return(ro=(0,V.Z)(function*(A,k,K){const ge=ia(k);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:K[co],message_name:K[zi],message_time:K[Ds],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ia(A){switch(A){case Oi.NOTIFICATION_CLICKED:return"notification_open";case Oi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sa(){return(sa=(0,V.Z)(function*(A,k){const K=k.data;if(!K.isFirebaseMessaging)return;A.onMessageHandler&&K.messageType===Oi.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(ei(K)):A.onMessageHandler.next(ei(K)));const ge=K.data;ws(ge)&&"1"===ge[Ts]&&(yield ga(A,K.messageType,ge))})).apply(this,arguments)}const As="@firebase/messaging",ks=A=>{const k=new Ho(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function io(A,k){return sa.apply(this,arguments)}(k,K)),k},Br=A=>{const k=A.getProvider("messaging").getImmediate();return{getToken:ge=>function pa(A,k){return zo.apply(this,arguments)}(k,ge)}};function v(){return w.apply(this,arguments)}function w(){return(w=(0,V.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $(){(0,ye._registerComponent)(new ne.wA("messaging",ks,"PUBLIC")),(0,ye._registerComponent)(new ne.wA("messaging-internal",Br,"PRIVATE")),(0,ye.registerVersion)(As,"0.9.16"),(0,ye.registerVersion)(As,"0.9.16","esm2017")}();const B="analytics",z="firebase_id",Q="origin",Me="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pe="https://www.googletagmanager.com/gtag/js",$e=new fe.Yd("@firebase/analytics");function gt(A){return Promise.all(A.map(k=>k.catch(K=>K)))}function vn(A,k){const K=document.createElement("script");K.src=`${Pe}?l=${A}&id=${k}`,K.async=!0,document.head.appendChild(K)}function bn(A,k,K,ge,Be,tt){return kn.apply(this,arguments)}function kn(){return(kn=(0,V.Z)(function*(A,k,K,ge,Be,tt){const St=ge[Be];try{if(St)yield k[St];else{const Rn=(yield gt(K)).find(rr=>rr.measurementId===Be);Rn&&(yield k[Rn.appId])}}catch(on){$e.error(on)}A("config",Be,tt)})).apply(this,arguments)}function Yn(A,k,K,ge,Be){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,V.Z)(function*(A,k,K,ge,Be){try{let tt=[];if(Be&&Be.send_to){let St=Be.send_to;Array.isArray(St)||(St=[St]);const on=yield gt(K);for(const Rn of St){const rr=on.find(En=>En.measurementId===Rn),Xn=rr&&k[rr.appId];if(!Xn){tt=[];break}tt.push(Xn)}}0===tt.length&&(tt=Object.values(k)),yield Promise.all(tt),A("event",ge,Be||{})}catch(tt){$e.error(tt)}})).apply(this,arguments)}function di(){const A=window.document.getElementsByTagName("script");for(const k of Object.values(A))if(k.src&&k.src.includes(Pe))return k;return null}const pr=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),In=new class cn{constructor(k={},K=1e3){this.throttleMetadata=k,this.intervalMillis=K}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,K){this.throttleMetadata[k]=K}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Mn(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Jn(A){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,V.Z)(function*(A){var k;const{appId:K,apiKey:ge}=A,Be={method:"GET",headers:Mn(ge)},tt=Me.replace("{app-id}",K),St=yield fetch(tt,Be);if(200!==St.status&&304!==St.status){let on="";try{const Rn=yield St.json();null!==(k=Rn.error)&&void 0!==k&&k.message&&(on=Rn.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:St.status,responseMessage:on})}return St.json()})).apply(this,arguments)}function qi(A){return Or.apply(this,arguments)}function Or(){return(Or=(0,V.Z)(function*(A,k=In,K){const{appId:ge,apiKey:Be,measurementId:tt}=A.options;if(!ge)throw pr.create("no-app-id");if(!Be){if(tt)return{measurementId:tt,appId:ge};throw pr.create("no-api-key")}const St=k.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},on=new Dt;return setTimeout((0,V.Z)(function*(){on.abort()}),void 0!==K?K:6e4),xi({appId:ge,apiKey:Be,measurementId:tt},St,on,k)})).apply(this,arguments)}function xi(A,k,K){return tr.apply(this,arguments)}function tr(){return(tr=(0,V.Z)(function*(A,{throttleEndTimeMillis:k,backoffCount:K},ge,Be=In){var tt,St;const{appId:on,measurementId:Rn}=A;try{yield Co(ge,k)}catch(rr){if(Rn)return $e.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rn} provided in the "measurementId" field in the local Firebase config. [${null===(tt=rr)||void 0===tt?void 0:tt.message}]`),{appId:on,measurementId:Rn};throw rr}try{const rr=yield Jn(A);return Be.deleteThrottleMetadata(on),rr}catch(rr){const Xn=rr;if(!ma(Xn)){if(Be.deleteThrottleMetadata(on),Rn)return $e.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rn} provided in the "measurementId" field in the local Firebase config. [${Xn?.message}]`),{appId:on,measurementId:Rn};throw rr}const En=503===Number(null===(St=Xn?.customData)||void 0===St?void 0:St.httpStatus)?(0,me.$s)(K,Be.intervalMillis,30):(0,me.$s)(K,Be.intervalMillis),fs={throttleEndTimeMillis:Date.now()+En,backoffCount:K+1};return Be.setThrottleMetadata(on,fs),$e.debug(`Calling attemptFetch again in ${En} millis`),xi(A,fs,ge,Be)}})).apply(this,arguments)}function Co(A,k){return new Promise((K,ge)=>{const Be=Math.max(k-Date.now(),0),tt=setTimeout(K,Be);A.addEventListener(()=>{clearTimeout(tt),ge(pr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function ma(A){if(!(A instanceof me.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}class Dt{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let jr,Go;function so(){return(so=(0,V.Z)(function*(A,k,K,ge,Be){if(Be&&Be.global)A("event",K,ge);else{const tt=yield k;A("event",K,Object.assign(Object.assign({},ge),{send_to:tt}))}})).apply(this,arguments)}function Ju(A){Go=A}function Pa(A){jr=A}function du(){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,V.Z)(function*(){var A;if(!(0,me.hl)())return $e.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(k){return $e.warn(pr.create("indexeddb-unavailable",{errorInfo:null===(A=k)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function Oa(){return(Oa=(0,V.Z)(function*(A,k,K,ge,Be,tt,St){var on;const Rn=qi(A);Rn.then(wi=>{K[wi.measurementId]=wi.appId,A.options.measurementId&&wi.measurementId!==A.options.measurementId&&$e.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wi=>$e.error(wi)),k.push(Rn);const rr=du().then(wi=>{if(wi)return ge.getId()}),[Xn,En]=yield Promise.all([Rn,rr]);di()||vn(tt,Xn.measurementId),Go&&(Be("consent","default",Go),Ju(void 0)),Be("js",new Date);const fs=null!==(on=St?.config)&&void 0!==on?on:{};return fs[Q]="firebase",fs.update=!0,null!=En&&(fs[z]=En),Be("config",Xn.measurementId,fs),jr&&(Be("set",jr),Pa(void 0)),Xn.measurementId})).apply(this,arguments)}class _i{constructor(k){this.app=k}_delete(){return delete Fs[this.app.options.appId],Promise.resolve()}}let Fs={},po=[];const qn={};let Mi,Nn,oo="dataLayer",Rr=!1;function Fr(A,k,K){!function Xu(){const A=[];if((0,me.ru)()&&A.push("This is a browser extension environment."),(0,me.zI)()||A.push("Cookies are not available."),A.length>0){const k=A.map((ge,Be)=>`(${Be+1}) ${ge}`).join(" "),K=pr.create("invalid-analytics-context",{errorInfo:k});$e.warn(K.message)}}();const ge=A.options.appId;if(!ge)throw pr.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw pr.create("no-api-key");$e.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fs[ge])throw pr.create("already-exists",{id:ge});if(!Rr){!function dn(A){let k=[];Array.isArray(window[A])?k=window[A]:window[A]=k}(oo);const{wrappedGtag:tt,gtagCore:St}=function ci(A,k,K,ge,Be){let tt=function(...St){window[ge].push(arguments)};return window[Be]&&"function"==typeof window[Be]&&(tt=window[Be]),window[Be]=function Kr(A,k,K,ge){function tt(){return(tt=(0,V.Z)(function*(St,on,Rn){try{"event"===St?yield Yn(A,k,K,on,Rn):"config"===St?yield bn(A,k,K,ge,on,Rn):"consent"===St?A("consent","update",Rn):A("set",on)}catch(rr){$e.error(rr)}})).apply(this,arguments)}return function Be(St,on,Rn){return tt.apply(this,arguments)}}(tt,A,k,K),{gtagCore:tt,wrappedGtag:window[Be]}}(Fs,po,qn,oo,"gtag");Nn=tt,Mi=St,Rr=!0}return Fs[ge]=function Vi(A,k,K,ge,Be,tt,St){return Oa.apply(this,arguments)}(A,po,qn,k,Mi,oo,K),new _i(A)}function ka(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,V.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const Ta="@firebase/analytics";!function So(){(0,ye._registerComponent)(new ne.wA(B,(k,{options:K})=>Fr(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,ye._registerComponent)(new ne.wA("analytics-internal",function A(k){try{const K=k.getProvider(B).getImmediate();return{logEvent:(ge,Be,tt)=>function Da(A,k,K,ge){A=(0,me.m9)(A),function Zi(A,k,K,ge,Be){return so.apply(this,arguments)}(Nn,Fs[A.app.options.appId],k,K,ge).catch(Be=>$e.error(Be))}(K,ge,Be,tt)}}catch(K){throw pr.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,ye.registerVersion)(Ta,"0.8.0"),(0,ye.registerVersion)(Ta,"0.8.0","esm2017")}();var qo=U(341),oa=U(353),Je=U(2868),Ca=U(3334),Ys=U(7770);const tl=new g.GfV("7.4.1"),Sa="__angularfire_symbol__analyticsIsSupportedValue",go="__angularfire_symbol__analyticsIsSupported",fu="__angularfire_symbol__remoteConfigIsSupportedValue",E="__angularfire_symbol__remoteConfigIsSupported",b="__angularfire_symbol__messagingIsSupportedValue",_="__angularfire_symbol__messagingIsSupported";function Ce(A,k,K){if(k){if(1===k.length)return k[0];const tt=k.filter(St=>St.app===K);if(1===tt.length)return tt[0]}return K.container.getProvider(A).getImmediate({optional:!0})}globalThis[go]||(globalThis[go]=ka().then(A=>globalThis[Sa]=A).catch(()=>globalThis[Sa]=!1)),globalThis[_]||(globalThis[_]=v().then(A=>globalThis[b]=A).catch(()=>globalThis[b]=!1)),globalThis[E]||(globalThis[E]=Xs().then(A=>globalThis[fu]=A).catch(()=>globalThis[fu]=!1));const lt=(A,k)=>{const K=k?[k]:(0,F.C6)(),ge=[];return K.forEach(Be=>{Be.container.getProvider(A).instances.forEach(St=>{ge.includes(St)||ge.push(St)})}),ge};function Rt(){}class hr{constructor(k,K=qo.N){this.zone=k,this.delegate=K}now(){return this.delegate.now()}schedule(k,K,ge){const Be=this.zone;return this.delegate.schedule(function(St){Be.runGuarded(()=>{k.apply(this,[St])})},K,ge)}}class Jt{constructor(k){this.zone=k,this.task=null}call(k,K){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rt,{},Rt,Rt)),K.pipe((0,Je.b)({next:ge,complete:ge,error:ge})).subscribe(k).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dn=(()=>{class A{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new hr(Zone.current)),this.insideAngular=K.run(()=>new hr(Zone.current,oa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(K){return new(K||A)(g.LFG(g.R0b))},A.\u0275prov=g.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function rs(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function aa(A){return rs(),function Ao(A){return function(K){return(K=K.lift(new Jt(A.ngZone))).pipe((0,Ca.R)(A.outsideAngular),(0,Ys.QV)(A.insideAngular))}}(rs())(A)}},6803:(Kt,Ge,U)=>{U.d(Ge,{$:()=>Zs,A:()=>Yt,B:()=>wt,G:()=>Rs,H:()=>Re,J:()=>nr,L:()=>ji,M:()=>W,N:()=>Xe,P:()=>k,Q:()=>It,R:()=>hr,T:()=>yt,U:()=>xe,V:()=>Gn,W:()=>Ai,X:()=>Wn,Y:()=>$o,Z:()=>ws,_:()=>Oo,a:()=>Pa,a0:()=>pa,a1:()=>ga,a2:()=>ia,a3:()=>sa,a4:()=>Gi,a5:()=>Br,a6:()=>v,a7:()=>w,a8:()=>G,a9:()=>re,aA:()=>jd,aB:()=>Vl,aC:()=>Fc,aD:()=>yf,aE:()=>ui,aI:()=>Vi,aL:()=>Tr,aa:()=>pt,ab:()=>B,ac:()=>Q,af:()=>$e,ag:()=>vn,ah:()=>dn,ak:()=>qs,al:()=>Wi,an:()=>ma,ao:()=>Vn,ap:()=>Wr,aq:()=>Qt,ar:()=>Ur,as:()=>Es,at:()=>an,au:()=>al,av:()=>Bl,aw:()=>Cn,ax:()=>mt,ay:()=>$n,az:()=>Zr,b:()=>Go,c:()=>Xn,d:()=>pu,e:()=>fs,f:()=>Ud,g:()=>qa,h:()=>hi,i:()=>Ta,j:()=>Lc,k:()=>wu,l:()=>ni,m:()=>Gl,o:()=>Mr,r:()=>hs,s:()=>rs,u:()=>ua});var g=U(5861),F=U(2090),V=U(9681);function fe(y,d){var f={};for(var I in y)Object.prototype.hasOwnProperty.call(y,I)&&d.indexOf(I)<0&&(f[I]=y[I]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var j=0;for(I=Object.getOwnPropertySymbols(y);j<I.length;j++)d.indexOf(I[j])<0&&Object.prototype.propertyIsEnumerable.call(y,I[j])&&(f[I[j]]=y[I[j]])}return f}var ft=U(1877),Fn=U(4859);const Mr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Yt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const wt=function lr(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},at=function Tn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lt=new ft.Yd("@firebase/auth");function pn(y,...d){Lt.logLevel<=ft.in.ERROR&&Lt.error(`Auth (${V.SDK_VERSION}): ${y}`,...d)}function an(y,...d){throw _n(y,...d)}function Cn(y,...d){return _n(y,...d)}function sr(y,d,f){const I=Object.assign(Object.assign({},at()),{[d]:f});return new F.LL("auth","Firebase",I).create(d,{appName:y.name})}function br(y,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&an(y,"argument-error"),sr(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _n(y,...d){if("string"!=typeof y){const f=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=y.name),y._errorFactory.create(f,...I)}return Ue.create(y,...d)}function mt(y,d,...f){if(!y)throw _n(d,...f)}function er(y){const d="INTERNAL ASSERTION FAILED: "+y;throw pn(d),new Error(d)}function Qt(y,d){y||er(d)}const qt=new Map;function $n(y){Qt(y instanceof Function,"Expected a class definition");let d=qt.get(y);return d?(Qt(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,qt.set(y,d),d)}function ri(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function cr(){return"http:"===Pn()||"https:"===Pn()}function Pn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Xt{constructor(d,f){this.shortDelay=d,this.longDelay=f,Qt(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Vr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cr()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ot(y,d){Qt(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class yr{static initialize(d,f,I){this.fetchImpl=d,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Er=new Xt(3e4,6e4);function Ht(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Mt(y,d,f,I){return ii.apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(y,d,f,I,j={}){return On(y,j,(0,g.Z)(function*(){let q={},Ae={};I&&("GET"===d?Ae=I:q={body:JSON.stringify(I)});const st=(0,F.xO)(Object.assign({key:y.config.apiKey},Ae)).slice(1),rn=yield y._getAdditionalHeaders();return rn["Content-Type"]="application/json",y.languageCode&&(rn["X-Firebase-Locale"]=y.languageCode),yr.fetch()(De(y,y.config.apiHost,f,st),Object.assign({method:d,headers:rn,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function On(y,d,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,g.Z)(function*(y,d,f){y._canInitEmulator=!1;const I=Object.assign(Object.assign({},zr),d);try{const j=new de(y),q=yield Promise.race([f(),j.promise]);j.clearNetworkTimeout();const Ae=yield q.json();if("needConfirmation"in Ae)throw we(y,"account-exists-with-different-credential",Ae);if(q.ok&&!("errorMessage"in Ae))return Ae;{const st=q.ok?Ae.errorMessage:Ae.error.message,[rn,jt]=st.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rn)throw we(y,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===rn)throw we(y,"email-already-in-use",Ae);if("USER_DISABLED"===rn)throw we(y,"user-disabled",Ae);const Un=I[rn]||rn.toLowerCase().replace(/[_\s]+/g,"-");if(jt)throw sr(y,Un,jt);an(y,Un)}}catch(j){if(j instanceof F.ZR)throw j;an(y,"network-request-failed")}})).apply(this,arguments)}function gn(y,d,f,I){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,g.Z)(function*(y,d,f,I,j={}){const q=yield Mt(y,d,f,I,j);return"mfaPendingCredential"in q&&an(y,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function De(y,d,f,I){const j=`${d}${f}?${I}`;return y.config.emulator?Ot(y.config,j):`${y.config.apiScheme}://${j}`}class de{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(Cn(this.auth,"network-request-failed")),Er.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function we(y,d,f){const I={appName:y.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const j=Cn(y,d,I);return j.customData._tokenResponse=f,j}function ht(){return(ht=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function zt(y,d){return nn.apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function zn(y,d){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Nr(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function _e(){return(_e=(0,g.Z)(function*(y,d=!1){const f=(0,F.m9)(y),I=yield f.getIdToken(d),j=At(I);mt(j&&j.exp&&j.auth_time&&j.iat,f.auth,"internal-error");const q="object"==typeof j.firebase?j.firebase:void 0,Ae=q?.sign_in_provider;return{claims:j,token:I,authTime:Nr(rt(j.auth_time)),issuedAtTime:Nr(rt(j.iat)),expirationTime:Nr(rt(j.exp)),signInProvider:Ae||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function rt(y){return 1e3*Number(y)}function At(y){var d;const[f,I,j]=y.split(".");if(void 0===f||void 0===I||void 0===j)return pn("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,F.tV)(I);return q?JSON.parse(q):(pn("Failed to decode base64 JWT payload"),null)}catch(q){return pn("Caught error parsing JWT payload as JSON",null===(d=q)||void 0===d?void 0:d.toString()),null}}function nt(y,d){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(y,d,f=!1){if(f)return d;try{return yield d}catch(I){throw I instanceof F.ZR&&Ne(I)&&y.auth.currentUser===y&&(yield y.auth.signOut()),I}})).apply(this,arguments)}function Ne({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class be{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const j=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),I)}iteration(){var d=this;return(0,g.Z)(function*(){var f;try{yield d.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(f=I)||void 0===f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class ae{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nr(this.lastLoginAt),this.creationTime=Nr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ee(y){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.Z)(function*(y){var d;const f=y.auth,I=yield y.getIdToken(),j=yield nt(y,zn(f,{idToken:I}));mt(j?.users.length,f,"internal-error");const q=j.users[0];y._notifyReloadListener(q);const Ae=null!==(d=q.providerUserInfo)&&void 0!==d&&d.length?wn(q.providerUserInfo):[],st=jn(y.providerData,Ae),Un=!!y.isAnonymous&&!(y.email&&q.passwordHash||st?.length),Lr={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:st,metadata:new ae(q.createdAt,q.lastLoginAt),isAnonymous:Un};Object.assign(y,Lr)})).apply(this,arguments)}function un(){return(un=(0,g.Z)(function*(y){const d=(0,F.m9)(y);yield Ee(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function jn(y,d){return[...y.filter(I=>!d.some(j=>j.providerId===I.providerId)),...d]}function wn(y){return y.map(d=>{var{providerId:f}=d,I=fe(d,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Bi(){return(Bi=(0,g.Z)(function*(y,d){const f=yield On(y,{},(0,g.Z)(function*(){const I=(0,F.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:j,apiKey:q}=y.config,Ae=De(y,j,"/v1/token",`key=${q}`),st=yield y._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",yr.fetch()(Ae,{method:"POST",headers:st,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Ei{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){mt(d.idToken,"internal-error"),mt(typeof d.idToken<"u","internal-error"),mt(typeof d.refreshToken<"u","internal-error");const f="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function mn(y){const d=At(y);return mt(d,"internal-error"),mt(typeof d.exp<"u","internal-error"),mt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var I=this;return(0,g.Z)(function*(){return mt(!I.accessToken||I.refreshToken,d,"user-token-expired"),f||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var I=this;return(0,g.Z)(function*(){const{accessToken:j,refreshToken:q,expiresIn:Ae}=yield function os(y,d){return Bi.apply(this,arguments)}(d,f);I.updateTokensAndExpiration(j,q,Number(Ae))})()}updateTokensAndExpiration(d,f,I){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,f){const{refreshToken:I,accessToken:j,expirationTime:q}=f,Ae=new Ei;return I&&(mt("string"==typeof I,"internal-error",{appName:d}),Ae.refreshToken=I),j&&(mt("string"==typeof j,"internal-error",{appName:d}),Ae.accessToken=j),q&&(mt("number"==typeof q,"internal-error",{appName:d}),Ae.expirationTime=q),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Ei,this.toJSON())}_performRefresh(){return er("not implemented")}}function Gr(y,d){mt("string"==typeof y||typeof y>"u","internal-error",{appName:d})}class vr{constructor(d){var{uid:f,auth:I,stsTokenManager:j}=d,q=fe(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new ae(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,g.Z)(function*(){const I=yield nt(f,f.stsTokenManager.getToken(f.auth,d));return mt(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(d){return function ve(y){return _e.apply(this,arguments)}(this,d)}reload(){return function Bt(y){return un.apply(this,arguments)}(this)}_assign(d){this!==d&&(mt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new vr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var I=this;return(0,g.Z)(function*(){let j=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),j=!0),f&&(yield Ee(I)),yield I.auth._persistUserIfCurrent(I),j&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,g.Z)(function*(){const f=yield d.getIdToken();return yield nt(d,function pe(y,d){return ht.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var I,j,q,Ae,st,rn,jt,Un;const Lr=null!==(I=f.displayName)&&void 0!==I?I:void 0,fi=null!==(j=f.email)&&void 0!==j?j:void 0,Mo=null!==(q=f.phoneNumber)&&void 0!==q?q:void 0,Pi=null!==(Ae=f.photoURL)&&void 0!==Ae?Ae:void 0,kr=null!==(st=f.tenantId)&&void 0!==st?st:void 0,Wc=null!==(rn=f._redirectEventId)&&void 0!==rn?rn:void 0,Zd=null!==(jt=f.createdAt)&&void 0!==jt?jt:void 0,Jo=null!==(Un=f.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:ll,emailVerified:vo,isAnonymous:Wl,providerData:Xa,stsTokenManager:Kc}=f;mt(ll&&Kc,d,"internal-error");const va=Ei.fromJSON(this.name,Kc);mt("string"==typeof ll,d,"internal-error"),Gr(Lr,d.name),Gr(fi,d.name),mt("boolean"==typeof vo,d,"internal-error"),mt("boolean"==typeof Wl,d,"internal-error"),Gr(Mo,d.name),Gr(Pi,d.name),Gr(kr,d.name),Gr(Wc,d.name),Gr(Zd,d.name),Gr(Jo,d.name);const cl=new vr({uid:ll,auth:d,email:fi,emailVerified:vo,displayName:Lr,isAnonymous:Wl,photoURL:Pi,phoneNumber:Mo,tenantId:kr,stsTokenManager:va,createdAt:Zd,lastLoginAt:Jo});return Xa&&Array.isArray(Xa)&&(cl.providerData=Xa.map(bu=>Object.assign({},bu))),Wc&&(cl._redirectEventId=Wc),cl}static _fromIdTokenResponse(d,f,I=!1){return(0,g.Z)(function*(){const j=new Ei;j.updateFromServerResponse(f);const q=new vr({uid:f.localId,auth:d,stsTokenManager:j,isAnonymous:I});return yield Ee(q),q})()}}const ji=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,I){var j=this;return(0,g.Z)(function*(){j.storage[f]=I})()}_get(f){var I=this;return(0,g.Z)(function*(){const j=I.storage[f];return void 0===j?null:j})()}_remove(f){var I=this;return(0,g.Z)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return y.type="NONE",y})();function Zr(y,d,f){return`firebase:${y}:${d}:${f}`}class as{constructor(d,f,I){this.persistence=d,this.auth=f,this.userKey=I;const{config:j,name:q}=this.auth;this.fullUserKey=Zr(this.userKey,j.apiKey,q),this.fullPersistenceKey=Zr("persistence",j.apiKey,q),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?vr._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,g.Z)(function*(){if(f.persistence===d)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,I="authUser"){return(0,g.Z)(function*(){if(!f.length)return new as($n(ji),d,I);const j=(yield Promise.all(f.map(function(){var jt=(0,g.Z)(function*(Un){if(yield Un._isAvailable())return Un});return function(Un){return jt.apply(this,arguments)}}()))).filter(jt=>jt);let q=j[0]||$n(ji);const Ae=Zr(I,d.config.apiKey,d.name);let st=null;for(const jt of f)try{const Un=yield jt._get(Ae);if(Un){const Lr=vr._fromJSON(d,Un);jt!==q&&(st=Lr),q=jt;break}}catch{}const rn=j.filter(jt=>jt._shouldAllowMigration);return q._shouldAllowMigration&&rn.length?(q=rn[0],st&&(yield q._set(Ae,st.toJSON())),yield Promise.all(f.map(function(){var jt=(0,g.Z)(function*(Un){if(Un!==q)try{yield Un._remove(Ae)}catch{}});return function(Un){return jt.apply(this,arguments)}}())),new as(q,d,I)):new as(q,d,I)})()}}function _r(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Ii(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(dr(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ls(d))return"Blackberry";if(Ns(d))return"Webos";if(us(d))return"Safari";if((d.includes("chrome/")||$i(d))&&!d.includes("edge/"))return"Chrome";if(Es(d))return"Android";{const I=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function dr(y=(0,F.z$)()){return/firefox\//i.test(y)}function us(y=(0,F.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function $i(y=(0,F.z$)()){return/crios\//i.test(y)}function Ii(y=(0,F.z$)()){return/iemobile/i.test(y)}function Es(y=(0,F.z$)()){return/android/i.test(y)}function ls(y=(0,F.z$)()){return/blackberry/i.test(y)}function Ns(y=(0,F.z$)()){return/webos/i.test(y)}function Ur(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Wr(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function si(y=(0,F.z$)()){return Ur(y)||Es(y)||Ns(y)||ls(y)||/windows phone/i.test(y)||Ii(y)}function yi(y,d=[]){let f;switch(y){case"Browser":f=_r((0,F.z$)());break;case"Worker":f=`${_r((0,F.z$)())}-${y}`;break;default:f=y}const I=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${V.SDK_VERSION}/${I}`}class Hi{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const I=q=>new Promise((Ae,st)=>{try{Ae(d(q))}catch(rn){st(rn)}});I.onAbort=f,this.queue.push(I);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,g.Z)(function*(){var I;if(f.auth.currentUser===d)return;const j=[];try{for(const q of f.queue)yield q(d),q.onAbort&&j.push(q.onAbort)}catch(q){j.reverse();for(const Ae of j)try{Ae()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=q)||void 0===I?void 0:I.message})}})()}}class Ti{constructor(d,f,I){this.app=d,this.heartbeatServiceProvider=f,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cs(this),this.idTokenSubscription=new cs(this),this.beforeStateQueue=new Hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(d,f){var I=this;return f&&(this._popupRedirectResolver=$n(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var j,q;if(!I._deleted&&(I.persistenceManager=yield as.create(I,d),!I._deleted)){if(null!==(j=I._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(q=I.currentUser)||void 0===q?void 0:q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,g.Z)(function*(){var I;const j=yield f.assertedPersistence.getCurrentUser();let q=j,Ae=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const st=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,rn=q?._redirectEventId,jt=yield f.tryRedirectSignIn(d);(!st||st===rn)&&jt?.user&&(q=jt.user,Ae=!0)}if(!q)return f.directlySetCurrentUser(null);if(!q._redirectEventId){if(Ae)try{yield f.beforeStateQueue.runMiddleware(q)}catch(st){q=j,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(st))}return q?f.reloadAndSetCurrentUserOrClear(q):f.directlySetCurrentUser(null)}return mt(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===q._redirectEventId?f.directlySetCurrentUser(q):f.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(d){var f=this;return(0,g.Z)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch{yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,g.Z)(function*(){var I;try{yield Ee(d)}catch(j){if("auth/network-request-failed"!==(null===(I=j)||void 0===I?void 0:I.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function or(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,g.Z)(function*(){const I=d?(0,F.m9)(d):null;return I&&mt(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(d,f=!1){var I=this;return(0,g.Z)(function*(){if(!I._deleted)return d&&mt(I.tenantId===d.tenantId,I,"tenant-id-mismatch"),f||(yield I.beforeStateQueue.runMiddleware(d)),I.queue((0,g.Z)(function*(){yield I.directlySetCurrentUser(d),I.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence($n(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new F.LL("auth","Firebase",d())}onAuthStateChanged(d,f,I){return this.registerStateListener(this.authStateSubscription,d,f,I)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,I){return this.registerStateListener(this.idTokenSubscription,d,f,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var I=this;return(0,g.Z)(function*(){const j=yield I.getOrInitRedirectPersistenceManager(f);return null===d?j.removeCurrentUser():j.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const I=d&&$n(d)||f._popupRedirectResolver;mt(I,f,"argument-error"),f.redirectPersistenceManager=yield as.create(f,[$n(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,g.Z)(function*(){var I,j;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===d?f._currentUser:(null===(j=f.redirectUser)||void 0===j?void 0:j._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,g.Z)(function*(){if(d===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,I,j){if(this._deleted)return()=>{};const q="function"==typeof f?f:f.next.bind(f),Ae=this._isInitialized?Promise.resolve():this._initializationPromise;return mt(Ae,this,"internal-error"),Ae.then(()=>q(this.currentUser)),"function"==typeof f?d.addObserver(f,I,j):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var f;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const j=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return j&&(I["X-Firebase-Client"]=j),I})()}}function ui(y){return(0,F.m9)(y)}class cs{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,F.ne)(f=>this.observer=f)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rs(y,d,f){const I=ui(y);mt(I._canInitEmulator,I,"emulator-config-failed"),mt(/^https?:\/\//.test(d),I,"invalid-emulator-scheme");const j=!!f?.disableWarnings,q=oi(d),{host:Ae,port:st}=function Po(y){const d=oi(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!f)return{host:"",port:null};const I=f[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(I);if(j){const q=j[1];return{host:q,port:Is(I.substr(q.length+1))}}{const[q,Ae]=I.split(":");return{host:q,port:Is(Ae)}}}(d);I.config.emulator={url:`${q}//${Ae}${null===st?"":`:${st}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ae,port:st,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Ci(){function y(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function oi(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function Is(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class Re{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return er("not implemented")}_getIdTokenResponse(d){return er("not implemented")}_linkToIdToken(d,f){return er("not implemented")}_getReauthenticationResolver(d){return er("not implemented")}}function ke(y,d){return qe.apply(this,arguments)}function qe(){return(qe=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:resetPassword",Ht(y,d))})).apply(this,arguments)}function _t(y,d){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ln(y,d){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:update",Ht(y,d))})).apply(this,arguments)}function ar(){return(ar=(0,g.Z)(function*(y,d){return gn(y,"POST","/v1/accounts:signInWithPassword",Ht(y,d))})).apply(this,arguments)}function li(y,d){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:sendOobCode",Ht(y,d))})).apply(this,arguments)}function zs(y,d){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,g.Z)(function*(y,d){return li(y,d)})).apply(this,arguments)}function Ji(y,d){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(y,d){return li(y,d)})).apply(this,arguments)}function Xs(y,d){return Si.apply(this,arguments)}function Si(){return(Si=(0,g.Z)(function*(y,d){return li(y,d)})).apply(this,arguments)}function Xi(y,d){return ys.apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(y,d){return li(y,d)})).apply(this,arguments)}function Ws(){return(Ws=(0,g.Z)(function*(y,d){return gn(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,d))})).apply(this,arguments)}function zi(){return(zi=(0,g.Z)(function*(y,d){return gn(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,d))})).apply(this,arguments)}class Ds extends Re{constructor(d,f,I,j=null){super("password",I),this._email=d,this._password=f,this._tenantId=j}static _fromEmailAndPassword(d,f){return new Ds(d,f,"password")}static _fromEmailAndCode(d,f,I=null){return new Ds(d,f,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,g.Z)(function*(){switch(f.signInMethod){case"password":return function Sr(y,d){return ar.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function lo(y,d){return Ws.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:an(d,"internal-error")}})()}_linkToIdToken(d,f){var I=this;return(0,g.Z)(function*(){switch(I.signInMethod){case"password":return _t(d,{idToken:f,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function co(y,d){return zi.apply(this,arguments)}(d,{idToken:f,email:I._email,oobCode:I._password});default:an(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ts(y,d){return es.apply(this,arguments)}function es(){return(es=(0,g.Z)(function*(y,d){return gn(y,"POST","/v1/accounts:signInWithIdp",Ht(y,d))})).apply(this,arguments)}class nr extends Re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new nr(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):an("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:j}=f,q=fe(f,["providerId","signInMethod"]);if(!I||!j)return null;const Ae=new nr(I,j);return Ae.idToken=q.idToken||void 0,Ae.accessToken=q.accessToken||void 0,Ae.secret=q.secret,Ae.nonce=q.nonce,Ae.pendingToken=q.pendingToken||null,Ae}_getIdTokenResponse(d){return Ts(d,this.buildRequest())}_linkToIdToken(d,f){const I=this.buildRequest();return I.idToken=f,Ts(d,I)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Ts(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,F.xO)(f)}return d}}function ho(y,d){return eo.apply(this,arguments)}function eo(){return(eo=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:sendVerificationCode",Ht(y,d))})).apply(this,arguments)}function Vs(){return(Vs=(0,g.Z)(function*(y,d){return gn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,d))})).apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(y,d){const f=yield gn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,d));if(f.temporaryProof)throw we(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const na={USER_NOT_FOUND:"user-not-found"};function ts(){return(ts=(0,g.Z)(function*(y,d){return gn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),na)})).apply(this,arguments)}class ur extends Re{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new ur({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new ur({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function to(y,d){return Vs.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function bo(y,d){return Dr.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Eo(y,d){return ts.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:I,verificationCode:j}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:I,code:j}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:I,phoneNumber:j,temporaryProof:q}=d;return I||f||j||q?new ur({verificationId:f,verificationCode:I,phoneNumber:j,temporaryProof:q}):null}}class ki{constructor(d){var f,I,j,q,Ae,st;const rn=(0,F.zd)((0,F.pd)(d)),jt=null!==(f=rn.apiKey)&&void 0!==f?f:null,Un=null!==(I=rn.oobCode)&&void 0!==I?I:null,Lr=function Us(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=rn.mode)&&void 0!==j?j:null);mt(jt&&Un&&Lr,"argument-error"),this.apiKey=jt,this.operation=Lr,this.code=Un,this.continueUrl=null!==(q=rn.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(Ae=rn.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(st=rn.tenantId)&&void 0!==st?st:null}static parseLink(d){const f=function Cs(y){const d=(0,F.zd)((0,F.pd)(y)).link,f=d?(0,F.zd)((0,F.pd)(d)).deep_link_id:null,I=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(I?(0,F.zd)((0,F.pd)(I)).link:null)||I||f||d||y}(d);try{return new ki(f)}catch{return null}}}let W=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,I){return Ds._fromEmailAndPassword(f,I)}static credentialWithLink(f,I){const j=ki.parseLink(I);return mt(j,"argument-error"),Ds._fromEmailAndCode(f,j.code,j.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class R{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class J extends R{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class xe extends J{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return mt("providerId"in f&&"signInMethod"in f,"argument-error"),nr._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return mt(d.idToken||d.accessToken,"argument-error"),nr._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return xe.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return xe.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:I,oauthTokenSecret:j,pendingToken:q,nonce:Ae,providerId:st}=d;if(!I&&!j&&!f&&!q||!st)return null;try{return new xe(st)._credential({idToken:f,accessToken:I,nonce:Ae,pendingToken:q})}catch{return null}}}let Xe=(()=>{class y extends J{constructor(){super("facebook.com")}static credential(f){return nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),It=(()=>{class y extends J{constructor(){super("google.com"),this.addScope("profile")}static credential(f,I){return nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:I,oauthAccessToken:j}=f;if(!I&&!j)return null;try{return y.credential(I,j)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),yt=(()=>{class y extends J{constructor(){super("github.com")}static credential(f){return nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Tr extends Re{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Ts(d,this.buildRequest())}_linkToIdToken(d,f){const I=this.buildRequest();return I.idToken=f,Ts(d,I)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Ts(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:j,pendingToken:q}=f;return I&&j&&q&&I===j?new Tr(I,q):null}static _create(d,f){return new Tr(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gn extends R{constructor(d){mt(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Gn.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Gn.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Tr.fromJSON(d);return mt(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:I}=d;if(!f||!I)return null;try{return Tr._create(I,f)}catch{return null}}}let Ai=(()=>{class y extends J{constructor(){super("twitter.com")}static credential(f,I){return nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:I,oauthTokenSecret:j}=f;if(!I||!j)return null;try{return y.credential(I,j)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function wr(y,d){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,g.Z)(function*(y,d){return gn(y,"POST","/v1/accounts:signUp",Ht(y,d))})).apply(this,arguments)}class Xr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,I,j=!1){return(0,g.Z)(function*(){const q=yield vr._fromIdTokenResponse(d,I,j),Ae=ut(I);return new Xr({user:q,providerId:Ae,_tokenResponse:I,operationType:f})})()}static _forOperation(d,f,I){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const j=ut(I);return new Xr({user:d,providerId:j,_tokenResponse:I,operationType:f})})()}}function ut(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Wn(y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,g.Z)(function*(y){var d;const f=ui(y);if(yield f._initializationPromise,null!==(d=f.currentUser)&&void 0!==d&&d.isAnonymous)return new Xr({user:f.currentUser,providerId:null,operationType:"signIn"});const I=yield wr(f,{returnSecureToken:!0}),j=yield Xr._fromIdTokenResponse(f,"signIn",I,!0);return yield f._updateCurrentUser(j.user),j})).apply(this,arguments)}class vi extends F.ZR{constructor(d,f,I,j){var q;super(f.code,f.message),this.operationType=I,this.user=j,Object.setPrototypeOf(this,vi.prototype),this.customData={appName:d.name,tenantId:null!==(q=d.tenantId)&&void 0!==q?q:void 0,_serverResponse:f.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,f,I,j){return new vi(d,f,I,j)}}function xr(y,d,f,I){return("reauthenticate"===d?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?vi._fromErrorAndOperation(y,q,d,I):q})}function Ks(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function qs(y,d){return vs.apply(this,arguments)}function vs(){return(vs=(0,g.Z)(function*(y,d){const f=(0,F.m9)(y);yield ds(!0,f,d);const{providerUserInfo:I}=yield zt(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),j=Ks(I||[]);return f.providerData=f.providerData.filter(q=>j.has(q.providerId)),j.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function no(y,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,g.Z)(function*(y,d,f=!1){const I=yield nt(y,d._linkToIdToken(y.auth,yield y.getIdToken()),f);return Xr._forOperation(y,"link",I)})).apply(this,arguments)}function ds(y,d,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,g.Z)(function*(y,d,f){yield Ee(d);const j=!1===y?"provider-already-linked":"no-such-provider";mt(Ks(d.providerData).has(f)===y,d.auth,j)})).apply(this,arguments)}function jo(y,d){return _s.apply(this,arguments)}function _s(){return(_s=(0,g.Z)(function*(y,d,f=!1){var I;const{auth:j}=y,q="reauthenticate";try{const Ae=yield nt(y,xr(j,q,d,y),f);mt(Ae.idToken,j,"internal-error");const st=At(Ae.idToken);mt(st,j,"internal-error");const{sub:rn}=st;return mt(y.uid===rn,j,"user-mismatch"),Xr._forOperation(y,q,Ae)}catch(Ae){throw"auth/user-not-found"===(null===(I=Ae)||void 0===I?void 0:I.code)&&an(j,"user-mismatch"),Ae}})).apply(this,arguments)}function ei(y,d){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,g.Z)(function*(y,d,f=!1){const I="signIn",j=yield xr(y,I,d),q=yield Xr._fromIdTokenResponse(y,I,j);return f||(yield y._updateCurrentUser(q.user)),q})).apply(this,arguments)}function $o(y,d){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,g.Z)(function*(y,d){return ei(ui(y),d)})).apply(this,arguments)}function ws(y,d){return Io.apply(this,arguments)}function Io(){return(Io=(0,g.Z)(function*(y,d){const f=(0,F.m9)(y);return yield ds(!1,f,d.providerId),no(f,d)})).apply(this,arguments)}function Oo(y,d){return Do.apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(y,d){return jo((0,F.m9)(y),d)})).apply(this,arguments)}function Ho(y,d){return Os.apply(this,arguments)}function Os(){return(Os=(0,g.Z)(function*(y,d){return gn(y,"POST","/v1/accounts:signInWithCustomToken",Ht(y,d))})).apply(this,arguments)}function Zs(y,d){return ti.apply(this,arguments)}function ti(){return(ti=(0,g.Z)(function*(y,d){const f=ui(y),I=yield Ho(f,{token:d,returnSecureToken:!0}),j=yield Xr._fromIdTokenResponse(f,"signIn",I);return yield f._updateCurrentUser(j.user),j})).apply(this,arguments)}class fo{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?ba._fromServerResponse(d,f):an(d,"internal-error")}}class ba extends fo{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new ba(f)}}function To(y,d,f){var I;mt((null===(I=f.url)||void 0===I?void 0:I.length)>0,y,"invalid-continue-uri"),mt(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(mt(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(mt(f.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function pa(y,d,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y),j={requestType:"PASSWORD_RESET",email:d};f&&To(I,j,f),yield Ji(I,j)})).apply(this,arguments)}function ga(y,d,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,g.Z)(function*(y,d,f){yield ke((0,F.m9)(y),{oobCode:d,newPassword:f})})).apply(this,arguments)}function ia(y,d){return io.apply(this,arguments)}function io(){return(io=(0,g.Z)(function*(y,d){yield ln((0,F.m9)(y),{oobCode:d})})).apply(this,arguments)}function sa(y,d){return As.apply(this,arguments)}function As(){return(As=(0,g.Z)(function*(y,d){const f=(0,F.m9)(y),I=yield ke(f,{oobCode:d}),j=I.requestType;switch(mt(j,f,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":mt(I.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":mt(I.mfaInfo,f,"internal-error");default:mt(I.email,f,"internal-error")}let q=null;return I.mfaInfo&&(q=fo._fromServerResponse(ui(f),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:q},operation:j}})).apply(this,arguments)}function Gi(y,d){return ks.apply(this,arguments)}function ks(){return(ks=(0,g.Z)(function*(y,d){const{data:f}=yield sa((0,F.m9)(y),d);return f.email})).apply(this,arguments)}function Br(y,d,f){return $.apply(this,arguments)}function $(){return($=(0,g.Z)(function*(y,d,f){const I=ui(y),j=yield wr(I,{returnSecureToken:!0,email:d,password:f}),q=yield Xr._fromIdTokenResponse(I,"signIn",j);return yield I._updateCurrentUser(q.user),q})).apply(this,arguments)}function v(y,d,f){return $o((0,F.m9)(y),W.credential(d,f))}function w(y,d,f){return M.apply(this,arguments)}function M(){return(M=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y),j={requestType:"EMAIL_SIGNIN",email:d};mt(f.handleCodeInApp,I,"argument-error"),f&&To(I,j,f),yield Xs(I,j)})).apply(this,arguments)}function G(y,d){return"EMAIL_SIGNIN"===ki.parseLink(d)?.operation}function re(y,d,f){return Te.apply(this,arguments)}function Te(){return(Te=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y),j=W.credentialWithLink(d,f||ri());return mt(j._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),$o(I,j)})).apply(this,arguments)}function Se(y,d){return We.apply(this,arguments)}function We(){return(We=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:createAuthUri",Ht(y,d))})).apply(this,arguments)}function pt(y,d){return x.apply(this,arguments)}function x(){return(x=(0,g.Z)(function*(y,d){const I={identifier:d,continueUri:cr()?ri():"http://localhost"},{signinMethods:j}=yield Se((0,F.m9)(y),I);return j||[]})).apply(this,arguments)}function B(y,d){return z.apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(y,d){const f=(0,F.m9)(y),j={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&To(f.auth,j,d);const{email:q}=yield zs(f.auth,j);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Q(y,d,f){return ie.apply(this,arguments)}function ie(){return(ie=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y),q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};f&&To(I.auth,q,f);const{email:Ae}=yield Xi(I.auth,q);Ae!==y.email&&(yield y.reload())})).apply(this,arguments)}function Me(y,d){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,g.Z)(function*(y,d){return Mt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $e(y,d){return gt.apply(this,arguments)}function gt(){return(gt=(0,g.Z)(function*(y,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const I=(0,F.m9)(y),q={idToken:yield I.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},Ae=yield nt(I,Me(I.auth,q));I.displayName=Ae.displayName||null,I.photoURL=Ae.photoUrl||null;const st=I.providerData.find(({providerId:rn})=>"password"===rn);st&&(st.displayName=I.displayName,st.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ae)})).apply(this,arguments)}function vn(y,d){return bn((0,F.m9)(y),d,null)}function dn(y,d){return bn((0,F.m9)(y),null,d)}function bn(y,d,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,g.Z)(function*(y,d,f){const{auth:I}=y,q={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(q.email=d),f&&(q.password=f);const Ae=yield nt(y,_t(I,q));yield y._updateTokensIfNecessary(Ae,!0)})).apply(this,arguments)}class Kn{constructor(d,f,I={}){this.isNewUser=d,this.providerId=f,this.profile=I}}class Kr extends Kn{constructor(d,f,I,j){super(d,f,I),this.username=j}}class ci extends Kn{constructor(d,f){super(d,"facebook.com",f)}}class di extends Kr{constructor(d,f){super(d,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class qr extends Kn{constructor(d,f){super(d,"google.com",f)}}class pr extends Kr{constructor(d,f,I){super(d,"twitter.com",f,I)}}function Wi(y){const{user:d,_tokenResponse:f}=y;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Yn(y){var d,f;if(!y)return null;const{providerId:I}=y,j=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},q=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!I&&y?.idToken){const Ae=null===(f=null===(d=At(y.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(Ae)return new Kn(q,"anonymous"!==Ae&&"custom"!==Ae?Ae:null)}if(!I)return null;switch(I){case"facebook.com":return new ci(q,j);case"github.com":return new di(q,j);case"google.com":return new qr(q,j);case"twitter.com":return new pr(q,j,y.screenName||null);case"custom":case"anonymous":return new Kn(q,null);default:return new Kn(q,I,j)}}(f)}class tr{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new tr("enroll",d)}static _fromMfaPendingCredential(d){return new tr("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,I;if(d?.multiFactorSession){if(null!==(f=d.multiFactorSession)&&void 0!==f&&f.pendingCredential)return tr._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(I=d.multiFactorSession)&&void 0!==I&&I.idToken)return tr._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Co{constructor(d,f,I){this.session=d,this.hints=f,this.signInResolver=I}static _fromError(d,f){const I=ui(d),j=f.customData._serverResponse,q=(j.mfaInfo||[]).map(st=>fo._fromServerResponse(I,st));mt(j.mfaPendingCredential,I,"internal-error");const Ae=tr._fromMfaPendingCredential(j.mfaPendingCredential);return new Co(Ae,q,function(){var st=(0,g.Z)(function*(rn){const jt=yield rn._process(I,Ae);delete j.mfaInfo,delete j.mfaPendingCredential;const Un=Object.assign(Object.assign({},j),{idToken:jt.idToken,refreshToken:jt.refreshToken});switch(f.operationType){case"signIn":const Lr=yield Xr._fromIdTokenResponse(I,f.operationType,Un);return yield I._updateCurrentUser(Lr.user),Lr;case"reauthenticate":return mt(f.user,I,"internal-error"),Xr._forOperation(f.user,f.operationType,Un);default:an(I,"internal-error")}});return function(rn){return st.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,g.Z)(function*(){return f.signInResolver(d)})()}}function ma(y,d){var f;const I=(0,F.m9)(y),j=d;return mt(d.customData.operationType,I,"argument-error"),mt(null===(f=j.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,I,"argument-error"),Co._fromError(I,j)}function Dt(y,d){return Mt(y,"POST","/v2/accounts/mfaEnrollment:start",Ht(y,d))}class so{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(I=>fo._fromServerResponse(d.auth,I)))})}static _fromUser(d){return new so(d)}getSession(){var d=this;return(0,g.Z)(function*(){return tr._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var I=this;return(0,g.Z)(function*(){const j=d,q=yield I.getSession(),Ae=yield nt(I.user,j._process(I.user.auth,q,f));return yield I.user._updateTokensIfNecessary(Ae),I.user.reload()})()}unenroll(d){var f=this;return(0,g.Z)(function*(){var I;const j="string"==typeof d?d:d.uid,q=yield f.user.getIdToken(),Ae=yield nt(f.user,function Zi(y,d){return Mt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(y,d))}(f.user.auth,{idToken:q,mfaEnrollmentId:j}));f.enrolledFactors=f.enrolledFactors.filter(({uid:st})=>st!==j),yield f.user._updateTokensIfNecessary(Ae);try{yield f.user.reload()}catch(st){if("auth/user-token-expired"!==(null===(I=st)||void 0===I?void 0:I.code))throw st}})()}}const hn=new WeakMap;function Vn(y){const d=(0,F.m9)(y);return hn.has(d)||hn.set(d,so._fromUser(d)),hn.get(d)}const Ea="__sak";class Zt{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ea,"1"),this.storage.removeItem(Ea),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Go=(()=>{class y extends Zt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,I)=>this.onStorageEvent(f,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function it(){const y=(0,F.z$)();return us(y)||Ur(y)}()&&function Di(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=si(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const I of Object.keys(this.listeners)){const j=this.storage.getItem(I),q=this.localCache[I];j!==q&&f(I,q,j)}}onStorageEvent(f,I=!1){if(!f.key)return void this.forAllChangedKeys((st,rn,jt)=>{this.notifyListeners(st,jt)});const j=f.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const st=this.storage.getItem(j);if(f.newValue!==st)null!==f.newValue?this.storage.setItem(j,f.newValue):this.storage.removeItem(j);else if(this.localCache[j]===f.newValue&&!I)return}const q=()=>{const st=this.storage.getItem(j);!I&&this.localCache[j]===st||this.notifyListeners(j,st)},Ae=this.storage.getItem(j);!function mi(){return(0,F.w1)()&&10===document.documentMode}()||Ae===f.newValue||f.newValue===f.oldValue?q():setTimeout(q,10)}notifyListeners(f,I){this.localCache[f]=I;const j=this.listeners[f];if(j)for(const q of Array.from(j))q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,I,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:I,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,I){var j=()=>super._set,q=this;return(0,g.Z)(function*(){yield j().call(q,f,I),q.localCache[f]=JSON.stringify(I)})()}_get(f){var I=()=>super._get,j=this;return(0,g.Z)(function*(){const q=yield I().call(j,f);return j.localCache[f]=JSON.stringify(q),q})()}_remove(f){var I=()=>super._remove,j=this;return(0,g.Z)(function*(){yield I().call(j,f),delete j.localCache[f]})()}}return y.type="LOCAL",y})(),Pa=(()=>{class y extends Zt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,I){}_removeListener(f,I){}}return y.type="SESSION",y})();let Wa=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const I=this.receivers.find(q=>q.isListeningto(f));if(I)return I;const j=new y(f);return this.receivers.push(j),j}isListeningto(f){return this.eventTarget===f}handleEvent(f){var I=this;return(0,g.Z)(function*(){const j=f,{eventId:q,eventType:Ae,data:st}=j.data,rn=I.handlersMap[Ae];if(!rn?.size)return;j.ports[0].postMessage({status:"ack",eventId:q,eventType:Ae});const jt=Array.from(rn).map(function(){var Lr=(0,g.Z)(function*(fi){return fi(j.origin,st)});return function(fi){return Lr.apply(this,arguments)}}()),Un=yield function du(y){return Promise.all(y.map(function(){var d=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(I){return{fulfilled:!1,reason:I}}});return function(f){return d.apply(this,arguments)}}()))}(jt);j.ports[0].postMessage({status:"done",eventId:q,eventType:Ae,response:Un})})()}_subscribe(f,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(I)}_unsubscribe(f,I){this.handlersMap[f]&&I&&this.handlersMap[f].delete(I),(!I||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Vi(y="",d=10){let f="";for(let I=0;I<d;I++)f+=Math.floor(10*Math.random());return y+f}class Oa{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,I=50){var j=this;return(0,g.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let Ae,st;return new Promise((rn,jt)=>{const Un=Vi("",20);q.port1.start();const Lr=setTimeout(()=>{jt(new Error("unsupported_event"))},I);st={messageChannel:q,onMessage(fi){const Mo=fi;if(Mo.data.eventId===Un)switch(Mo.data.status){case"ack":clearTimeout(Lr),Ae=setTimeout(()=>{jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),rn(Mo.data.response);break;default:clearTimeout(Lr),clearTimeout(Ae),jt(new Error("invalid_response"))}}},j.handlers.add(st),q.port1.addEventListener("message",st.onMessage),j.target.postMessage({eventType:d,eventId:Un,data:f},[q.port2])}).finally(()=>{st&&j.removeMessageHandler(st)})})()}}function _i(){return window}function po(){return typeof _i().WorkerGlobalScope<"u"&&"function"==typeof _i().importScripts}function oo(){return(oo=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nn="firebaseLocalStorageDb",Cr="firebaseLocalStorage",Xu="fbase_key";class Fr{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function tn(y,d){return y.transaction([Cr],d?"readwrite":"readonly").objectStore(Cr)}function ka(){const y=indexedDB.open(Nn,1);return new Promise((d,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const I=y.result;try{I.createObjectStore(Cr,{keyPath:Xu})}catch(j){f(j)}}),y.addEventListener("success",(0,g.Z)(function*(){const I=y.result;I.objectStoreNames.contains(Cr)?d(I):(I.close(),yield function Ka(){const y=indexedDB.deleteDatabase(Nn);return new Fr(y).toPromise()}(),d(yield ka()))}))})}function Ko(y,d,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,g.Z)(function*(y,d,f){const I=tn(y,!0).put({[Xu]:d,value:f});return new Fr(I).toPromise()})).apply(this,arguments)}function el(){return(el=(0,g.Z)(function*(y,d){const f=tn(y,!1).get(d),I=yield new Fr(f).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ni(y,d){const f=tn(y,!0).delete(d);return new Fr(f).toPromise()}const Ta=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield ka()),f.db})()}_withRetries(f){var I=this;return(0,g.Z)(function*(){let j=0;for(;;)try{const q=yield I._openDb();return yield f(q)}catch(q){if(j++>3)throw q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return po()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=Wa._getInstance(function Mi(){return po()?self:null}()),f.receiver._subscribe("keyChanged",function(){var I=(0,g.Z)(function*(j,q){return{keyProcessed:(yield f._poll()).includes(q.key)}});return function(j,q){return I.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var I=(0,g.Z)(function*(j,q){return["keyChanged"]});return function(j,q){return I.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var I,j;if(f.activeServiceWorker=yield function qn(){return oo.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Oa(f.activeServiceWorker);const q=yield f.sender._send("ping",{},800);!q||(null===(I=q[0])||void 0===I?void 0:I.fulfilled)&&(null===(j=q[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var I=this;return(0,g.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Wo(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:f},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield ka();return yield Ko(f,Ea,"1"),yield Ni(f,Ea),!0}catch{}return!1})()}_withPendingWrite(f){var I=this;return(0,g.Z)(function*(){I.pendingWrites++;try{yield f()}finally{I.pendingWrites--}})()}_set(f,I){var j=this;return(0,g.Z)(function*(){return j._withPendingWrite((0,g.Z)(function*(){return yield j._withRetries(q=>Ko(q,f,I)),j.localCache[f]=I,j.notifyServiceWorker(f)}))})()}_get(f){var I=this;return(0,g.Z)(function*(){const j=yield I._withRetries(q=>function Nu(y,d){return el.apply(this,arguments)}(q,f));return I.localCache[f]=j,j})()}_remove(f){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(j=>Ni(j,f)),delete I.localCache[f],I.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const I=yield f._withRetries(Ae=>{const st=tn(Ae,!1).getAll();return new Fr(st).toPromise()});if(!I)return[];if(0!==f.pendingWrites)return[];const j=[],q=new Set;for(const{fbase_key:Ae,value:st}of I)q.add(Ae),JSON.stringify(f.localCache[Ae])!==JSON.stringify(st)&&(f.notifyListeners(Ae,st),j.push(Ae));for(const Ae of Object.keys(f.localCache))f.localCache[Ae]&&!q.has(Ae)&&(f.notifyListeners(Ae,null),j.push(Ae));return j})()}notifyListeners(f,I){this.localCache[f]=I;const j=this.listeners[f];if(j)for(const q of Array.from(j))q(I)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function js(y,d){return Mt(y,"POST","/v2/accounts/mfaSignIn:start",Ht(y,d))}function oa(){return(oa=(0,g.Z)(function*(y){return(yield Mt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ca(y){return new Promise((d,f)=>{const I=document.createElement("script");I.setAttribute("src",y),I.onload=d,I.onerror=j=>{const q=Cn("internal-error");q.customData=j,f(q)},I.type="text/javascript",I.charset="UTF-8",function Je(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(I)})}function Ys(y){return`__${y}${Math.floor(1e6*Math.random())}`}const go=1e12;class fu{constructor(d){this.auth=d,this.counter=go,this._widgets=new Map}render(d,f){const I=this.counter;return this._widgets.set(I,new E(d,this.auth.name,f||{})),this.counter++,I}reset(d){var f;const I=d||go;null===(f=this._widgets.get(I))||void 0===f||f.delete(),this._widgets.delete(I)}getResponse(d){var f;return(null===(f=this._widgets.get(d||go))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,g.Z)(function*(){var I;return null===(I=f._widgets.get(d||go))||void 0===I||I.execute(),""})()}}class E{constructor(d,f,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof d?document.getElementById(d):d;mt(j,"argument-error",{appName:f}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function b(y){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<y;I++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _=Ys("rcb"),S=new Xt(3e4,6e4);class Z{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=_i().grecaptcha)||void 0===d||!d.render)}load(d,f=""){return mt(function he(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(_i().grecaptcha):new Promise((I,j)=>{const q=_i().setTimeout(()=>{j(Cn(d,"network-request-failed"))},S.get());_i()[_]=()=>{_i().clearTimeout(q),delete _i()[_];const st=_i().grecaptcha;if(!st)return void j(Cn(d,"internal-error"));const rn=st.render;st.render=(jt,Un)=>{const Lr=rn(jt,Un);return this.counter++,Lr},this.hostLanguage=f,I(st)},Ca(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:_,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(q),j(Cn(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!(null===(f=_i().grecaptcha)||void 0===f||!f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ce{load(d){return(0,g.Z)(function*(){return new fu(d)})()}clearedOneInstance(){}}const lt="recaptcha",Rt={theme:"light",type:"image"};class hr{constructor(d,f=Object.assign({},Rt),I){this.parameters=f,this.type=lt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ui(I),this.isInvisible="invisible"===this.parameters.size,mt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof d?document.getElementById(d):d;mt(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ce:new Z,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),I=d.getAssertedRecaptcha();return I.getResponse(f)||new Promise(q=>{const Ae=st=>{!st||(d.tokenChangeListeners.delete(Ae),q(st))};d.tokenChangeListeners.add(Ae),d.isInvisible&&I.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){mt(!this.parameters.sitekey,this.auth,"argument-error"),mt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),mt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(I=>I(f)),"function"==typeof d)d(f);else if("string"==typeof d){const I=_i()[d];"function"==typeof I&&I(f)}}}assertNotDestroyed(){mt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const I=document.createElement("div");f.appendChild(I),f=I}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){mt(cr()&&!po(),d.auth,"internal-error"),yield function Jt(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function qo(y){return oa.apply(this,arguments)}(d.auth);mt(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return mt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dn{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=ur._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function rs(y,d,f){return is.apply(this,arguments)}function is(){return(is=(0,g.Z)(function*(y,d,f){const I=ui(y),j=yield Ao(I,d,(0,F.m9)(f));return new Dn(j,q=>$o(I,q))})).apply(this,arguments)}function ni(y,d,f){return $s.apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y);yield ds(!1,I,"phone");const j=yield Ao(I.auth,d,(0,F.m9)(f));return new Dn(j,q=>ws(I,q))})).apply(this,arguments)}function hs(y,d,f){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y),j=yield Ao(I.auth,d,(0,F.m9)(f));return new Dn(j,q=>Oo(I,q))})).apply(this,arguments)}function Ao(y,d,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,g.Z)(function*(y,d,f){var I;const j=yield f.verify();try{let q;if(mt("string"==typeof j,y,"argument-error"),mt(f.type===lt,y,"argument-error"),q="string"==typeof d?{phoneNumber:d}:d,"session"in q){const Ae=q.session;if("phoneNumber"in q)return mt("enroll"===Ae.type,y,"internal-error"),(yield Dt(y,{idToken:Ae.credential,phoneEnrollmentInfo:{phoneNumber:q.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{mt("signin"===Ae.type,y,"internal-error");const st=(null===(I=q.multiFactorHint)||void 0===I?void 0:I.uid)||q.multiFactorUid;return mt(st,y,"missing-multi-factor-info"),(yield js(y,{mfaPendingCredential:Ae.credential,mfaEnrollmentId:st,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ae}=yield ho(y,{phoneNumber:q.phoneNumber,recaptchaToken:j});return Ae}}finally{f._reset()}})).apply(this,arguments)}function ua(y,d){return A.apply(this,arguments)}function A(){return(A=(0,g.Z)(function*(y,d){yield no((0,F.m9)(y),d)})).apply(this,arguments)}let k=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=ui(f)}verifyPhoneNumber(f,I){return Ao(this.auth,f,(0,F.m9)(I))}static credential(f,I){return ur._fromVerification(f,I)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:I,temporaryProof:j}=f;return I&&j?ur._fromTokenResponse(I,j):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function K(y,d){return d?$n(d):(mt(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ge extends Re{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ts(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Ts(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Ts(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function Be(y){return ei(y.auth,new ge(y),y.bypassAuthState)}function tt(y){const{auth:d,user:f}=y;return mt(f,d,"internal-error"),jo(f,new ge(y),y.bypassAuthState)}function St(y){return on.apply(this,arguments)}function on(){return(on=(0,g.Z)(function*(y){const{auth:d,user:f}=y;return mt(f,d,"internal-error"),no(f,new ge(y),y.bypassAuthState)})).apply(this,arguments)}class Rn{constructor(d,f,I,j,q=!1){this.auth=d,this.resolver=I,this.user=j,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,g.Z)(function*(I,j){d.pendingPromise={resolve:I,reject:j};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(q){d.reject(q)}});return function(I,j){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,g.Z)(function*(){const{urlResponse:I,sessionId:j,postBody:q,tenantId:Ae,error:st,type:rn}=d;if(st)return void f.reject(st);const jt={auth:f.auth,requestUri:I,sessionId:j,tenantId:Ae||void 0,postBody:q||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(rn)(jt))}catch(Un){f.reject(Un)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Be;case"linkViaPopup":case"linkViaRedirect":return St;case"reauthViaPopup":case"reauthViaRedirect":return tt;default:an(this.auth,"internal-error")}}resolve(d){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rr=new Xt(2e3,1e4);function Xn(y,d,f){return En.apply(this,arguments)}function En(){return(En=(0,g.Z)(function*(y,d,f){const I=ui(y);br(y,d,R);const j=K(I,f);return new mo(I,"signInViaPopup",d,j).executeNotNull()})).apply(this,arguments)}function fs(y,d,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y);br(I.auth,d,R);const j=K(I.auth,f);return new mo(I.auth,"reauthViaPopup",d,j,I).executeNotNull()})).apply(this,arguments)}function pu(y,d,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y);br(I.auth,d,R);const j=K(I.auth,f);return new mo(I.auth,"linkViaPopup",d,j,I).executeNotNull()})).apply(this,arguments)}let mo=(()=>{class y extends Rn{constructor(f,I,j,q,Ae){super(f,I,q,Ae),this.provider=j,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const I=yield f.execute();return mt(I,f.auth,"internal-error"),I})()}onExecution(){var f=this;return(0,g.Z)(function*(){Qt(1===f.filter.length,"Popup operations only handle one event");const I=Vi();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],I),f.authWindow.associatedEvent=I,f.resolver._originValidation(f.auth).catch(j=>{f.reject(j)}),f.resolver._isIframeWebStorageSupported(f.auth,j=>{j||f.reject(Cn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var I,j;this.pollId=null!==(j=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,rr.get())};f()}}return y.currentPopupAction=null,y})();const ca=new Map;class ya extends Rn{constructor(d,f,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,g.Z)(function*(){let I=ca.get(f.auth._key());if(!I){try{const q=(yield function Aa(y,d){return yo.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;I=()=>Promise.resolve(q)}catch(j){I=()=>Promise.reject(j)}ca.set(f.auth._key(),I)}return f.bypassAuthState||ca.set(f.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,I=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(I,d);if("unknown"!==d.type){if(d.eventId){const j=yield I.auth._redirectUserForId(d.eventId);if(j)return I.user=j,f().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function yo(){return(yo=(0,g.Z)(function*(y,d){const f=Vd(d),I=Ld(y);if(!(yield I._isAvailable()))return!1;const j="true"===(yield I._get(f));return yield I._remove(f),j})).apply(this,arguments)}function Zo(y,d){return gu.apply(this,arguments)}function gu(){return(gu=(0,g.Z)(function*(y,d){return Ld(y)._set(Vd(d),"true")})).apply(this,arguments)}function yf(){ca.clear()}function Fc(y,d){ca.set(y._key(),d)}function Ld(y){return $n(y._redirectPersistence)}function Vd(y){return Zr("pendingRedirect",y.config.apiKey,y.name)}function Ud(y,d,f){return function ao(y,d,f){return Fl.apply(this,arguments)}(y,d,f)}function Fl(){return(Fl=(0,g.Z)(function*(y,d,f){const I=ui(y);br(y,d,R);const j=K(I,f);return yield Zo(j,I),j._openRedirect(I,d,"signInViaRedirect")})).apply(this,arguments)}function hi(y,d,f){return function Bd(y,d,f){return Ll.apply(this,arguments)}(y,d,f)}function Ll(){return(Ll=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y);br(I.auth,d,R);const j=K(I.auth,f);yield Zo(j,I.auth);const q=yield xs(I);return j._openRedirect(I.auth,d,"reauthViaRedirect",q)})).apply(this,arguments)}function qa(y,d,f){return function yg(y,d,f){return Za.apply(this,arguments)}(y,d,f)}function Za(){return(Za=(0,g.Z)(function*(y,d,f){const I=(0,F.m9)(y);br(I.auth,d,R);const j=K(I.auth,f);yield ds(!1,I,d.providerId),yield Zo(j,I.auth);const q=yield xs(I);return j._openRedirect(I.auth,d,"linkViaRedirect",q)})).apply(this,arguments)}function Lc(y,d){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,g.Z)(function*(y,d){return yield ui(y)._initializationPromise,Vl(y,d,!1)})).apply(this,arguments)}function Vl(y,d){return nl.apply(this,arguments)}function nl(){return(nl=(0,g.Z)(function*(y,d,f=!1){const I=ui(y),j=K(I,d),Ae=yield new ya(I,j,f).execute();return Ae&&!f&&(delete Ae.user._redirectEventId,yield I._persistUserIfCurrent(Ae.user),yield I._setRedirectUser(null,d)),Ae})).apply(this,arguments)}function xs(y){return rl.apply(this,arguments)}function rl(){return(rl=(0,g.Z)(function*(y){const d=Vi(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class jd{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(f=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Ul(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vf(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var I;if(d.error&&!vf(d)){const j=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";f.onError(Cn(this.auth,j))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const I=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vc(d))}saveEventToCache(d){this.cachedEventUids.add(Vc(d)),this.lastProcessedEventTime=Date.now()}}function Vc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function vf({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===d?.code}function Bl(y){return jl.apply(this,arguments)}function jl(){return(jl=(0,g.Z)(function*(y,d={}){return Mt(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mu=/^https?/;function $l(){return($l=(0,g.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield Bl(y);for(const f of d)try{if($d(f))return}catch{}an(y,"unauthorized-domain")})).apply(this,arguments)}function $d(y){const d=ri(),{protocol:f,hostname:I}=new URL(d);if(y.startsWith("chrome-extension://")){const Ae=new URL(y);return""===Ae.hostname&&""===I?"chrome-extension:"===f&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&Ae.hostname===I}if(!mu.test(f))return!1;if(Fa.test(y))return I===y;const j=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(I)}const La=new Xt(3e4,6e4);function Uc(){const y=_i().___jsl;if(y?.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let Yo=null;function Qa(y){return Yo=Yo||function Pu(y){return new Promise((d,f)=>{var I,j,q;function Ae(){Uc(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Uc(),f(Cn(y,"network-request-failed"))},timeout:La.get()})}if(null!==(j=null===(I=_i().gapi)||void 0===I?void 0:I.iframes)&&void 0!==j&&j.Iframe)d(gapi.iframes.getContext());else{if(null===(q=_i().gapi)||void 0===q||!q.load){const st=Ys("iframefcb");return _i()[st]=()=>{gapi.load?Ae():f(Cn(y,"network-request-failed"))},Ca(`https://apis.google.com/js/api.js?onload=${st}`).catch(rn=>f(rn))}Ae()}}).catch(d=>{throw Yo=null,d})}(y),Yo}const Bc=new Xt(5e3,15e3),Fo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function il(y){const d=y.config;mt(d.authDomain,y,"auth-domain-config-required");const f=d.emulator?Ot(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,I={apiKey:d.apiKey,appName:y.name,v:V.SDK_VERSION},j=Hl.get(y.config.apiHost);j&&(I.eid=j);const q=y._getFrameworks();return q.length&&(I.fw=q.join(",")),`${f}?${(0,F.xO)(I).slice(1)}`}function sl(){return sl=(0,g.Z)(function*(y){const d=yield Qa(y),f=_i().gapi;return mt(f,y,"internal-error"),d.open({where:document.body,url:il(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fo,dontclear:!0},I=>new Promise(function(){var j=(0,g.Z)(function*(q,Ae){yield I.restyle({setHideOnLeave:!1});const st=Cn(y,"network-request-failed"),rn=_i().setTimeout(()=>{Ae(st)},Bc.get());function jt(){_i().clearTimeout(rn),q(I)}I.ping(jt).then(jt,()=>{Ae(st)})});return function(q,Ae){return j.apply(this,arguments)}}()))}),sl.apply(this,arguments)}const Hc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vu{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function al(y,d,f,I,j,q){mt(y.config.authDomain,y,"auth-domain-config-required"),mt(y.config.apiKey,y,"invalid-api-key");const Ae={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:I,v:V.SDK_VERSION,eventId:j};if(d instanceof R){d.setDefaultLanguage(y.languageCode),Ae.providerId=d.providerId||"",(0,F.xb)(d.getCustomParameters())||(Ae.customParameters=JSON.stringify(d.getCustomParameters()));for(const[rn,jt]of Object.entries(q||{}))Ae[rn]=jt}if(d instanceof J){const rn=d.getScopes().filter(jt=>""!==jt);rn.length>0&&(Ae.scopes=rn.join(","))}y.tenantId&&(Ae.tid=y.tenantId);const st=Ae;for(const rn of Object.keys(st))void 0===st[rn]&&delete st[rn];return`${function _u({config:y}){return y.emulator?Ot(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(st).slice(1)}`}const Ja="webStorageSupport",wu=class _f{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pa,this._completeRedirectFn=Vl,this._overrideRedirectResult=Fc}_openPopup(d,f,I,j){var q=this;return(0,g.Z)(function*(){var Ae;Qt(null===(Ae=q.eventManagers[d._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const st=al(d,f,I,ri(),j);return function zc(y,d,f,I=500,j=600){const q=Math.max((window.screen.availHeight-j)/2,0).toString(),Ae=Math.max((window.screen.availWidth-I)/2,0).toString();let st="";const rn=Object.assign(Object.assign({},Hc),{width:I.toString(),height:j.toString(),top:q,left:Ae}),jt=(0,F.z$)().toLowerCase();f&&(st=$i(jt)?"_blank":f),dr(jt)&&(d=d||"http://localhost",rn.scrollbars="yes");const Un=Object.entries(rn).reduce((fi,[Mo,Pi])=>`${fi}${Mo}=${Pi},`,"");if(function ms(y=(0,F.z$)()){var d;return Ur(y)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(jt)&&"_self"!==st)return function Qo(y,d){const f=document.createElement("a");f.href=y,f.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(I)}(d||"",st),new vu(null);const Lr=window.open(d||"",st,Un);mt(Lr,y,"popup-blocked");try{Lr.focus()}catch{}return new vu(Lr)}(d,st,Vi())})()}_openRedirect(d,f,I,j){var q=this;return(0,g.Z)(function*(){return yield q._originValidation(d),function Fs(y){_i().location.href=y}(al(d,f,I,ri(),j)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:j,promise:q}=this.eventManagers[f];return j?Promise.resolve(j):(Qt(q,"If manager is not set, promise should be"),q)}const I=this.initAndGetManager(d);return this.eventManagers[f]={promise:I},I.catch(()=>{delete this.eventManagers[f]}),I}initAndGetManager(d){var f=this;return(0,g.Z)(function*(){const I=yield function $c(y){return sl.apply(this,arguments)}(d),j=new jd(d);return I.register("authEvent",q=>(mt(q?.authEvent,d,"invalid-auth-event"),{status:j.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:j},f.iframes[d._key()]=I,j})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(Ja,{type:Ja},j=>{var q;const Ae=null===(q=j?.[0])||void 0===q?void 0:q[Ja];void 0!==Ae&&f(!!Ae),an(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function yu(y){return $l.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return si()||us()||Ur()}};class xa extends class zl{constructor(d){this.factorId=d}_process(d,f,I){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,I);case"signin":return this._finalizeSignIn(d,f.credential);default:return er("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new xa(d)}_finalizeEnroll(d,f,I){return function jr(y,d){return Mt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(y,d))}(d,{idToken:f,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function So(y,d){return Mt(y,"POST","/v2/accounts/mfaSignIn:finalize",Ht(y,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gl=(()=>{class y{constructor(){}static assertion(f){return xa._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var Kd="@firebase/auth";class qd{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(I=>{var j;d((null===(j=I)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function ps(y){(0,V._registerComponent)(new Fn.wA("auth",(d,{options:f})=>{const I=d.getProvider("app").getImmediate(),j=d.getProvider("heartbeat"),{apiKey:q,authDomain:Ae}=I.options;return((st,rn)=>{mt(q&&!q.includes(":"),"invalid-api-key",{appName:st.name}),mt(!Ae?.includes(":"),"argument-error",{appName:st.name});const jt={apiKey:q,authDomain:Ae,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yi(y)},Un=new Ti(st,rn,jt);return function $r(y,d){const f=d?.persistence||[],I=(Array.isArray(f)?f:[f]).map($n);d?.errorMap&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(I,d?.popupRedirectResolver)}(Un,f),Un})(I,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,I)=>{d.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new Fn.wA("auth-internal",d=>{const f=ui(d.getProvider("auth").getImmediate());return new qd(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(Kd,"0.20.5",function wf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,V.registerVersion)(Kd,"0.20.5","esm2017")}("Browser")},2090:(Kt,Ge,U)=>{U.d(Ge,{$s:()=>ii,BH:()=>Ve,G6:()=>sn,L:()=>ee,LL:()=>Fn,Mn:()=>Pt,Sg:()=>He,UG:()=>oe,US:()=>ne,ZB:()=>se,ZR:()=>ft,b$:()=>en,d:()=>vt,eu:()=>ot,hl:()=>ze,jU:()=>Fe,m9:()=>gn,ne:()=>Qt,pd:()=>mt,r3:()=>Ue,ru:()=>Ft,tV:()=>le,uI:()=>et,vZ:()=>an,w1:()=>ct,xO:()=>br,xb:()=>Lt,z$:()=>Ze,zI:()=>Vt,zd:()=>_n});const ye=function(Oe){const De=[];let de=0;for(let we=0;we<Oe.length;we++){let pe=Oe.charCodeAt(we);pe<128?De[de++]=pe:pe<2048?(De[de++]=pe>>6|192,De[de++]=63&pe|128):55296==(64512&pe)&&we+1<Oe.length&&56320==(64512&Oe.charCodeAt(we+1))?(pe=65536+((1023&pe)<<10)+(1023&Oe.charCodeAt(++we)),De[de++]=pe>>18|240,De[de++]=pe>>12&63|128,De[de++]=pe>>6&63|128,De[de++]=63&pe|128):(De[de++]=pe>>12|224,De[de++]=pe>>6&63|128,De[de++]=63&pe|128)}return De},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Oe,De){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let pe=0;pe<Oe.length;pe+=3){const ht=Oe[pe],zt=pe+1<Oe.length,nn=zt?Oe[pe+1]:0,zn=pe+2<Oe.length,Qn=zn?Oe[pe+2]:0;let ve=(15&nn)<<2|Qn>>6,_e=63&Qn;zn||(_e=64,zt||(ve=64)),we.push(de[ht>>2],de[(3&ht)<<4|nn>>4],de[ve],de[_e])}return we.join("")},encodeString(Oe,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(Oe):this.encodeByteArray(ye(Oe),De)},decodeString(Oe,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(Oe):function(Oe){const De=[];let de=0,we=0;for(;de<Oe.length;){const pe=Oe[de++];if(pe<128)De[we++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const ht=Oe[de++];De[we++]=String.fromCharCode((31&pe)<<6|63&ht)}else if(pe>239&&pe<365){const zn=((7&pe)<<18|(63&Oe[de++])<<12|(63&Oe[de++])<<6|63&Oe[de++])-65536;De[we++]=String.fromCharCode(55296+(zn>>10)),De[we++]=String.fromCharCode(56320+(1023&zn))}else{const ht=Oe[de++],zt=Oe[de++];De[we++]=String.fromCharCode((15&pe)<<12|(63&ht)<<6|63&zt)}}return De.join("")}(this.decodeStringToByteArray(Oe,De))},decodeStringToByteArray(Oe,De){this.init_();const de=De?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let pe=0;pe<Oe.length;){const ht=de[Oe.charAt(pe++)],nn=pe<Oe.length?de[Oe.charAt(pe)]:0;++pe;const Qn=pe<Oe.length?de[Oe.charAt(pe)]:64;++pe;const je=pe<Oe.length?de[Oe.charAt(pe)]:64;if(++pe,null==ht||null==nn||null==Qn||null==je)throw Error();we.push(ht<<2|nn>>4),64!==Qn&&(we.push(nn<<4&240|Qn>>2),64!==je&&we.push(Qn<<6&192|je))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}},ee=function(Oe){return function(Oe){const De=ye(Oe);return ne.encodeByteArray(De,!0)}(Oe).replace(/\./g,"")},le=function(Oe){try{return ne.decodeString(Oe,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function se(Oe,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return De}for(const de in De)!De.hasOwnProperty(de)||!ce(de)||(Oe[de]=se(Oe[de],De[de]));return Oe}function ce(Oe){return"__proto__"!==Oe}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,de)=>{this.resolve=De,this.reject=de})}wrapCallback(De){return(de,we)=>{de?this.reject(de):this.resolve(we),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(de):De(de,we))}}}function He(Oe,De){if(Oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=De||"demo-project",pe=Oe.iat||0,ht=Oe.sub||Oe.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const zt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:pe,exp:pe+3600,auth_time:pe,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},Oe);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(zt)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function Ft(){const Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id}function en(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vt(){return Ze().indexOf("Electron/")>=0}function ct(){const Oe=Ze();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0}function Pt(){return Ze().indexOf("MSAppHost/")>=0}function sn(){return!oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){return"object"==typeof indexedDB}function ot(){return new Promise((Oe,De)=>{try{let de=!0;const we="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(we);pe.onsuccess=()=>{pe.result.close(),de||self.indexedDB.deleteDatabase(we),Oe(!0)},pe.onupgradeneeded=()=>{de=!1},pe.onerror=()=>{var ht;De((null===(ht=pe.error)||void 0===ht?void 0:ht.message)||"")}}catch(de){De(de)}})}function Vt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ft extends Error{constructor(De,de,we){super(de),this.code=De,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}}class Fn{constructor(De,de,we){this.service=De,this.serviceName=de,this.errors=we}create(De,...de){const we=de[0]||{},pe=`${this.service}/${De}`,ht=this.errors[De],zt=ht?function mr(Oe,De){return Oe.replace(Mr,(de,we)=>{const pe=De[we];return null!=pe?String(pe):`<${we}?>`})}(ht,we):"Error";return new ft(pe,`${this.serviceName}: ${zt} (${pe}).`,we)}}const Mr=/\{\$([^}]+)}/g;function Ue(Oe,De){return Object.prototype.hasOwnProperty.call(Oe,De)}function Lt(Oe){for(const De in Oe)if(Object.prototype.hasOwnProperty.call(Oe,De))return!1;return!0}function an(Oe,De){if(Oe===De)return!0;const de=Object.keys(Oe),we=Object.keys(De);for(const pe of de){if(!we.includes(pe))return!1;const ht=Oe[pe],zt=De[pe];if(Cn(ht)&&Cn(zt)){if(!an(ht,zt))return!1}else if(ht!==zt)return!1}for(const pe of we)if(!de.includes(pe))return!1;return!0}function Cn(Oe){return null!==Oe&&"object"==typeof Oe}function br(Oe){const De=[];for(const[de,we]of Object.entries(Oe))Array.isArray(we)?we.forEach(pe=>{De.push(encodeURIComponent(de)+"="+encodeURIComponent(pe))}):De.push(encodeURIComponent(de)+"="+encodeURIComponent(we));return De.length?"&"+De.join("&"):""}function _n(Oe){const De={};return Oe.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[pe,ht]=we.split("=");De[decodeURIComponent(pe)]=decodeURIComponent(ht)}}),De}function mt(Oe){const De=Oe.indexOf("?");if(!De)return"";const de=Oe.indexOf("#",De);return Oe.substring(De,de>0?de:void 0)}function Qt(Oe,De){const de=new qt(Oe,De);return de.subscribe.bind(de)}class qt{constructor(De,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{De(this)}).catch(we=>{this.error(we)})}next(De){this.forEachObserver(de=>{de.next(De)})}error(De){this.forEachObserver(de=>{de.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,de,we){let pe;if(void 0===De&&void 0===de&&void 0===we)throw new Error("Missing Observer.");pe=function Bn(Oe,De){if("object"!=typeof Oe||null===Oe)return!1;for(const de of De)if(de in Oe&&"function"==typeof Oe[de])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:de,complete:we},void 0===pe.next&&(pe.next=$r),void 0===pe.error&&(pe.error=$r),void 0===pe.complete&&(pe.complete=$r);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch{}}),this.observers.push(pe),ht}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,De)}sendOne(De,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{de(this.observers[De])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $r(){}function ii(Oe,De=1e3,de=2){const we=De*Math.pow(de,Oe),pe=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+pe)}function gn(Oe){return Oe&&Oe._delegate?Oe._delegate:Oe}},2704:(Kt,Ge,U)=>{var g=U(1481),F=U(4650),V=U(6895),ye=U(1995),me=U(2011);const ne_firebaseConfig={apiKey:"AIzaSyDFQOeVKPY1QfL_bmyBqGIzpNzzNuMAZqo",authDomain:"wfh-calendar-be679.firebaseapp.com",projectId:"wfh-calendar-be679",storageBucket:"wfh-calendar-be679.appspot.com",messagingSenderId:"881271965924",appId:"1:881271965924:web:71017f5bb9a9acb73e04f1",measurementId:"G-K7X1QTXXY3"};let fe=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=F.oAB({type:$}),$.\u0275inj=F.cJS({imports:[V.ez,me.hO.initializeApp(ne_firebaseConfig),ye.yb,me.hO,ye.yb]}),$})();var ee=U(8069),le=U(7185);let X=(()=>{class ${constructor(w,M){this.router=w,this.toastr=M}canActivate(w,M){var G=JSON.parse(localStorage.getItem("user"));return null===G?(this.router.navigate(["auth/login"],{queryParams:{returnUrl:M.url,message:"No User Authenticated"}}),!1):!(!G.uid||!G.emailVerified)||(this.router.navigate(["auth/login"],{queryParams:{returnUrl:M.url,message:"No User Authenticated"}}),this.toastr.error(G.uid?`Email has not been verified for ${G.email}`:"No user is authenticated."),!1)}}return $.\u0275fac=function(w){return new(w||$)(F.LFG(ee.F0),F.LFG(le._W))},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const se=[{path:"auth",loadChildren:()=>Promise.all([U.e(724),U.e(398),U.e(185)]).then(U.bind(U,1185)).then($=>$.AuthModule)},{path:"app",loadChildren:()=>Promise.all([U.e(724),U.e(397)]).then(U.bind(U,7397)).then($=>$.CoreModule),canActivate:[X]},{path:"",pathMatch:"full",redirectTo:"app"}];let ce=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=F.oAB({type:$}),$.\u0275inj=F.cJS({imports:[ee.Bz.forRoot(se),ee.Bz]}),$})(),Ve=(()=>{class ${constructor(){this.title="WFH-Calendar"}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=F.Xpm({type:$,selectors:[["app-root"]],decls:1,vars:0,template:function(w,M){1&w&&F._UZ(0,"router-outlet")},dependencies:[ee.lC]}),$})();var He=U(7340);function et($){return new F.vHH(3e3,!1)}function Qt(){return typeof window<"u"&&typeof window.document<"u"}function qt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $n($){switch($.length){case 0:return new He.ZN;case 1:return $[0];default:return new He.ZE($)}}function Bn($,v,w,M,G=new Map,re=new Map){const Te=[],Se=[];let We=-1,pt=null;if(M.forEach(x=>{const B=x.get("offset"),z=B==We,Q=z&&pt||new Map;x.forEach((ie,Me)=>{let Pe=Me,$e=ie;if("offset"!==Me)switch(Pe=v.normalizePropertyName(Pe,Te),$e){case He.k1:$e=G.get(Me);break;case He.l3:$e=re.get(Me);break;default:$e=v.normalizeStyleValue(Me,Pe,$e,Te)}Q.set(Pe,$e)}),z||Se.push(Q),pt=Q,We=B}),Te.length)throw function wt($){return new F.vHH(3502,!1)}();return Se}function $r($,v,w,M){switch(v){case"start":$.onStart(()=>M(w&&ri(w,"start",$)));break;case"done":$.onDone(()=>M(w&&ri(w,"done",$)));break;case"destroy":$.onDestroy(()=>M(w&&ri(w,"destroy",$)))}}function ri($,v,w){const re=cr($.element,$.triggerName,$.fromState,$.toState,v||$.phaseName,w.totalTime??$.totalTime,!!w.disabled),Te=$._data;return null!=Te&&(re._data=Te),re}function cr($,v,w,M,G="",re=0,Te){return{element:$,triggerName:v,fromState:w,toState:M,phaseName:G,totalTime:re,disabled:!!Te}}function Pn($,v,w){let M=$.get(v);return M||$.set(v,M=w),M}function Vr($){const v=$.indexOf(":");return[$.substring(1,v),$.slice(v+1)]}let or=($,v)=>!1,Xt=($,v,w)=>[],Ot=null;function yr($){const v=$.parentNode||$.host;return v===Ot?null:v}(qt()||typeof Element<"u")&&(Qt()?(Ot=(()=>document.documentElement)(),or=($,v)=>{for(;v;){if(v===$)return!0;v=yr(v)}return!1}):or=($,v)=>$.contains(v),Xt=($,v,w)=>{if(w)return Array.from($.querySelectorAll(v));const M=$.querySelector(v);return M?[M]:[]});let Ht=null,Mt=!1;const gn=or,Oe=Xt;let de=(()=>{class ${validateStyleProperty(w){return function ii($){Ht||(Ht=function Ir(){return typeof document<"u"?document.body:null}()||{},Mt=!!Ht.style&&"WebkitAppearance"in Ht.style);let v=!0;return Ht.style&&!function Er($){return"ebkit"==$.substring(1,6)}($)&&(v=$ in Ht.style,!v&&Mt&&(v="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in Ht.style)),v}(w)}matchesElement(w,M){return!1}containsElement(w,M){return gn(w,M)}getParentElement(w){return yr(w)}query(w,M,G){return Oe(w,M,G)}computeStyle(w,M,G){return G||""}animate(w,M,G,re,Te,Se=[],We){return new He.ZN(G,re)}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac}),$})(),we=(()=>{class ${}return $.NOOP=new de,$})();const nn="ng-enter",zn="ng-leave",Qn="ng-trigger",Nr=".ng-trigger",je="ng-animating",ve=".ng-animating";function _e($){if("number"==typeof $)return $;const v=$.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:rt(parseFloat(v[1]),v[2])}function rt($,v){return"s"===v?1e3*$:$}function At($,v,w){return $.hasOwnProperty("duration")?$:function mn($,v,w){let G,re=0,Te="";if("string"==typeof $){const Se=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return v.push(et()),{duration:0,delay:0,easing:""};G=rt(parseFloat(Se[1]),Se[2]);const We=Se[3];null!=We&&(re=rt(parseFloat(We),Se[4]));const pt=Se[5];pt&&(Te=pt)}else G=$;if(!w){let Se=!1,We=v.length;G<0&&(v.push(function oe(){return new F.vHH(3100,!1)}()),Se=!0),re<0&&(v.push(function Fe(){return new F.vHH(3101,!1)}()),Se=!0),Se&&v.splice(We,0,et())}return{duration:G,delay:re,easing:Te}}($,v,w)}function nt($,v={}){return Object.keys($).forEach(w=>{v[w]=$[w]}),v}function Gt($){const v=new Map;return Object.keys($).forEach(w=>{v.set(w,$[w])}),v}function ae($,v=new Map,w){if(w)for(let[M,G]of w)v.set(M,G);for(let[M,G]of $)v.set(M,G);return v}function Ee($,v,w){return w?v+":"+w+";":""}function dt($){let v="";for(let w=0;w<$.style.length;w++){const M=$.style.item(w);v+=Ee(0,M,$.style.getPropertyValue(M))}for(const w in $.style)$.style.hasOwnProperty(w)&&!w.startsWith("_")&&(v+=Ee(0,ji(w),$.style[w]));$.setAttribute("style",v)}function Bt($,v,w){$.style&&(v.forEach((M,G)=>{const re=gi(G);w&&!w.has(G)&&w.set(G,$.style[re]),$.style[re]=M}),qt()&&dt($))}function un($,v){$.style&&(v.forEach((w,M)=>{const G=gi(M);$.style[G]=""}),qt()&&dt($))}function jn($){return Array.isArray($)?1==$.length?$[0]:(0,He.vP)($):$}const os=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bi($){let v=[];if("string"==typeof $){let w;for(;w=os.exec($);)v.push(w[1]);os.lastIndex=0}return v}function Ei($,v,w){const M=$.toString(),G=M.replace(os,(re,Te)=>{let Se=v[Te];return null==Se&&(w.push(function en($){return new F.vHH(3003,!1)}()),Se=""),Se.toString()});return G==M?$:G}function Gr($){const v=[];let w=$.next();for(;!w.done;)v.push(w.value),w=$.next();return v}const vr=/-+([a-z0-9])/g;function gi($){return $.replace(vr,(...v)=>v[1].toUpperCase())}function ji($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _r($,v,w){switch(v.type){case 7:return $.visitTrigger(v,w);case 0:return $.visitState(v,w);case 1:return $.visitTransition(v,w);case 2:return $.visitSequence(v,w);case 3:return $.visitGroup(v,w);case 4:return $.visitAnimate(v,w);case 5:return $.visitKeyframes(v,w);case 6:return $.visitStyle(v,w);case 8:return $.visitReference(v,w);case 9:return $.visitAnimateChild(v,w);case 10:return $.visitAnimateRef(v,w);case 11:return $.visitQuery(v,w);case 12:return $.visitStagger(v,w);default:throw function vt($){return new F.vHH(3004,!1)}()}}function dr($,v){return window.getComputedStyle($)[v]}function ms($,v){const w=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(M=>function mi($,v,w){if(":"==$[0]){const We=function si($,v){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,M)=>parseFloat(M)>parseFloat(w);case":decrement":return(w,M)=>parseFloat(M)<parseFloat(w);default:return v.push(function Ln($){return new F.vHH(3016,!1)}()),"* => *"}}($,w);if("function"==typeof We)return void v.push(We);$=We}const M=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return w.push(function xn($){return new F.vHH(3015,!1)}()),v;const G=M[1],re=M[2],Te=M[3];v.push(Hi(G,Te));"<"==re[0]&&!("*"==G&&"*"==Te)&&v.push(Hi(Te,G))}(M,w,v)):w.push($),w}const Di=new Set(["true","1"]),yi=new Set(["false","0"]);function Hi($,v){const w=Di.has($)||yi.has($),M=Di.has(v)||yi.has(v);return(G,re)=>{let Te="*"==$||$==G,Se="*"==v||v==re;return!Te&&w&&"boolean"==typeof G&&(Te=G?Di.has($):yi.has($)),!Se&&M&&"boolean"==typeof re&&(Se=re?Di.has(v):yi.has(v)),Te&&Se}}const ui=new RegExp("s*:selfs*,?","g");function cs($,v,w,M){return new oi($).build(v,w,M)}class oi{constructor(v){this._driver=v}build(v,w,M){const G=new Ci(w);return this._resetContextStyleTimingState(G),_r(this,jn(v),G)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,w){let M=w.queryCount=0,G=w.depCount=0;const re=[],Te=[];return"@"==v.name.charAt(0)&&w.errors.push(function Pt(){return new F.vHH(3006,!1)}()),v.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(w),0==Se.type){const We=Se,pt=We.name;pt.toString().split(/\s*,\s*/).forEach(x=>{We.name=x,re.push(this.visitState(We,w))}),We.name=pt}else if(1==Se.type){const We=this.visitTransition(Se,w);M+=We.queryCount,G+=We.depCount,Te.push(We)}else w.errors.push(function bt(){return new F.vHH(3007,!1)}())}),{type:7,name:v.name,states:re,transitions:Te,queryCount:M,depCount:G,options:null}}visitState(v,w){const M=this.visitStyle(v.styles,w),G=v.options&&v.options.params||null;if(M.containsDynamicStyles){const re=new Set,Te=G||{};M.styles.forEach(Se=>{Se instanceof Map&&Se.forEach(We=>{Bi(We).forEach(pt=>{Te.hasOwnProperty(pt)||re.add(pt)})})}),re.size&&(Gr(re.values()),w.errors.push(function sn($,v){return new F.vHH(3008,!1)}()))}return{type:0,name:v.name,style:M,options:G?{params:G}:null}}visitTransition(v,w){w.queryCount=0,w.depCount=0;const M=_r(this,jn(v.animation),w);return{type:1,matchers:ms(v.expr,w.errors),animation:M,queryCount:w.queryCount,depCount:w.depCount,options:qe(v.options)}}visitSequence(v,w){return{type:2,steps:v.steps.map(M=>_r(this,M,w)),options:qe(v.options)}}visitGroup(v,w){const M=w.currentTime;let G=0;const re=v.steps.map(Te=>{w.currentTime=M;const Se=_r(this,Te,w);return G=Math.max(G,w.currentTime),Se});return w.currentTime=G,{type:3,steps:re,options:qe(v.options)}}visitAnimate(v,w){const M=function ke($,v){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return _t(At($,v).duration,0,"");const w=$;if(w.split(/\s+/).some(re=>"{"==re.charAt(0)&&"{"==re.charAt(1))){const re=_t(0,0,"");return re.dynamic=!0,re.strValue=w,re}const G=At(w,v);return _t(G.duration,G.delay,G.easing)}(v.timings,w.errors);w.currentAnimateTimings=M;let G,re=v.styles?v.styles:(0,He.oB)({});if(5==re.type)G=this.visitKeyframes(re,w);else{let Te=v.styles,Se=!1;if(!Te){Se=!0;const pt={};M.easing&&(pt.easing=M.easing),Te=(0,He.oB)(pt)}w.currentTime+=M.duration+M.delay;const We=this.visitStyle(Te,w);We.isEmptyStep=Se,G=We}return w.currentAnimateTimings=null,{type:4,timings:M,style:G,options:null}}visitStyle(v,w){const M=this._makeStyleAst(v,w);return this._validateStyleAst(M,w),M}_makeStyleAst(v,w){const M=[],G=Array.isArray(v.styles)?v.styles:[v.styles];for(let Se of G)"string"==typeof Se?Se===He.l3?M.push(Se):w.errors.push(new F.vHH(3002,!1)):M.push(Gt(Se));let re=!1,Te=null;return M.forEach(Se=>{if(Se instanceof Map&&(Se.has("easing")&&(Te=Se.get("easing"),Se.delete("easing")),!re))for(let We of Se.values())if(We.toString().indexOf("{{")>=0){re=!0;break}}),{type:6,styles:M,easing:Te,offset:v.offset,containsDynamicStyles:re,options:null}}_validateStyleAst(v,w){const M=w.currentAnimateTimings;let G=w.currentTime,re=w.currentTime;M&&re>0&&(re-=M.duration+M.delay),v.styles.forEach(Te=>{"string"!=typeof Te&&Te.forEach((Se,We)=>{const pt=w.collectedStyles.get(w.currentQuerySelector),x=pt.get(We);let B=!0;x&&(re!=G&&re>=x.startTime&&G<=x.endTime&&(w.errors.push(function Vt($,v,w,M,G){return new F.vHH(3010,!1)}()),B=!1),re=x.startTime),B&&pt.set(We,{startTime:re,endTime:G}),w.options&&function wn($,v,w){const M=v.params||{},G=Bi($);G.length&&G.forEach(re=>{M.hasOwnProperty(re)||w.push(function Ft($){return new F.vHH(3001,!1)}())})}(Se,w.options,w.errors)})})}visitKeyframes(v,w){const M={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function Nt(){return new F.vHH(3011,!1)}()),M;let re=0;const Te=[];let Se=!1,We=!1,pt=0;const x=v.steps.map($e=>{const gt=this._makeStyleAst($e,w);let vn=null!=gt.offset?gt.offset:function Re($){if("string"==typeof $)return null;let v=null;if(Array.isArray($))$.forEach(w=>{if(w instanceof Map&&w.has("offset")){const M=w;v=parseFloat(M.get("offset")),M.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const w=$;v=parseFloat(w.get("offset")),w.delete("offset")}return v}(gt.styles),dn=0;return null!=vn&&(re++,dn=gt.offset=vn),We=We||dn<0||dn>1,Se=Se||dn<pt,pt=dn,Te.push(dn),gt});We&&w.errors.push(function $t(){return new F.vHH(3012,!1)}()),Se&&w.errors.push(function ft(){return new F.vHH(3200,!1)}());const B=v.steps.length;let z=0;re>0&&re<B?w.errors.push(function Fn(){return new F.vHH(3202,!1)}()):0==re&&(z=1/(B-1));const Q=B-1,ie=w.currentTime,Me=w.currentAnimateTimings,Pe=Me.duration;return x.forEach(($e,gt)=>{const vn=z>0?gt==Q?1:z*gt:Te[gt],dn=vn*Pe;w.currentTime=ie+Me.delay+dn,Me.duration=dn,this._validateStyleAst($e,w),$e.offset=vn,M.styles.push($e)}),M}visitReference(v,w){return{type:8,animation:_r(this,jn(v.animation),w),options:qe(v.options)}}visitAnimateChild(v,w){return w.depCount++,{type:9,options:qe(v.options)}}visitAnimateRef(v,w){return{type:10,animation:this.visitReference(v.animation,w),options:qe(v.options)}}visitQuery(v,w){const M=w.currentQuerySelector,G=v.options||{};w.queryCount++,w.currentQuery=v;const[re,Te]=function Po($){const v=!!$.split(/\s*,\s*/).find(w=>":self"==w);return v&&($=$.replace(ui,"")),$=$.replace(/@\*/g,Nr).replace(/@\w+/g,w=>Nr+"-"+w.slice(1)).replace(/:animating/g,ve),[$,v]}(v.selector);w.currentQuerySelector=M.length?M+" "+re:re,Pn(w.collectedStyles,w.currentQuerySelector,new Map);const Se=_r(this,jn(v.animation),w);return w.currentQuery=null,w.currentQuerySelector=M,{type:11,selector:re,limit:G.limit||0,optional:!!G.optional,includeSelf:Te,animation:Se,originalSelector:v.selector,options:qe(v.options)}}visitStagger(v,w){w.currentQuery||w.errors.push(function mr(){return new F.vHH(3013,!1)}());const M="full"===v.timings?{duration:0,delay:0,easing:"full"}:At(v.timings,w.errors,!0);return{type:12,animation:_r(this,jn(v.animation),w),timings:M,options:null}}}class Ci{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qe($){return $?($=nt($)).params&&($.params=function Is($){return $?nt($):null}($.params)):$={},$}function _t($,v,w){return{duration:$,delay:v,easing:w}}function Ut($,v,w,M,G,re,Te=null,Se=!1){return{type:1,element:$,keyframes:v,preStyleProps:w,postStyleProps:M,duration:G,delay:re,totalTime:G+re,easing:Te,subTimeline:Se}}class ln{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,w){let M=this._map.get(v);M||this._map.set(v,M=[]),M.push(...w)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const ar=new RegExp(":enter","g"),Ls=new RegExp(":leave","g");function zs($,v,w,M,G,re=new Map,Te=new Map,Se,We,pt=[]){return(new Qi).buildKeyframes($,v,w,M,G,re,Te,Se,We,pt)}class Qi{buildKeyframes(v,w,M,G,re,Te,Se,We,pt,x=[]){pt=pt||new ln;const B=new Gs(v,w,pt,G,re,x,[]);B.options=We;const z=We.delay?_e(We.delay):0;B.currentTimeline.delayNextStep(z),B.currentTimeline.setStyles([Te],null,B.errors,We),_r(this,M,B);const Q=B.timelines.filter(ie=>ie.containsAnimation());if(Q.length&&Se.size){let ie;for(let Me=Q.length-1;Me>=0;Me--){const Pe=Q[Me];if(Pe.element===w){ie=Pe;break}}ie&&!ie.allowOnlyTimelineStyles()&&ie.setStyles([Se],null,B.errors,We)}return Q.length?Q.map(ie=>ie.buildKeyframes()):[Ut(w,[],[],[],0,z,"",!1)]}visitTrigger(v,w){}visitState(v,w){}visitTransition(v,w){}visitAnimateChild(v,w){const M=w.subInstructions.get(w.element);if(M){const G=w.createSubContext(v.options),re=w.currentTimeline.currentTime,Te=this._visitSubInstructions(M,G,G.options);re!=Te&&w.transformIntoNewTimeline(Te)}w.previousNode=v}visitAnimateRef(v,w){const M=w.createSubContext(v.options);M.transformIntoNewTimeline(),this.visitReference(v.animation,M),w.transformIntoNewTimeline(M.currentTimeline.currentTime),w.previousNode=v}_visitSubInstructions(v,w,M){let re=w.currentTimeline.currentTime;const Te=null!=M.duration?_e(M.duration):null,Se=null!=M.delay?_e(M.delay):null;return 0!==Te&&v.forEach(We=>{const pt=w.appendInstructionToTimeline(We,Te,Se);re=Math.max(re,pt.duration+pt.delay)}),re}visitReference(v,w){w.updateOptions(v.options,!0),_r(this,v.animation,w),w.previousNode=v}visitSequence(v,w){const M=w.subContextCount;let G=w;const re=v.options;if(re&&(re.params||re.delay)&&(G=w.createSubContext(re),G.transformIntoNewTimeline(),null!=re.delay)){6==G.previousNode.type&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=Ji);const Te=_e(re.delay);G.delayNextStep(Te)}v.steps.length&&(v.steps.forEach(Te=>_r(this,Te,G)),G.currentTimeline.applyStylesToKeyframe(),G.subContextCount>M&&G.transformIntoNewTimeline()),w.previousNode=v}visitGroup(v,w){const M=[];let G=w.currentTimeline.currentTime;const re=v.options&&v.options.delay?_e(v.options.delay):0;v.steps.forEach(Te=>{const Se=w.createSubContext(v.options);re&&Se.delayNextStep(re),_r(this,Te,Se),G=Math.max(G,Se.currentTimeline.currentTime),M.push(Se.currentTimeline)}),M.forEach(Te=>w.currentTimeline.mergeTimelineCollectedStyles(Te)),w.transformIntoNewTimeline(G),w.previousNode=v}_visitTiming(v,w){if(v.dynamic){const M=v.strValue;return At(w.params?Ei(M,w.params,w.errors):M,w.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,w){const M=w.currentAnimateTimings=this._visitTiming(v.timings,w),G=w.currentTimeline;M.delay&&(w.incrementTime(M.delay),G.snapshotCurrentStyles());const re=v.style;5==re.type?this.visitKeyframes(re,w):(w.incrementTime(M.duration),this.visitStyle(re,w),G.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=v}visitStyle(v,w){const M=w.currentTimeline,G=w.currentAnimateTimings;!G&&M.hasCurrentStyleProperties()&&M.forwardFrame();const re=G&&G.easing||v.easing;v.isEmptyStep?M.applyEmptyStep(re):M.setStyles(v.styles,re,w.errors,w.options),w.previousNode=v}visitKeyframes(v,w){const M=w.currentAnimateTimings,G=w.currentTimeline.duration,re=M.duration,Se=w.createSubContext().currentTimeline;Se.easing=M.easing,v.styles.forEach(We=>{Se.forwardTime((We.offset||0)*re),Se.setStyles(We.styles,We.easing,w.errors,w.options),Se.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Se),w.transformIntoNewTimeline(G+re),w.previousNode=v}visitQuery(v,w){const M=w.currentTimeline.currentTime,G=v.options||{},re=G.delay?_e(G.delay):0;re&&(6===w.previousNode.type||0==M&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Ji);let Te=M;const Se=w.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!G.optional,w.errors);w.currentQueryTotal=Se.length;let We=null;Se.forEach((pt,x)=>{w.currentQueryIndex=x;const B=w.createSubContext(v.options,pt);re&&B.delayNextStep(re),pt===w.element&&(We=B.currentTimeline),_r(this,v.animation,B),B.currentTimeline.applyStylesToKeyframe(),Te=Math.max(Te,B.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Te),We&&(w.currentTimeline.mergeTimelineCollectedStyles(We),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=v}visitStagger(v,w){const M=w.parentContext,G=w.currentTimeline,re=v.timings,Te=Math.abs(re.duration),Se=Te*(w.currentQueryTotal-1);let We=Te*w.currentQueryIndex;switch(re.duration<0?"reverse":re.easing){case"reverse":We=Se-We;break;case"full":We=M.currentStaggerTime}const x=w.currentTimeline;We&&x.delayNextStep(We);const B=x.currentTime;_r(this,v.animation,w),w.previousNode=v,M.currentStaggerTime=G.currentTime-B+(G.startTime-M.currentTimeline.startTime)}}const Ji={};class Gs{constructor(v,w,M,G,re,Te,Se,We){this._driver=v,this.element=w,this.subInstructions=M,this._enterClassName=G,this._leaveClassName=re,this.errors=Te,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ji,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=We||new Xs(this._driver,w,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,w){if(!v)return;const M=v;let G=this.options;null!=M.duration&&(G.duration=_e(M.duration)),null!=M.delay&&(G.delay=_e(M.delay));const re=M.params;if(re){let Te=G.params;Te||(Te=this.options.params={}),Object.keys(re).forEach(Se=>{(!w||!Te.hasOwnProperty(Se))&&(Te[Se]=Ei(re[Se],Te,this.errors))})}}_copyOptions(){const v={};if(this.options){const w=this.options.params;if(w){const M=v.params={};Object.keys(w).forEach(G=>{M[G]=w[G]})}}return v}createSubContext(v=null,w,M){const G=w||this.element,re=new Gs(this._driver,G,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(G,M||0));return re.previousNode=this.previousNode,re.currentAnimateTimings=this.currentAnimateTimings,re.options=this._copyOptions(),re.updateOptions(v),re.currentQueryIndex=this.currentQueryIndex,re.currentQueryTotal=this.currentQueryTotal,re.parentContext=this,this.subContextCount++,re}transformIntoNewTimeline(v){return this.previousNode=Ji,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,w,M){const G={duration:w??v.duration,delay:this.currentTimeline.currentTime+(M??0)+v.delay,easing:""},re=new Si(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,G,v.stretchStartingKeyframe);return this.timelines.push(re),G}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,w,M,G,re,Te){let Se=[];if(G&&Se.push(this.element),v.length>0){v=(v=v.replace(ar,"."+this._enterClassName)).replace(Ls,"."+this._leaveClassName);let pt=this._driver.query(this.element,v,1!=M);0!==M&&(pt=M<0?pt.slice(pt.length+M,pt.length):pt.slice(0,M)),Se.push(...pt)}return!re&&0==Se.length&&Te.push(function Mr($){return new F.vHH(3014,!1)}()),Se}}class Xs{constructor(v,w,M,G){this._driver=v,this.element=w,this.startTime=M,this._elementTimelineStylesLookup=G,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+v),w&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,w){return this.applyStylesToKeyframe(),new Xs(this._driver,v,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,w){this._localTimelineStyles.set(v,w),this._globalTimelineStyles.set(v,w),this._styleSummary.set(v,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[w,M]of this._globalTimelineStyles)this._backFill.set(w,M||He.l3),this._currentKeyframe.set(w,He.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,w,M,G){w&&this._previousKeyframe.set("easing",w);const re=G&&G.params||{},Te=function ys($,v){const w=new Map;let M;return $.forEach(G=>{if("*"===G){M=M||v.keys();for(let re of M)w.set(re,He.l3)}else ae(G,w)}),w}(v,this._globalTimelineStyles);for(let[Se,We]of Te){const pt=Ei(We,re,M);this._pendingStyles.set(Se,pt),this._localTimelineStyles.has(Se)||this._backFill.set(Se,this._globalTimelineStyles.get(Se)??He.l3),this._updateStyle(Se,pt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,w)=>{this._currentKeyframe.set(w,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,v)}))}snapshotCurrentStyles(){for(let[v,w]of this._localTimelineStyles)this._pendingStyles.set(v,w),this._updateStyle(v,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let w in this._currentKeyframe)v.push(w);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((w,M)=>{const G=this._styleSummary.get(M);(!G||w.time>G.time)&&this._updateStyle(M,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,w=new Set,M=1===this._keyframes.size&&0===this.duration;let G=[];this._keyframes.forEach((Se,We)=>{const pt=ae(Se,new Map,this._backFill);pt.forEach((x,B)=>{x===He.k1?v.add(B):x===He.l3&&w.add(B)}),M||pt.set("offset",We/this.duration),G.push(pt)});const re=v.size?Gr(v.values()):[],Te=w.size?Gr(w.values()):[];if(M){const Se=G[0],We=new Map(Se);Se.set("offset",0),We.set("offset",1),G=[Se,We]}return Ut(this.element,G,re,Te,this.duration,this.startTime,this.easing,!1)}}class Si extends Xs{constructor(v,w,M,G,re,Te,Se=!1){super(v,w,Te.delay),this.keyframes=M,this.preStyleProps=G,this.postStyleProps=re,this._stretchStartingKeyframe=Se,this.timings={duration:Te.duration,delay:Te.delay,easing:Te.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:w,duration:M,easing:G}=this.timings;if(this._stretchStartingKeyframe&&w){const re=[],Te=M+w,Se=w/Te,We=ae(v[0]);We.set("offset",0),re.push(We);const pt=ae(v[0]);pt.set("offset",Xi(Se)),re.push(pt);const x=v.length-1;for(let B=1;B<=x;B++){let z=ae(v[B]);const Q=z.get("offset");z.set("offset",Xi((w+Q*M)/Te)),re.push(z)}M=Te,w=0,G="",v=re}return Ut(this.element,v,this.preStyleProps,this.postStyleProps,M,w,G,!0)}}function Xi($,v=3){const w=Math.pow(10,v-1);return Math.round($*w)/w}class Ws{}const zi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ds extends Ws{normalizePropertyName(v,w){return gi(v)}normalizeStyleValue(v,w,M,G){let re="";const Te=M.toString().trim();if(zi.has(w)&&0!==M&&"0"!==M)if("number"==typeof M)re="px";else{const Se=M.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&G.push(function ct($,v){return new F.vHH(3005,!1)}())}return Te+re}}function Ts($,v,w,M,G,re,Te,Se,We,pt,x,B,z){return{type:0,element:$,triggerName:v,isRemovalTransition:G,fromState:w,fromStyles:re,toState:M,toStyles:Te,timelines:Se,queriedElements:We,preStyleProps:pt,postStyleProps:x,totalTime:B,errors:z}}const es={};class Oi{constructor(v,w,M){this._triggerName=v,this.ast=w,this._stateStyles=M}match(v,w,M,G){return function ho($,v,w,M,G){return $.some(re=>re(v,w,M,G))}(this.ast.matchers,v,w,M,G)}buildStyles(v,w,M){let G=this._stateStyles.get("*");return void 0!==v&&(G=this._stateStyles.get(v?.toString())||G),G?G.buildStyles(w,M):new Map}build(v,w,M,G,re,Te,Se,We,pt,x){const B=[],z=this.ast.options&&this.ast.options.params||es,ie=this.buildStyles(M,Se&&Se.params||es,B),Me=We&&We.params||es,Pe=this.buildStyles(G,Me,B),$e=new Set,gt=new Map,vn=new Map,dn="void"===G,bn={params:eo(Me,z),delay:this.ast.options?.delay},kn=x?[]:zs(v,w,this.ast.animation,re,Te,ie,Pe,bn,pt,B);let Yn=0;if(kn.forEach(Kr=>{Yn=Math.max(Kr.duration+Kr.delay,Yn)}),B.length)return Ts(w,this._triggerName,M,G,dn,ie,Pe,[],[],gt,vn,Yn,B);kn.forEach(Kr=>{const ci=Kr.element,di=Pn(gt,ci,new Set);Kr.preStyleProps.forEach(pr=>di.add(pr));const qr=Pn(vn,ci,new Set);Kr.postStyleProps.forEach(pr=>qr.add(pr)),ci!==w&&$e.add(ci)});const Kn=Gr($e.values());return Ts(w,this._triggerName,M,G,dn,ie,Pe,kn,Kn,gt,vn,Yn)}}function eo($,v){const w=nt(v);for(const M in $)$.hasOwnProperty(M)&&null!=$[M]&&(w[M]=$[M]);return w}class to{constructor(v,w,M){this.styles=v,this.defaultParams=w,this.normalizer=M}buildStyles(v,w){const M=new Map,G=nt(this.defaultParams);return Object.keys(v).forEach(re=>{const Te=v[re];null!==Te&&(G[re]=Te)}),this.styles.styles.forEach(re=>{"string"!=typeof re&&re.forEach((Te,Se)=>{Te&&(Te=Ei(Te,G,w));const We=this.normalizer.normalizePropertyName(Se,w);Te=this.normalizer.normalizeStyleValue(Se,We,Te,w),M.set(We,Te)})}),M}}class bo{constructor(v,w,M){this.name=v,this.ast=w,this._normalizer=M,this.transitionFactories=[],this.states=new Map,w.states.forEach(G=>{this.states.set(G.name,new to(G.style,G.options&&G.options.params||{},M))}),na(this.states,"true","1"),na(this.states,"false","0"),w.transitions.forEach(G=>{this.transitionFactories.push(new Oi(v,G,this.states))}),this.fallbackTransition=function Dr($,v,w){return new Oi($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Te,Se)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,w,M,G){return this.transitionFactories.find(Te=>Te.match(v,w,M,G))||null}matchStyles(v,w,M){return this.fallbackTransition.buildStyles(v,w,M)}}function na($,v,w){$.has(v)?$.has(w)||$.set(w,$.get(v)):$.has(w)&&$.set(v,$.get(w))}const Eo=new ln;class ts{constructor(v,w,M){this.bodyNode=v,this._driver=w,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,w){const M=[],re=cs(this._driver,w,M,[]);if(M.length)throw function at($){return new F.vHH(3503,!1)}();this._animations.set(v,re)}_buildPlayer(v,w,M){const G=v.element,re=Bn(0,this._normalizer,0,v.keyframes,w,M);return this._driver.animate(G,re,v.duration,v.delay,v.easing,[],!0)}create(v,w,M={}){const G=[],re=this._animations.get(v);let Te;const Se=new Map;if(re?(Te=zs(this._driver,w,re,nn,zn,new Map,new Map,M,Eo,G),Te.forEach(x=>{const B=Pn(Se,x.element,new Map);x.postStyleProps.forEach(z=>B.set(z,null))})):(G.push(function Ue(){return new F.vHH(3300,!1)}()),Te=[]),G.length)throw function Ke($){return new F.vHH(3504,!1)}();Se.forEach((x,B)=>{x.forEach((z,Q)=>{x.set(Q,this._driver.computeStyle(B,Q,He.l3))})});const pt=$n(Te.map(x=>{const B=Se.get(x.element);return this._buildPlayer(x,new Map,B)}));return this._playersById.set(v,pt),pt.onDestroy(()=>this.destroy(v)),this.players.push(pt),pt}destroy(v){const w=this._getPlayer(v);w.destroy(),this._playersById.delete(v);const M=this.players.indexOf(w);M>=0&&this.players.splice(M,1)}_getPlayer(v){const w=this._playersById.get(v);if(!w)throw function Lt($){return new F.vHH(3301,!1)}();return w}listen(v,w,M,G){const re=cr(w,"","","");return $r(this._getPlayer(v),M,re,G),()=>{}}command(v,w,M,G){if("register"==M)return void this.register(v,G[0]);if("create"==M)return void this.create(v,w,G[0]||{});const re=this._getPlayer(v);switch(M){case"play":re.play();break;case"pause":re.pause();break;case"reset":re.reset();break;case"restart":re.restart();break;case"finish":re.finish();break;case"init":re.init();break;case"setPosition":re.setPosition(parseFloat(G[0]));break;case"destroy":this.destroy(v)}}}const ur="ng-animate-queued",Cs="ng-animate-disabled",R=[],J={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xe="__ng_removed";class It{constructor(v,w=""){this.namespaceId=w;const M=v&&v.hasOwnProperty("value");if(this.value=function wr($){return $??null}(M?v.value:v),M){const re=nt(v);delete re.value,this.options=re}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const w=v.params;if(w){const M=this.options.params;Object.keys(w).forEach(G=>{null==M[G]&&(M[G]=w[G])})}}}const yt="void",Pr=new It(yt);class Tr{constructor(v,w,M){this.id=v,this.hostElement=w,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,vi(w,this._hostClassName)}listen(v,w,M,G){if(!this._triggers.has(w))throw function pn($,v){return new F.vHH(3302,!1)}();if(null==M||0==M.length)throw function an($){return new F.vHH(3303,!1)}();if(!function Xr($){return"start"==$||"done"==$}(M))throw function Cn($,v){return new F.vHH(3400,!1)}();const re=Pn(this._elementListeners,v,[]),Te={name:w,phase:M,callback:G};re.push(Te);const Se=Pn(this._engine.statesByElement,v,new Map);return Se.has(w)||(vi(v,Qn),vi(v,Qn+"-"+w),Se.set(w,Pr)),()=>{this._engine.afterFlush(()=>{const We=re.indexOf(Te);We>=0&&re.splice(We,1),this._triggers.has(w)||Se.delete(w)})}}register(v,w){return!this._triggers.has(v)&&(this._triggers.set(v,w),!0)}_getTrigger(v){const w=this._triggers.get(v);if(!w)throw function sr($){return new F.vHH(3401,!1)}();return w}trigger(v,w,M,G=!0){const re=this._getTrigger(w),Te=new Gn(this.id,w,v);let Se=this._engine.statesByElement.get(v);Se||(vi(v,Qn),vi(v,Qn+"-"+w),this._engine.statesByElement.set(v,Se=new Map));let We=Se.get(w);const pt=new It(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&We&&pt.absorbOptions(We.options),Se.set(w,pt),We||(We=Pr),pt.value!==yt&&We.value===pt.value){if(!function no($,v){const w=Object.keys($),M=Object.keys(v);if(w.length!=M.length)return!1;for(let G=0;G<w.length;G++){const re=w[G];if(!v.hasOwnProperty(re)||$[re]!==v[re])return!1}return!0}(We.params,pt.params)){const Me=[],Pe=re.matchStyles(We.value,We.params,Me),$e=re.matchStyles(pt.value,pt.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{un(v,Pe),Bt(v,$e)})}return}const z=Pn(this._engine.playersByElement,v,[]);z.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==w&&Me.queued&&Me.destroy()});let Q=re.matchTransition(We.value,pt.value,v,pt.params),ie=!1;if(!Q){if(!G)return;Q=re.fallbackTransition,ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:w,transition:Q,fromState:We,toState:pt,player:Te,isFallbackTransition:ie}),ie||(vi(v,ur),Te.onStart(()=>{xr(v,ur)})),Te.onDone(()=>{let Me=this.players.indexOf(Te);Me>=0&&this.players.splice(Me,1);const Pe=this._engine.playersByElement.get(v);if(Pe){let $e=Pe.indexOf(Te);$e>=0&&Pe.splice($e,1)}}),this.players.push(Te),z.push(Te),Te}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(w=>w.delete(v)),this._elementListeners.forEach((w,M)=>{this._elementListeners.set(M,w.filter(G=>G.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const w=this._engine.playersByElement.get(v);w&&(w.forEach(M=>M.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,w){const M=this._engine.driver.query(v,Nr,!0);M.forEach(G=>{if(G[Xe])return;const re=this._engine.fetchNamespacesByElement(G);re.size?re.forEach(Te=>Te.triggerLeaveAnimation(G,w,!1,!0)):this.clearElementCache(G)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(G=>this.clearElementCache(G)))}triggerLeaveAnimation(v,w,M,G){const re=this._engine.statesByElement.get(v),Te=new Map;if(re){const Se=[];if(re.forEach((We,pt)=>{if(Te.set(pt,We.value),this._triggers.has(pt)){const x=this.trigger(v,pt,yt,G);x&&Se.push(x)}}),Se.length)return this._engine.markElementAsRemoved(this.id,v,!0,w,Te),M&&$n(Se).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const w=this._elementListeners.get(v),M=this._engine.statesByElement.get(v);if(w&&M){const G=new Set;w.forEach(re=>{const Te=re.name;if(G.has(Te))return;G.add(Te);const We=this._triggers.get(Te).fallbackTransition,pt=M.get(Te)||Pr,x=new It(yt),B=new Gn(this.id,Te,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Te,transition:We,fromState:pt,toState:x,player:B,isFallbackTransition:!0})})}}removeNode(v,w){const M=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,w),this.triggerLeaveAnimation(v,w,!0))return;let G=!1;if(M.totalAnimations){const re=M.players.length?M.playersByQueriedElement.get(v):[];if(re&&re.length)G=!0;else{let Te=v;for(;Te=Te.parentNode;)if(M.statesByElement.get(Te)){G=!0;break}}}if(this.prepareLeaveAnimationListeners(v),G)M.markElementAsRemoved(this.id,v,!1,w);else{const re=v[Xe];(!re||re===J)&&(M.afterFlush(()=>this.clearElementCache(v)),M.destroyInnerAnimations(v),M._onRemovalComplete(v,w))}}insertNode(v,w){vi(v,this._hostClassName)}drainQueuedTransitions(v){const w=[];return this._queue.forEach(M=>{const G=M.player;if(G.destroyed)return;const re=M.element,Te=this._elementListeners.get(re);Te&&Te.forEach(Se=>{if(Se.name==M.triggerName){const We=cr(re,M.triggerName,M.fromState.value,M.toState.value);We._data=v,$r(M.player,Se.phase,We,Se.callback)}}),G.markedForDestroy?this._engine.afterFlush(()=>{G.destroy()}):w.push(M)}),this._queue=[],w.sort((M,G)=>{const re=M.transition.ast.depCount,Te=G.transition.ast.depCount;return 0==re||0==Te?re-Te:this._engine.driver.containsElement(M.element,G.element)?1:-1})}destroy(v){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let w=!1;return this._elementListeners.has(v)&&(w=!0),w=!!this._queue.find(M=>M.element===v)||w,w}}class Hr{constructor(v,w,M){this.bodyNode=v,this.driver=w,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(G,re)=>{}}_onRemovalComplete(v,w){this.onRemovalComplete(v,w)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(w=>{w.players.forEach(M=>{M.queued&&v.push(M)})}),v}createNamespace(v,w){const M=new Tr(v,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(M,w):(this.newHostElements.set(w,M),this.collectEnterElement(w)),this._namespaceLookup[v]=M}_balanceNamespaceList(v,w){const M=this._namespaceList,G=this.namespacesByHostElement;if(M.length-1>=0){let Te=!1,Se=this.driver.getParentElement(w);for(;Se;){const We=G.get(Se);if(We){const pt=M.indexOf(We);M.splice(pt+1,0,v),Te=!0;break}Se=this.driver.getParentElement(Se)}Te||M.unshift(v)}else M.push(v);return G.set(w,v),v}register(v,w){let M=this._namespaceLookup[v];return M||(M=this.createNamespace(v,w)),M}registerTrigger(v,w,M){let G=this._namespaceLookup[v];G&&G.register(w,M)&&this.totalAnimations++}destroy(v,w){if(!v)return;const M=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[v];const G=this._namespaceList.indexOf(M);G>=0&&this._namespaceList.splice(G,1)}),this.afterFlushAnimationsDone(()=>M.destroy(w))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const w=new Set,M=this.statesByElement.get(v);if(M)for(let G of M.values())if(G.namespaceId){const re=this._fetchNamespace(G.namespaceId);re&&w.add(re)}return w}trigger(v,w,M,G){if(Ar(w)){const re=this._fetchNamespace(v);if(re)return re.trigger(w,M,G),!0}return!1}insertNode(v,w,M,G){if(!Ar(w))return;const re=w[Xe];if(re&&re.setForRemoval){re.setForRemoval=!1,re.setForMove=!0;const Te=this.collectedLeaveElements.indexOf(w);Te>=0&&this.collectedLeaveElements.splice(Te,1)}if(v){const Te=this._fetchNamespace(v);Te&&Te.insertNode(w,M)}G&&this.collectEnterElement(w)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,w){w?this.disabledNodes.has(v)||(this.disabledNodes.add(v),vi(v,Cs)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),xr(v,Cs))}removeNode(v,w,M,G){if(Ar(w)){const re=v?this._fetchNamespace(v):null;if(re?re.removeNode(w,G):this.markElementAsRemoved(v,w,!1,G),M){const Te=this.namespacesByHostElement.get(w);Te&&Te.id!==v&&Te.removeNode(w,G)}}else this._onRemovalComplete(w,G)}markElementAsRemoved(v,w,M,G,re){this.collectedLeaveElements.push(w),w[Xe]={namespaceId:v,setForRemoval:G,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:re}}listen(v,w,M,G,re){return Ar(w)?this._fetchNamespace(v).listen(w,M,G,re):()=>{}}_buildInstruction(v,w,M,G,re){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,M,G,v.fromState.options,v.toState.options,w,re)}destroyInnerAnimations(v){let w=this.driver.query(v,Nr,!0);w.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(v,ve,!0),w.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(v){const w=this.playersByElement.get(v);w&&w.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(v){const w=this.playersByQueriedElement.get(v);w&&w.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return $n(this.players).onDone(()=>v());v()})}processLeaveNode(v){const w=v[Xe];if(w&&w.setForRemoval){if(v[Xe]=J,w.namespaceId){this.destroyInnerAnimations(v);const M=this._fetchNamespace(w.namespaceId);M&&M.clearElementCache(v)}this._onRemovalComplete(v,w.setForRemoval)}v.classList?.contains(Cs)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(v=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,G)=>this._balanceNamespaceList(M,G)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)vi(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{w=this._flushAnimations(M,v)}finally{for(let G=0;G<M.length;G++)M[G]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],w.length?$n(w).onDone(()=>{M.forEach(G=>G())}):M.forEach(G=>G())}}reportError(v){throw function br($){return new F.vHH(3402,!1)}()}_flushAnimations(v,w){const M=new ln,G=[],re=new Map,Te=[],Se=new Map,We=new Map,pt=new Map,x=new Set;this.disabledNodes.forEach(cn=>{x.add(cn);const In=this.driver.query(cn,".ng-animate-queued",!0);for(let Mn=0;Mn<In.length;Mn++)x.add(In[Mn])});const B=this.bodyNode,z=Array.from(this.statesByElement.keys()),Q=Fi(z,this.collectedEnterElements),ie=new Map;let Me=0;Q.forEach((cn,In)=>{const Mn=nn+Me++;ie.set(In,Mn),cn.forEach(Jn=>vi(Jn,Mn))});const Pe=[],$e=new Set,gt=new Set;for(let cn=0;cn<this.collectedLeaveElements.length;cn++){const In=this.collectedLeaveElements[cn],Mn=In[Xe];Mn&&Mn.setForRemoval&&(Pe.push(In),$e.add(In),Mn.hasAnimation?this.driver.query(In,".ng-star-inserted",!0).forEach(Jn=>$e.add(Jn)):gt.add(In))}const vn=new Map,dn=Fi(z,Array.from($e));dn.forEach((cn,In)=>{const Mn=zn+Me++;vn.set(In,Mn),cn.forEach(Jn=>vi(Jn,Mn))}),v.push(()=>{Q.forEach((cn,In)=>{const Mn=ie.get(In);cn.forEach(Jn=>xr(Jn,Mn))}),dn.forEach((cn,In)=>{const Mn=vn.get(In);cn.forEach(Jn=>xr(Jn,Mn))}),Pe.forEach(cn=>{this.processLeaveNode(cn)})});const bn=[],kn=[];for(let cn=this._namespaceList.length-1;cn>=0;cn--)this._namespaceList[cn].drainQueuedTransitions(w).forEach(Mn=>{const Jn=Mn.player,Ki=Mn.element;if(bn.push(Jn),this.collectedEnterElements.length){const Dt=Ki[Xe];if(Dt&&Dt.setForMove){if(Dt.previousTriggersValues&&Dt.previousTriggersValues.has(Mn.triggerName)){const jr=Dt.previousTriggersValues.get(Mn.triggerName),Zi=this.statesByElement.get(Mn.element);if(Zi&&Zi.has(Mn.triggerName)){const so=Zi.get(Mn.triggerName);so.value=jr,Zi.set(Mn.triggerName,so)}}return void Jn.destroy()}}const qi=!B||!this.driver.containsElement(B,Ki),Or=vn.get(Ki),xi=ie.get(Ki),tr=this._buildInstruction(Mn,M,xi,Or,qi);if(tr.errors&&tr.errors.length)return void kn.push(tr);if(qi)return Jn.onStart(()=>un(Ki,tr.fromStyles)),Jn.onDestroy(()=>Bt(Ki,tr.toStyles)),void G.push(Jn);if(Mn.isFallbackTransition)return Jn.onStart(()=>un(Ki,tr.fromStyles)),Jn.onDestroy(()=>Bt(Ki,tr.toStyles)),void G.push(Jn);const Co=[];tr.timelines.forEach(Dt=>{Dt.stretchStartingKeyframe=!0,this.disabledNodes.has(Dt.element)||Co.push(Dt)}),tr.timelines=Co,M.append(Ki,tr.timelines),Te.push({instruction:tr,player:Jn,element:Ki}),tr.queriedElements.forEach(Dt=>Pn(Se,Dt,[]).push(Jn)),tr.preStyleProps.forEach((Dt,jr)=>{if(Dt.size){let Zi=We.get(jr);Zi||We.set(jr,Zi=new Set),Dt.forEach((so,hn)=>Zi.add(hn))}}),tr.postStyleProps.forEach((Dt,jr)=>{let Zi=pt.get(jr);Zi||pt.set(jr,Zi=new Set),Dt.forEach((so,hn)=>Zi.add(hn))})});if(kn.length){const cn=[];kn.forEach(In=>{cn.push(function mt($,v){return new F.vHH(3505,!1)}())}),bn.forEach(In=>In.destroy()),this.reportError(cn)}const Yn=new Map,Kn=new Map;Te.forEach(cn=>{const In=cn.element;M.has(In)&&(Kn.set(In,In),this._beforeAnimationBuild(cn.player.namespaceId,cn.instruction,Yn))}),G.forEach(cn=>{const In=cn.element;this._getPreviousPlayers(In,!1,cn.namespaceId,cn.triggerName,null).forEach(Jn=>{Pn(Yn,In,[]).push(Jn),Jn.destroy()})});const Kr=Pe.filter(cn=>Ps(cn,We,pt)),ci=new Map;Wn(ci,this.driver,gt,pt,He.l3).forEach(cn=>{Ps(cn,We,pt)&&Kr.push(cn)});const qr=new Map;Q.forEach((cn,In)=>{Wn(qr,this.driver,new Set(cn),We,He.k1)}),Kr.forEach(cn=>{const In=ci.get(cn),Mn=qr.get(cn);ci.set(cn,new Map([...Array.from(In?.entries()??[]),...Array.from(Mn?.entries()??[])]))});const pr=[],Wi=[],ns={};Te.forEach(cn=>{const{element:In,player:Mn,instruction:Jn}=cn;if(M.has(In)){if(x.has(In))return Mn.onDestroy(()=>Bt(In,Jn.toStyles)),Mn.disabled=!0,Mn.overrideTotalTime(Jn.totalTime),void G.push(Mn);let Ki=ns;if(Kn.size>1){let Or=In;const xi=[];for(;Or=Or.parentNode;){const tr=Kn.get(Or);if(tr){Ki=tr;break}xi.push(Or)}xi.forEach(tr=>Kn.set(tr,Ki))}const qi=this._buildAnimation(Mn.namespaceId,Jn,Yn,re,qr,ci);if(Mn.setRealPlayer(qi),Ki===ns)pr.push(Mn);else{const Or=this.playersByElement.get(Ki);Or&&Or.length&&(Mn.parentPlayer=$n(Or)),G.push(Mn)}}else un(In,Jn.fromStyles),Mn.onDestroy(()=>Bt(In,Jn.toStyles)),Wi.push(Mn),x.has(In)&&G.push(Mn)}),Wi.forEach(cn=>{const In=re.get(cn.element);if(In&&In.length){const Mn=$n(In);cn.setRealPlayer(Mn)}}),G.forEach(cn=>{cn.parentPlayer?cn.syncPlayerEvents(cn.parentPlayer):cn.destroy()});for(let cn=0;cn<Pe.length;cn++){const In=Pe[cn],Mn=In[Xe];if(xr(In,zn),Mn&&Mn.hasAnimation)continue;let Jn=[];if(Se.size){let qi=Se.get(In);qi&&qi.length&&Jn.push(...qi);let Or=this.driver.query(In,ve,!0);for(let xi=0;xi<Or.length;xi++){let tr=Se.get(Or[xi]);tr&&tr.length&&Jn.push(...tr)}}const Ki=Jn.filter(qi=>!qi.destroyed);Ki.length?Ks(this,In,Ki):this.processLeaveNode(In)}return Pe.length=0,pr.forEach(cn=>{this.players.push(cn),cn.onDone(()=>{cn.destroy();const In=this.players.indexOf(cn);this.players.splice(In,1)}),cn.play()}),pr}elementContainsData(v,w){let M=!1;const G=w[Xe];return G&&G.setForRemoval&&(M=!0),this.playersByElement.has(w)&&(M=!0),this.playersByQueriedElement.has(w)&&(M=!0),this.statesByElement.has(w)&&(M=!0),this._fetchNamespace(v).elementContainsData(w)||M}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,w,M,G,re){let Te=[];if(w){const Se=this.playersByQueriedElement.get(v);Se&&(Te=Se)}else{const Se=this.playersByElement.get(v);if(Se){const We=!re||re==yt;Se.forEach(pt=>{pt.queued||!We&&pt.triggerName!=G||Te.push(pt)})}}return(M||G)&&(Te=Te.filter(Se=>!(M&&M!=Se.namespaceId||G&&G!=Se.triggerName))),Te}_beforeAnimationBuild(v,w,M){const re=w.element,Te=w.isRemovalTransition?void 0:v,Se=w.isRemovalTransition?void 0:w.triggerName;for(const We of w.timelines){const pt=We.element,x=pt!==re,B=Pn(M,pt,[]);this._getPreviousPlayers(pt,x,Te,Se,w.toState).forEach(Q=>{const ie=Q.getRealPlayer();ie.beforeDestroy&&ie.beforeDestroy(),Q.destroy(),B.push(Q)})}un(re,w.fromStyles)}_buildAnimation(v,w,M,G,re,Te){const Se=w.triggerName,We=w.element,pt=[],x=new Set,B=new Set,z=w.timelines.map(ie=>{const Me=ie.element;x.add(Me);const Pe=Me[Xe];if(Pe&&Pe.removedBeforeQueried)return new He.ZN(ie.duration,ie.delay);const $e=Me!==We,gt=function qs($){const v=[];return vs($,v),v}((M.get(Me)||R).map(Yn=>Yn.getRealPlayer())).filter(Yn=>!!Yn.element&&Yn.element===Me),vn=re.get(Me),dn=Te.get(Me),bn=Bn(0,this._normalizer,0,ie.keyframes,vn,dn),kn=this._buildPlayer(ie,bn,gt);if(ie.subTimeline&&G&&B.add(Me),$e){const Yn=new Gn(v,Se,Me);Yn.setRealPlayer(kn),pt.push(Yn)}return kn});pt.forEach(ie=>{Pn(this.playersByQueriedElement,ie.element,[]).push(ie),ie.onDone(()=>function Ai($,v,w){let M=$.get(v);if(M){if(M.length){const G=M.indexOf(w);M.splice(G,1)}0==M.length&&$.delete(v)}return M}(this.playersByQueriedElement,ie.element,ie))}),x.forEach(ie=>vi(ie,je));const Q=$n(z);return Q.onDestroy(()=>{x.forEach(ie=>xr(ie,je)),Bt(We,w.toStyles)}),B.forEach(ie=>{Pn(G,ie,[]).push(Q)}),Q}_buildPlayer(v,w,M){return w.length>0?this.driver.animate(v.element,w,v.duration,v.delay,v.easing,M):new He.ZN(v.duration,v.delay)}}class Gn{constructor(v,w,M){this.namespaceId=v,this.triggerName=w,this.element=M,this._player=new He.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((w,M)=>{w.forEach(G=>$r(v,M,void 0,G))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const w=this._player;w.triggerCallback&&v.onStart(()=>w.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,w){Pn(this._queuedCallbacks,v,[]).push(w)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const w=this._player;w.triggerCallback&&w.triggerCallback(v)}}function Ar($){return $&&1===$.nodeType}function ut($,v){const w=$.style.display;return $.style.display=v??"none",w}function Wn($,v,w,M,G){const re=[];w.forEach(We=>re.push(ut(We)));const Te=[];M.forEach((We,pt)=>{const x=new Map;We.forEach(B=>{const z=v.computeStyle(pt,B,G);x.set(B,z),(!z||0==z.length)&&(pt[Xe]=xe,Te.push(pt))}),$.set(pt,x)});let Se=0;return w.forEach(We=>ut(We,re[Se++])),Te}function Fi($,v){const w=new Map;if($.forEach(Se=>w.set(Se,[])),0==v.length)return w;const G=new Set(v),re=new Map;function Te(Se){if(!Se)return 1;let We=re.get(Se);if(We)return We;const pt=Se.parentNode;return We=w.has(pt)?pt:G.has(pt)?1:Te(pt),re.set(Se,We),We}return v.forEach(Se=>{const We=Te(Se);1!==We&&w.get(We).push(Se)}),w}function vi($,v){$.classList?.add(v)}function xr($,v){$.classList?.remove(v)}function Ks($,v,w){$n(w).onDone(()=>$.processLeaveNode(v))}function vs($,v){for(let w=0;w<$.length;w++){const M=$[w];M instanceof He.ZE?vs(M.players,v):v.push(M)}}function Ps($,v,w){const M=w.get($);if(!M)return!1;let G=v.get($);return G?M.forEach(re=>G.add(re)):v.set($,M),w.delete($),!0}class ds{constructor(v,w,M){this.bodyNode=v,this._driver=w,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(G,re)=>{},this._transitionEngine=new Hr(v,w,M),this._timelineEngine=new ts(v,w,M),this._transitionEngine.onRemovalComplete=(G,re)=>this.onRemovalComplete(G,re)}registerTrigger(v,w,M,G,re){const Te=v+"-"+G;let Se=this._triggerCache[Te];if(!Se){const We=[],x=cs(this._driver,re,We,[]);if(We.length)throw function Tn($,v){return new F.vHH(3404,!1)}();Se=function Vs($,v,w){return new bo($,v,w)}(G,x,this._normalizer),this._triggerCache[Te]=Se}this._transitionEngine.registerTrigger(w,G,Se)}register(v,w){this._transitionEngine.register(v,w)}destroy(v,w){this._transitionEngine.destroy(v,w)}onInsert(v,w,M,G){this._transitionEngine.insertNode(v,w,M,G)}onRemove(v,w,M,G){this._transitionEngine.removeNode(v,w,G||!1,M)}disableAnimations(v,w){this._transitionEngine.markElementAsDisabled(v,w)}process(v,w,M,G){if("@"==M.charAt(0)){const[re,Te]=Vr(M);this._timelineEngine.command(re,w,Te,G)}else this._transitionEngine.trigger(v,w,M,G)}listen(v,w,M,G,re){if("@"==M.charAt(0)){const[Te,Se]=Vr(M);return this._timelineEngine.listen(Te,w,Se,re)}return this._transitionEngine.listen(v,w,M,G,re)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jo=(()=>{class ${constructor(w,M,G){this._element=w,this._startStyles=M,this._endStyles=G,this._state=0;let re=$.initialStylesByElement.get(w);re||$.initialStylesByElement.set(w,re=new Map),this._initialStyles=re}start(){this._state<1&&(this._startStyles&&Bt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bt(this._element,this._initialStyles),this._endStyles&&(Bt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(un(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(un(this._element,this._endStyles),this._endStyles=null),Bt(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function _s($){let v=null;return $.forEach((w,M)=>{(function ei($){return"display"===$||"position"===$})(M)&&(v=v||new Map,v.set(M,w))}),v}class Ss{constructor(v,w,M,G){this.element=v,this.keyframes=w,this.options=M,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const w=[];return v.forEach(M=>{w.push(Object.fromEntries(M))}),w}_triggerWebAnimation(v,w,M){return v.animate(this._convertKeyframesToObject(w),M)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,G)=>{"offset"!==G&&v.set(G,this._finished?M:dr(this.element,G))}),this.currentSnapshot=v}triggerCallback(v){const w="start"===v?this._onStartFns:this._onDoneFns;w.forEach(M=>M()),w.length=0}}class $o{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,w){return!1}containsElement(v,w){return gn(v,w)}getParentElement(v){return yr(v)}query(v,w,M){return Oe(v,w,M)}computeStyle(v,w,M){return window.getComputedStyle(v)[w]}animate(v,w,M,G,re,Te=[]){const We={duration:M,delay:G,fill:0==G?"both":"forwards"};re&&(We.easing=re);const pt=new Map,x=Te.filter(Q=>Q instanceof Ss);(function Zr($,v){return 0===$||0===v})(M,G)&&x.forEach(Q=>{Q.currentSnapshot.forEach((ie,Me)=>pt.set(Me,ie))});let B=function Ne($){return $.length?$[0]instanceof Map?$:$.map(v=>Gt(v)):[]}(w).map(Q=>ae(Q));B=function as($,v,w){if(w.size&&v.length){let M=v[0],G=[];if(w.forEach((re,Te)=>{M.has(Te)||G.push(Te),M.set(Te,re)}),G.length)for(let re=1;re<v.length;re++){let Te=v[re];G.forEach(Se=>Te.set(Se,dr($,Se)))}}return v}(v,B,pt);const z=function ra($,v){let w=null,M=null;return Array.isArray(v)&&v.length?(w=_s(v[0]),v.length>1&&(M=_s(v[v.length-1]))):v instanceof Map&&(w=_s(v)),w||M?new jo($,w,M):null}(v,B);return new Ss(v,B,We,z)}}let Bs=(()=>{class $ extends He._j{constructor(w,M){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(M.body,{id:"0",encapsulation:F.ifc.None,styles:[],data:{animation:[]}})}build(w){const M=this._nextAnimationId.toString();this._nextAnimationId++;const G=Array.isArray(w)?(0,He.vP)(w):w;return Oo(this._renderer,null,M,"register",[G]),new ws(M,this._renderer)}}return $.\u0275fac=function(w){return new(w||$)(F.LFG(F.FYo),F.LFG(V.K0))},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac}),$})();class ws extends He.LC{constructor(v,w){super(),this._id=v,this._renderer=w}create(v,w){return new Io(this._id,v,w||{},this._renderer)}}class Io{constructor(v,w,M,G){this.id=v,this.element=w,this._renderer=G,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(v,w){return this._renderer.listen(this.element,`@@${this.id}:${v}`,w)}_command(v,...w){return Oo(this._renderer,this.element,this.id,v,w)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Oo($,v,w,M,G){return $.setProperty(v,`@@${w}:${M}`,G)}const Ho="@.disabled";let Os=(()=>{class ${constructor(w,M,G){this.delegate=w,this.engine=M,this._zone=G,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(re,Te)=>{const Se=Te?.parentNode(re);Se&&Te.removeChild(Se,re)}}createRenderer(w,M){const re=this.delegate.createRenderer(w,M);if(!(w&&M&&M.data&&M.data.animation)){let x=this._rendererCache.get(re);return x||(x=new Zs("",re,this.engine),this._rendererCache.set(re,x)),x}const Te=M.id,Se=M.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,w);const We=x=>{Array.isArray(x)?x.forEach(We):this.engine.registerTrigger(Te,Se,w,x.name,x)};return M.data.animation.forEach(We),new ti(this,Se,re,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,M,G){w>=0&&w<this._microtaskId?this._zone.run(()=>M(G)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(re=>{const[Te,Se]=re;Te(Se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,G]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(w){return new(w||$)(F.LFG(F.FYo),F.LFG(ds),F.LFG(F.R0b))},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac}),$})();class Zs{constructor(v,w,M){this.namespaceId=v,this.delegate=w,this.engine=M,this.destroyNode=this.delegate.destroyNode?G=>w.destroyNode(G):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,w){return this.delegate.createElement(v,w)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,w){this.delegate.appendChild(v,w),this.engine.onInsert(this.namespaceId,w,v,!1)}insertBefore(v,w,M,G=!0){this.delegate.insertBefore(v,w,M),this.engine.onInsert(this.namespaceId,w,v,G)}removeChild(v,w,M){this.engine.onRemove(this.namespaceId,w,this.delegate,M)}selectRootElement(v,w){return this.delegate.selectRootElement(v,w)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,w,M,G){this.delegate.setAttribute(v,w,M,G)}removeAttribute(v,w,M){this.delegate.removeAttribute(v,w,M)}addClass(v,w){this.delegate.addClass(v,w)}removeClass(v,w){this.delegate.removeClass(v,w)}setStyle(v,w,M,G){this.delegate.setStyle(v,w,M,G)}removeStyle(v,w,M){this.delegate.removeStyle(v,w,M)}setProperty(v,w,M){"@"==w.charAt(0)&&w==Ho?this.disableAnimations(v,!!M):this.delegate.setProperty(v,w,M)}setValue(v,w){this.delegate.setValue(v,w)}listen(v,w,M){return this.delegate.listen(v,w,M)}disableAnimations(v,w){this.engine.disableAnimations(v,w)}}class ti extends Zs{constructor(v,w,M,G){super(w,M,G),this.factory=v,this.namespaceId=w}setProperty(v,w,M){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Ho?this.disableAnimations(v,M=void 0===M||!!M):this.engine.process(this.namespaceId,v,w.slice(1),M):this.delegate.setProperty(v,w,M)}listen(v,w,M){if("@"==w.charAt(0)){const G=function fo($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(v);let re=w.slice(1),Te="";return"@"!=re.charAt(0)&&([re,Te]=function ba($){const v=$.indexOf(".");return[$.substring(0,v),$.slice(v+1)]}(re)),this.engine.listen(this.namespaceId,G,re,Te,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,M,Se)})}return this.delegate.listen(v,w,M)}}const ga=[{provide:He._j,useClass:Bs},{provide:Ws,useFactory:function pa(){return new Ds}},{provide:ds,useClass:(()=>{class $ extends ds{constructor(w,M,G,re){super(w.body,M,G)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(w){return new(w||$)(F.LFG(V.K0),F.LFG(we),F.LFG(Ws),F.LFG(F.z2F))},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:F.FYo,useFactory:function zo($,v,w){return new Os($,v,w)},deps:[g.se,ds,F.R0b]}],ro=[{provide:we,useFactory:()=>new $o},{provide:F.QbO,useValue:"BrowserAnimations"},...ga],ia=[{provide:we,useClass:de},{provide:F.QbO,useValue:"NoopAnimations"},...ga];let io=(()=>{class ${static withConfig(w){return{ngModule:$,providers:w.disableAnimations?ia:ro}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=F.oAB({type:$}),$.\u0275inj=F.cJS({providers:ro,imports:[g.b2]}),$})();var ks=U(3868);let Br=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=F.oAB({type:$,bootstrap:[Ve]}),$.\u0275inj=F.cJS({providers:[X],imports:[g.b2,ce,fe,io,le.Rh.forRoot({positionClass:"toast-bottom-left"}),ks.uH]}),$})();(0,F.G48)(),g.q6().bootstrapModule(Br).catch($=>console.error($))},5867:(Kt,Ge,U)=>{U.d(Ge,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=U(9681);(0,g.registerVersion)("firebase","9.9.2","app")},127:(Kt,Ge,U)=>{U.d(Ge,{Z:()=>g.Z});var g=U(3942);g.Z.registerVersion("firebase","9.9.2","app-compat")},5881:(Kt,Ge,U)=>{U.r(Ge);var g=U(5861),F=U(3942),V=U(6803),ye=U(2090),fe=(U(9681),U(1877),U(4859));function ee(){return window}function se(){return(se=(0,g.Z)(function*(je,ve,_e){var rt;const{BuildInfo:At}=ee();(0,V.aq)(ve.sessionId,"AuthEvent did not contain a session ID");const mn=yield Fe(ve.sessionId),nt={};return(0,V.ar)()?nt.ibi=At.packageName:(0,V.as)()?nt.apn=At.packageName:(0,V.at)(je,"operation-not-supported-in-this-environment"),At.displayName&&(nt.appDisplayName=At.displayName),nt.sessionId=mn,(0,V.au)(je,_e,ve.type,void 0,null!==(rt=ve.eventId)&&void 0!==rt?rt:void 0,nt)})).apply(this,arguments)}function Ve(){return(Ve=(0,g.Z)(function*(je){const{BuildInfo:ve}=ee(),_e={};(0,V.ar)()?_e.iosBundleId=ve.packageName:(0,V.as)()?_e.androidPackageName=ve.packageName:(0,V.at)(je,"operation-not-supported-in-this-environment"),yield(0,V.av)(je,_e)})).apply(this,arguments)}function et(){return(et=(0,g.Z)(function*(je,ve,_e){const{cordova:rt}=ee();let At=()=>{};try{yield new Promise((mn,nt)=>{let Gt=null;function Ne(){var Ee;mn();const dt=null===(Ee=rt.plugins.browsertab)||void 0===Ee?void 0:Ee.close;"function"==typeof dt&&dt(),"function"==typeof _e?.close&&_e.close()}function be(){Gt||(Gt=window.setTimeout(()=>{nt((0,V.aw)(je,"redirect-cancelled-by-user"))},2e3))}function ae(){"visible"===document?.visibilityState&&be()}ve.addPassiveListener(Ne),document.addEventListener("resume",be,!1),(0,V.as)()&&document.addEventListener("visibilitychange",ae,!1),At=()=>{ve.removePassiveListener(Ne),document.removeEventListener("resume",be,!1),document.removeEventListener("visibilitychange",ae,!1),Gt&&window.clearTimeout(Gt)}})}finally{At()}})).apply(this,arguments)}function Fe(je){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,g.Z)(function*(je){const ve=en(je),_e=yield crypto.subtle.digest("SHA-256",ve);return Array.from(new Uint8Array(_e)).map(At=>At.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function en(je){if((0,V.aq)(/[0-9a-zA-Z]+/.test(je),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(je);const ve=new ArrayBuffer(je.length),_e=new Uint8Array(ve);for(let rt=0;rt<je.length;rt++)_e[rt]=je.charCodeAt(rt);return _e}class ct extends V.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ve=>{this.resolveInialized=ve})}addPassiveListener(ve){this.passiveListeners.add(ve)}removePassiveListener(ve){this.passiveListeners.delete(ve)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ve){return this.resolveInialized(),this.passiveListeners.forEach(_e=>_e(ve)),super.onEvent(ve)}initialized(){var ve=this;return(0,g.Z)(function*(){yield ve.initPromise})()}}function sn(je){return ze.apply(this,arguments)}function ze(){return(ze=(0,g.Z)(function*(je){const ve=yield Nt()._get($t(je));return ve&&(yield Nt()._remove($t(je))),ve})).apply(this,arguments)}function Vt(){const je=[],ve="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _e=0;_e<20;_e++){const rt=Math.floor(Math.random()*ve.length);je.push(ve.charAt(rt))}return je.join("")}function Nt(){return(0,V.ay)(V.b)}function $t(je){return(0,V.az)("authEvent",je.config.apiKey,je.name)}function mr(je){if(!je?.includes("?"))return{};const[ve,..._e]=je.split("?");return(0,ye.zd)(_e.join("?"))}function Yt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aw)("no-auth-event")}}function Ue(){var je;return(null===(je=self?.location)||void 0===je?void 0:je.protocol)||null}function Lt(je=(0,ye.z$)()){return!("file:"!==Ue()&&"ionic:"!==Ue()&&"capacitor:"!==Ue()||!je.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){try{const je=self.localStorage,ve=V.aI();if(je)return je.setItem(ve,"1"),je.removeItem(ve),!function sr(je=(0,ye.z$)()){return function an(){return(0,ye.w1)()&&11===document?.documentMode}()||function Cn(je=(0,ye.z$)()){return/Edge\/\d+/.test(je)}(je)}()||(0,ye.hl)()}catch{return _n()&&(0,ye.hl)()}return!1}function _n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mt(){return(function Ke(){return"http:"===Ue()||"https:"===Ue()}()||(0,ye.ru)()||Lt())&&!function pn(){return(0,ye.b$)()||(0,ye.UG)()}()&&br()&&!_n()}function er(){return Lt()&&typeof document<"u"}function qt(){return(qt=(0,g.Z)(function*(){return!!er()&&new Promise(je=>{const ve=setTimeout(()=>{je(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ve),je(!0)})})})).apply(this,arguments)}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},$r=V.ax,ri="persistence";function Pn(je){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,g.Z)(function*(je){yield je._initializationPromise;const ve=Xt(),_e=V.az(ri,je.config.apiKey,je.name);ve&&ve.setItem(_e,je._getPersistence())})).apply(this,arguments)}function Xt(){var je;try{return(null===(je=function $n(){return typeof window<"u"?window:null}())||void 0===je?void 0:je.sessionStorage)||null}catch{return null}}const Ot=V.ax;class yr{constructor(){this.browserResolver=V.ay(V.k),this.cordovaResolver=V.ay(class xn{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(ve){var _e=this;return(0,g.Z)(function*(){const rt=ve._key();let At=_e.eventManagers.get(rt);return At||(At=new ct(ve),_e.eventManagers.set(rt,At),_e.attachCallbackListeners(ve,At)),At})()}_openPopup(ve){(0,V.at)(ve,"operation-not-supported-in-this-environment")}_openRedirect(ve,_e,rt,At){var mn=this;return(0,g.Z)(function*(){!function oe(je){var ve,_e,rt,At,mn,nt,Gt,Ne,be,ae;const Ee=ee();(0,V.ax)("function"==typeof(null===(ve=Ee?.universalLinks)||void 0===ve?void 0:ve.subscribe),je,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.ax)(typeof(null===(_e=Ee?.BuildInfo)||void 0===_e?void 0:_e.packageName)<"u",je,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.ax)("function"==typeof(null===(mn=null===(At=null===(rt=Ee?.cordova)||void 0===rt?void 0:rt.plugins)||void 0===At?void 0:At.browsertab)||void 0===mn?void 0:mn.openUrl),je,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(Ne=null===(Gt=null===(nt=Ee?.cordova)||void 0===nt?void 0:nt.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===Ne?void 0:Ne.isAvailable),je,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(ae=null===(be=Ee?.cordova)||void 0===be?void 0:be.InAppBrowser)||void 0===ae?void 0:ae.open),je,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ve);const nt=yield mn._initialize(ve);yield nt.initialized(),nt.resetRedirect(),(0,V.aD)(),yield mn._originValidation(ve);const Gt=function Pt(je,ve,_e=null){return{type:ve,eventId:_e,urlResponse:null,sessionId:Vt(),postBody:null,tenantId:je.tenantId,error:(0,V.aw)(je,"no-auth-event")}}(ve,rt,At);yield function bt(je,ve){return Nt()._set($t(je),ve)}(ve,Gt);const Ne=yield function X(je,ve,_e){return se.apply(this,arguments)}(ve,Gt,_e),be=yield function He(je){const{cordova:ve}=ee();return new Promise(_e=>{ve.plugins.browsertab.isAvailable(rt=>{let At=null;rt?ve.plugins.browsertab.openUrl(je):At=ve.InAppBrowser.open(je,(0,V.ap)()?"_blank":"_system","location=yes"),_e(At)})})}(Ne);return function Ze(je,ve,_e){return et.apply(this,arguments)}(ve,nt,be)})()}_isIframeWebStorageSupported(ve,_e){throw new Error("Method not implemented.")}_originValidation(ve){const _e=ve._key();return this.originValidationPromises[_e]||(this.originValidationPromises[_e]=function ce(je){return Ve.apply(this,arguments)}(ve)),this.originValidationPromises[_e]}attachCallbackListeners(ve,_e){const{universalLinks:rt,handleOpenURL:At,BuildInfo:mn}=ee(),nt=setTimeout((0,g.Z)(function*(){yield sn(ve),_e.onEvent(Yt())}),500),Gt=function(){var ae=(0,g.Z)(function*(Ee){clearTimeout(nt);const dt=yield sn(ve);let Bt=null;dt&&Ee?.url&&(Bt=function ot(je,ve){var _e,rt;const At=function Fn(je){const ve=mr(je),_e=ve.link?decodeURIComponent(ve.link):void 0,rt=mr(_e).link,At=ve.deep_link_id?decodeURIComponent(ve.deep_link_id):void 0;return mr(At).link||At||rt||_e||je}(ve);if(At.includes("/__/auth/callback")){const mn=mr(At),nt=mn.firebaseError?function ft(je){try{return JSON.parse(je)}catch{return null}}(decodeURIComponent(mn.firebaseError)):null,Gt=null===(rt=null===(_e=nt?.code)||void 0===_e?void 0:_e.split("auth/"))||void 0===rt?void 0:rt[1],Ne=Gt?(0,V.aw)(Gt):null;return Ne?{type:je.type,eventId:je.eventId,tenantId:je.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:je.type,eventId:je.eventId,tenantId:je.tenantId,sessionId:je.sessionId,urlResponse:At,postBody:null}}return null}(dt,Ee.url)),_e.onEvent(Bt||Yt())});return function(dt){return ae.apply(this,arguments)}}();typeof rt<"u"&&"function"==typeof rt.subscribe&&rt.subscribe(null,Gt);const Ne=At,be=`${mn.packageName.toLowerCase()}://`;ee().handleOpenURL=function(){var ae=(0,g.Z)(function*(Ee){if(Ee.toLowerCase().startsWith(be)&&Gt({url:Ee}),"function"==typeof Ne)try{Ne(Ee)}catch(dt){console.error(dt)}});return function(Ee){return ae.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(ve){var _e=this;return(0,g.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._initialize(ve)})()}_openPopup(ve,_e,rt,At){var mn=this;return(0,g.Z)(function*(){return yield mn.selectUnderlyingResolver(),mn.assertedUnderlyingResolver._openPopup(ve,_e,rt,At)})()}_openRedirect(ve,_e,rt,At){var mn=this;return(0,g.Z)(function*(){return yield mn.selectUnderlyingResolver(),mn.assertedUnderlyingResolver._openRedirect(ve,_e,rt,At)})()}_isIframeWebStorageSupported(ve,_e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ve,_e)}_originValidation(ve){return this.assertedUnderlyingResolver._originValidation(ve)}get _shouldInitProactively(){return er()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ot(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ve=this;return(0,g.Z)(function*(){if(ve.underlyingResolver)return;const _e=yield function Qt(){return qt.apply(this,arguments)}();ve.underlyingResolver=_e?ve.cordovaResolver:ve.browserResolver})()}}function zr(je){return je.unwrap()}function Ht(je){return ii(je)}function ii(je){const{_tokenResponse:ve}=je instanceof ye.ZR?je.customData:je;if(!ve)return null;if(!(je instanceof ye.ZR)&&"temporaryProof"in ve&&"phoneNumber"in ve)return V.P.credentialFromResult(je);const _e=ve.providerId;if(!_e||_e===V.o.PASSWORD)return null;let rt;switch(_e){case V.o.GOOGLE:rt=V.Q;break;case V.o.FACEBOOK:rt=V.N;break;case V.o.GITHUB:rt=V.T;break;case V.o.TWITTER:rt=V.W;break;default:const{oauthIdToken:At,oauthAccessToken:mn,oauthTokenSecret:nt,pendingToken:Gt,nonce:Ne}=ve;return mn||nt||At||Gt?Gt?_e.startsWith("saml.")?V.aL._create(_e,Gt):V.J._fromParams({providerId:_e,signInMethod:_e,pendingToken:Gt,idToken:At,accessToken:mn}):new V.U(_e).credential({idToken:At,accessToken:mn,rawNonce:Ne}):null}return je instanceof ye.ZR?rt.credentialFromError(je):rt.credentialFromResult(je)}function On(je,ve){return ve.catch(_e=>{throw _e instanceof ye.ZR&&function Mt(je,ve){var _e,rt;const At=null===(_e=ve.customData)||void 0===_e?void 0:_e._tokenResponse;if("auth/multi-factor-auth-required"===(null===(rt=ve)||void 0===rt?void 0:rt.code))ve.resolver=new Oe(je,V.an(je,ve));else if(At){const mn=ii(ve),nt=ve;mn&&(nt.credential=mn,nt.tenantId=At.tenantId||void 0,nt.email=At.email||void 0,nt.phoneNumber=At.phoneNumber||void 0)}}(je,_e),_e}).then(_e=>{const At=_e.user;return{operationType:_e.operationType,credential:Ht(_e),additionalUserInfo:V.al(_e),user:De.getOrCreate(At)}})}function Ir(je,ve){return gn.apply(this,arguments)}function gn(){return(gn=(0,g.Z)(function*(je,ve){const _e=yield ve;return{verificationId:_e.verificationId,confirm:rt=>On(je,_e.confirm(rt))}})).apply(this,arguments)}class Oe{constructor(ve,_e){this.resolver=_e,this.auth=function Er(je){return je.wrapped()}(ve)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ve){return On(zr(this.auth),this.resolver.resolveSignIn(ve))}}class De{constructor(ve){this._delegate=ve,this.multiFactor=V.ao(ve)}static getOrCreate(ve){return De.USER_MAP.has(ve)||De.USER_MAP.set(ve,new De(ve)),De.USER_MAP.get(ve)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ve){return this._delegate.getIdTokenResult(ve)}getIdToken(ve){return this._delegate.getIdToken(ve)}linkAndRetrieveDataWithCredential(ve){return this.linkWithCredential(ve)}linkWithCredential(ve){var _e=this;return(0,g.Z)(function*(){return On(_e.auth,V.Z(_e._delegate,ve))})()}linkWithPhoneNumber(ve,_e){var rt=this;return(0,g.Z)(function*(){return Ir(rt.auth,V.l(rt._delegate,ve,_e))})()}linkWithPopup(ve){var _e=this;return(0,g.Z)(function*(){return On(_e.auth,V.d(_e._delegate,ve,yr))})()}linkWithRedirect(ve){var _e=this;return(0,g.Z)(function*(){return yield Pn(V.aE(_e.auth)),V.g(_e._delegate,ve,yr)})()}reauthenticateAndRetrieveDataWithCredential(ve){return this.reauthenticateWithCredential(ve)}reauthenticateWithCredential(ve){var _e=this;return(0,g.Z)(function*(){return On(_e.auth,V._(_e._delegate,ve))})()}reauthenticateWithPhoneNumber(ve,_e){return Ir(this.auth,V.r(this._delegate,ve,_e))}reauthenticateWithPopup(ve){return On(this.auth,V.e(this._delegate,ve,yr))}reauthenticateWithRedirect(ve){var _e=this;return(0,g.Z)(function*(){return yield Pn(V.aE(_e.auth)),V.h(_e._delegate,ve,yr)})()}sendEmailVerification(ve){return V.ab(this._delegate,ve)}unlink(ve){var _e=this;return(0,g.Z)(function*(){return yield V.ak(_e._delegate,ve),_e})()}updateEmail(ve){return V.ag(this._delegate,ve)}updatePassword(ve){return V.ah(this._delegate,ve)}updatePhoneNumber(ve){return V.u(this._delegate,ve)}updateProfile(ve){return V.af(this._delegate,ve)}verifyBeforeUpdateEmail(ve,_e){return V.ac(this._delegate,ve,_e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}De.USER_MAP=new WeakMap;const de=V.ax;let we=(()=>{class je{constructor(_e,rt){if(this.app=_e,rt.isInitialized())return this._delegate=rt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:At}=_e.options;de(At,"invalid-api-key",{appName:_e.name}),de(At,"invalid-api-key",{appName:_e.name});const mn=typeof window<"u"?yr:void 0;this._delegate=rt.initialize({options:{persistence:ht(At,_e.name),popupRedirectResolver:mn}}),this._delegate._updateErrorMap(V.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?De.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_e){this._delegate.languageCode=_e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_e){this._delegate.tenantId=_e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_e,rt){V.G(this._delegate,_e,rt)}applyActionCode(_e){return V.a2(this._delegate,_e)}checkActionCode(_e){return V.a3(this._delegate,_e)}confirmPasswordReset(_e,rt){return V.a1(this._delegate,_e,rt)}createUserWithEmailAndPassword(_e,rt){var At=this;return(0,g.Z)(function*(){return On(At._delegate,V.a5(At._delegate,_e,rt))})()}fetchProvidersForEmail(_e){return this.fetchSignInMethodsForEmail(_e)}fetchSignInMethodsForEmail(_e){return V.aa(this._delegate,_e)}isSignInWithEmailLink(_e){return V.a8(this._delegate,_e)}getRedirectResult(){var _e=this;return(0,g.Z)(function*(){de(mt(),_e._delegate,"operation-not-supported-in-this-environment");const rt=yield V.j(_e._delegate,yr);return rt?On(_e._delegate,Promise.resolve(rt)):{credential:null,user:null}})()}addFrameworkForLogging(_e){!function lr(je,ve){(0,V.aE)(je)._logFramework(ve)}(this._delegate,_e)}onAuthStateChanged(_e,rt,At){const{next:mn,error:nt,complete:Gt}=pe(_e,rt,At);return this._delegate.onAuthStateChanged(mn,nt,Gt)}onIdTokenChanged(_e,rt,At){const{next:mn,error:nt,complete:Gt}=pe(_e,rt,At);return this._delegate.onIdTokenChanged(mn,nt,Gt)}sendSignInLinkToEmail(_e,rt){return V.a7(this._delegate,_e,rt)}sendPasswordResetEmail(_e,rt){return V.a0(this._delegate,_e,rt||void 0)}setPersistence(_e){var rt=this;return(0,g.Z)(function*(){let At;switch(function cr(je,ve){$r(Object.values(Bn).includes(ve),je,"invalid-persistence-type"),(0,ye.b$)()?$r(ve!==Bn.SESSION,je,"unsupported-persistence-type"):(0,ye.UG)()?$r(ve===Bn.NONE,je,"unsupported-persistence-type"):_n()?$r(ve===Bn.NONE||ve===Bn.LOCAL&&(0,ye.hl)(),je,"unsupported-persistence-type"):$r(ve===Bn.NONE||br(),je,"unsupported-persistence-type")}(rt._delegate,_e),_e){case Bn.SESSION:At=V.a;break;case Bn.LOCAL:At=(yield V.ay(V.i)._isAvailable())?V.i:V.b;break;case Bn.NONE:At=V.L;break;default:return V.at("argument-error",{appName:rt._delegate.name})}return rt._delegate.setPersistence(At)})()}signInAndRetrieveDataWithCredential(_e){return this.signInWithCredential(_e)}signInAnonymously(){return On(this._delegate,V.X(this._delegate))}signInWithCredential(_e){return On(this._delegate,V.Y(this._delegate,_e))}signInWithCustomToken(_e){return On(this._delegate,V.$(this._delegate,_e))}signInWithEmailAndPassword(_e,rt){return On(this._delegate,V.a6(this._delegate,_e,rt))}signInWithEmailLink(_e,rt){return On(this._delegate,V.a9(this._delegate,_e,rt))}signInWithPhoneNumber(_e,rt){return Ir(this._delegate,V.s(this._delegate,_e,rt))}signInWithPopup(_e){var rt=this;return(0,g.Z)(function*(){return de(mt(),rt._delegate,"operation-not-supported-in-this-environment"),On(rt._delegate,V.c(rt._delegate,_e,yr))})()}signInWithRedirect(_e){var rt=this;return(0,g.Z)(function*(){return de(mt(),rt._delegate,"operation-not-supported-in-this-environment"),yield Pn(rt._delegate),V.f(rt._delegate,_e,yr)})()}updateCurrentUser(_e){return this._delegate.updateCurrentUser(_e)}verifyPasswordResetCode(_e){return V.a4(this._delegate,_e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return je.Persistence=Bn,je})();function pe(je,ve,_e){let rt=je;"function"!=typeof je&&({next:rt,error:ve,complete:_e}=je);const At=rt;return{next:nt=>At(nt&&De.getOrCreate(nt)),error:ve,complete:_e}}function ht(je,ve){const _e=function or(je,ve){const _e=Xt();if(!_e)return[];const rt=V.az(ri,je,ve);switch(_e.getItem(rt)){case Bn.NONE:return[V.L];case Bn.LOCAL:return[V.i,V.a];case Bn.SESSION:return[V.a];default:return[]}}(je,ve);if(typeof self<"u"&&!_e.includes(V.i)&&_e.push(V.i),typeof window<"u")for(const rt of[V.b,V.a])_e.includes(rt)||_e.push(rt);return _e.includes(V.L)||_e.push(V.L),_e}class zt{constructor(){this.providerId="phone",this._delegate=new V.P(zr(F.Z.auth()))}static credential(ve,_e){return V.P.credential(ve,_e)}verifyPhoneNumber(ve,_e){return this._delegate.verifyPhoneNumber(ve,_e)}unwrap(){return this._delegate}}zt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,zt.PROVIDER_ID=V.P.PROVIDER_ID;const nn=V.ax;class zn{constructor(ve,_e,rt=F.Z.app()){var At;nn(null===(At=rt.options)||void 0===At?void 0:At.apiKey,"invalid-api-key",{appName:rt.name}),this._delegate=new V.R(ve,_e,rt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Nr(je){je.INTERNAL.registerComponent(new fe.wA("auth-compat",ve=>{const _e=ve.getProvider("app-compat").getImmediate(),rt=ve.getProvider("auth");return new we(_e,rt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.M,FacebookAuthProvider:V.N,GithubAuthProvider:V.T,GoogleAuthProvider:V.Q,OAuthProvider:V.U,SAMLAuthProvider:V.V,PhoneAuthProvider:zt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:zn,TwitterAuthProvider:V.W,Auth:we,AuthCredential:V.H,Error:ye.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),je.registerVersion("@firebase/auth-compat","0.2.18")}(F.Z)},591:(Kt,Ge,U)=>{U.d(Ge,{X:()=>V});var g=U(8929),F=U(5279);class V extends g.xQ{constructor(me){super(),this._value=me}get value(){return this.getValue()}_subscribe(me){const ne=super._subscribe(me);return ne&&!ne.closed&&me.next(this._value),ne}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F.N;return this._value}next(me){super.next(this._value=me)}}},9312:(Kt,Ge,U)=>{U.d(Ge,{P:()=>me});var g=U(8896),F=U(1086),V=U(1737);class me{constructor(fe,ee,le){this.kind=fe,this.value=ee,this.error=le,this.hasValue="N"===fe}observe(fe){switch(this.kind){case"N":return fe.next&&fe.next(this.value);case"E":return fe.error&&fe.error(this.error);case"C":return fe.complete&&fe.complete()}}do(fe,ee,le){switch(this.kind){case"N":return fe&&fe(this.value);case"E":return ee&&ee(this.error);case"C":return le&&le()}}accept(fe,ee,le){return fe&&"function"==typeof fe.next?this.observe(fe):this.do(fe,ee,le)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return(0,V._)(this.error);case"C":return(0,g.c)()}throw new Error("unexpected notification kind value")}static createNext(fe){return typeof fe<"u"?new me("N",fe):me.undefinedValueNotification}static createError(fe){return new me("E",void 0,fe)}static createComplete(){return me.completeNotification}}me.completeNotification=new me("C"),me.undefinedValueNotification=new me("N",void 0)},6498:(Kt,Ge,U)=>{U.d(Ge,{y:()=>le});var g=U(3489),V=U(7668),ye=U(3292),ne=U(3821),fe=U(4843),ee=U(2830);let le=(()=>{class se{constructor(Ve){this._isScalar=!1,Ve&&(this._subscribe=Ve)}lift(Ve){const He=new se;return He.source=this,He.operator=Ve,He}subscribe(Ve,He,Ze){const{operator:et}=this,oe=function me(se,ce,Ve){if(se){if(se instanceof g.L)return se;if(se[V.b])return se[V.b]()}return se||ce||Ve?new g.L(se,ce,Ve):new g.L(ye.c)}(Ve,He,Ze);if(oe.add(et?et.call(oe,this.source):this.source||ee.v.useDeprecatedSynchronousErrorHandling&&!oe.syncErrorThrowable?this._subscribe(oe):this._trySubscribe(oe)),ee.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable&&(oe.syncErrorThrowable=!1,oe.syncErrorThrown))throw oe.syncErrorValue;return oe}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(He){ee.v.useDeprecatedSynchronousErrorHandling&&(Ve.syncErrorThrown=!0,Ve.syncErrorValue=He),function F(se){for(;se;){const{closed:ce,destination:Ve,isStopped:He}=se;if(ce||He)return!1;se=Ve&&Ve instanceof g.L?Ve:null}return!0}(Ve)?Ve.error(He):console.warn(He)}}forEach(Ve,He){return new(He=X(He))((Ze,et)=>{let oe;oe=this.subscribe(Fe=>{try{Ve(Fe)}catch(Ft){et(Ft),oe&&oe.unsubscribe()}},et,Ze)})}_subscribe(Ve){const{source:He}=this;return He&&He.subscribe(Ve)}[ne.L](){return this}pipe(...Ve){return 0===Ve.length?this:(0,fe.U)(Ve)(this)}toPromise(Ve){return new(Ve=X(Ve))((He,Ze)=>{let et;this.subscribe(oe=>et=oe,oe=>Ze(oe),()=>He(et))})}}return se.create=ce=>new se(ce),se})();function X(se){if(se||(se=ee.v.Promise||Promise),!se)throw new Error("no Promise impl found");return se}},3292:(Kt,Ge,U)=>{U.d(Ge,{c:()=>V});var g=U(2830),F=U(2782);const V={closed:!0,next(ye){},error(ye){if(g.v.useDeprecatedSynchronousErrorHandling)throw ye;(0,F.z)(ye)},complete(){}}},8929:(Kt,Ge,U)=>{U.d(Ge,{Yc:()=>fe,xQ:()=>ee});var g=U(6498),F=U(3489),V=U(2654),ye=U(5279),me=U(5283),ne=U(7668);class fe extends F.L{constructor(se){super(se),this.destination=se}}let ee=(()=>{class X extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ne.b](){return new fe(this)}lift(ce){const Ve=new le(this,this);return Ve.operator=ce,Ve}next(ce){if(this.closed)throw new ye.N;if(!this.isStopped){const{observers:Ve}=this,He=Ve.length,Ze=Ve.slice();for(let et=0;et<He;et++)Ze[et].next(ce)}}error(ce){if(this.closed)throw new ye.N;this.hasError=!0,this.thrownError=ce,this.isStopped=!0;const{observers:Ve}=this,He=Ve.length,Ze=Ve.slice();for(let et=0;et<He;et++)Ze[et].error(ce);this.observers.length=0}complete(){if(this.closed)throw new ye.N;this.isStopped=!0;const{observers:ce}=this,Ve=ce.length,He=ce.slice();for(let Ze=0;Ze<Ve;Ze++)He[Ze].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ce){if(this.closed)throw new ye.N;return super._trySubscribe(ce)}_subscribe(ce){if(this.closed)throw new ye.N;return this.hasError?(ce.error(this.thrownError),V.w.EMPTY):this.isStopped?(ce.complete(),V.w.EMPTY):(this.observers.push(ce),new me.W(this,ce))}asObservable(){const ce=new g.y;return ce.source=this,ce}}return X.create=(se,ce)=>new le(se,ce),X})();class le extends ee{constructor(se,ce){super(),this.destination=se,this.source=ce}next(se){const{destination:ce}=this;ce&&ce.next&&ce.next(se)}error(se){const{destination:ce}=this;ce&&ce.error&&this.destination.error(se)}complete(){const{destination:se}=this;se&&se.complete&&this.destination.complete()}_subscribe(se){const{source:ce}=this;return ce?this.source.subscribe(se):V.w.EMPTY}}},5283:(Kt,Ge,U)=>{U.d(Ge,{W:()=>F});var g=U(2654);class F extends g.w{constructor(ye,me){super(),this.subject=ye,this.subscriber=me,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ye=this.subject,me=ye.observers;if(this.subject=null,!me||0===me.length||ye.isStopped||ye.closed)return;const ne=me.indexOf(this.subscriber);-1!==ne&&me.splice(ne,1)}}},3489:(Kt,Ge,U)=>{U.d(Ge,{L:()=>fe});var g=U(7043),F=U(3292),V=U(2654),ye=U(7668),me=U(2830),ne=U(2782);class fe extends V.w{constructor(X,se,ce){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=F.c;break;case 1:if(!X){this.destination=F.c;break}if("object"==typeof X){X instanceof fe?(this.syncErrorThrowable=X.syncErrorThrowable,this.destination=X,X.add(this)):(this.syncErrorThrowable=!0,this.destination=new ee(this,X));break}default:this.syncErrorThrowable=!0,this.destination=new ee(this,X,se,ce)}}[ye.b](){return this}static create(X,se,ce){const Ve=new fe(X,se,ce);return Ve.syncErrorThrowable=!1,Ve}next(X){this.isStopped||this._next(X)}error(X){this.isStopped||(this.isStopped=!0,this._error(X))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(X){this.destination.next(X)}_error(X){this.destination.error(X),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:X}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=X,this}}class ee extends fe{constructor(X,se,ce,Ve){super(),this._parentSubscriber=X;let He,Ze=this;(0,g.m)(se)?He=se:se&&(He=se.next,ce=se.error,Ve=se.complete,se!==F.c&&(Ze=Object.create(se),(0,g.m)(Ze.unsubscribe)&&this.add(Ze.unsubscribe.bind(Ze)),Ze.unsubscribe=this.unsubscribe.bind(this))),this._context=Ze,this._next=He,this._error=ce,this._complete=Ve}next(X){if(!this.isStopped&&this._next){const{_parentSubscriber:se}=this;me.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable?this.__tryOrSetError(se,this._next,X)&&this.unsubscribe():this.__tryOrUnsub(this._next,X)}}error(X){if(!this.isStopped){const{_parentSubscriber:se}=this,{useDeprecatedSynchronousErrorHandling:ce}=me.v;if(this._error)ce&&se.syncErrorThrowable?(this.__tryOrSetError(se,this._error,X),this.unsubscribe()):(this.__tryOrUnsub(this._error,X),this.unsubscribe());else if(se.syncErrorThrowable)ce?(se.syncErrorValue=X,se.syncErrorThrown=!0):(0,ne.z)(X),this.unsubscribe();else{if(this.unsubscribe(),ce)throw X;(0,ne.z)(X)}}}complete(){if(!this.isStopped){const{_parentSubscriber:X}=this;if(this._complete){const se=()=>this._complete.call(this._context);me.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?(this.__tryOrSetError(X,se),this.unsubscribe()):(this.__tryOrUnsub(se),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(X,se){try{X.call(this._context,se)}catch(ce){if(this.unsubscribe(),me.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,ne.z)(ce)}}__tryOrSetError(X,se,ce){if(!me.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{se.call(this._context,ce)}catch(Ve){return me.v.useDeprecatedSynchronousErrorHandling?(X.syncErrorValue=Ve,X.syncErrorThrown=!0,!0):((0,ne.z)(Ve),!0)}return!1}_unsubscribe(){const{_parentSubscriber:X}=this;this._context=null,this._parentSubscriber=null,X.unsubscribe()}}},2654:(Kt,Ge,U)=>{U.d(Ge,{w:()=>ne});var g=U(6688),F=U(7830),V=U(7043);const me=(()=>{function ee(le){return Error.call(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((X,se)=>`${se+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le,this}return ee.prototype=Object.create(Error.prototype),ee})();class ne{constructor(le){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,le&&(this._ctorUnsubscribe=!0,this._unsubscribe=le)}unsubscribe(){let le;if(this.closed)return;let{_parentOrParents:X,_ctorUnsubscribe:se,_unsubscribe:ce,_subscriptions:Ve}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,X instanceof ne)X.remove(this);else if(null!==X)for(let He=0;He<X.length;++He)X[He].remove(this);if((0,V.m)(ce)){se&&(this._unsubscribe=void 0);try{ce.call(this)}catch(He){le=He instanceof me?fe(He.errors):[He]}}if((0,g.k)(Ve)){let He=-1,Ze=Ve.length;for(;++He<Ze;){const et=Ve[He];if((0,F.K)(et))try{et.unsubscribe()}catch(oe){le=le||[],oe instanceof me?le=le.concat(fe(oe.errors)):le.push(oe)}}}if(le)throw new me(le)}add(le){let X=le;if(!le)return ne.EMPTY;switch(typeof le){case"function":X=new ne(le);case"object":if(X===this||X.closed||"function"!=typeof X.unsubscribe)return X;if(this.closed)return X.unsubscribe(),X;if(!(X instanceof ne)){const Ve=X;X=new ne,X._subscriptions=[Ve]}break;default:throw new Error("unrecognized teardown "+le+" added to Subscription.")}let{_parentOrParents:se}=X;if(null===se)X._parentOrParents=this;else if(se instanceof ne){if(se===this)return X;X._parentOrParents=[se,this]}else{if(-1!==se.indexOf(this))return X;se.push(this)}const ce=this._subscriptions;return null===ce?this._subscriptions=[X]:ce.push(X),X}remove(le){const X=this._subscriptions;if(X){const se=X.indexOf(le);-1!==se&&X.splice(se,1)}}}var ee;function fe(ee){return ee.reduce((le,X)=>le.concat(X instanceof me?X.errors:X),[])}ne.EMPTY=((ee=new ne).closed=!0,ee)},2830:(Kt,Ge,U)=>{U.d(Ge,{v:()=>F});let g=!1;const F={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const ye=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ye.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=V},get useDeprecatedSynchronousErrorHandling(){return g}}},1177:(Kt,Ge,U)=>{U.d(Ge,{Ds:()=>ne,IY:()=>ye,ft:()=>ee});var g=U(3489),F=U(6498),V=U(9249);class ye extends g.L{constructor(X){super(),this.parent=X}_next(X){this.parent.notifyNext(X)}_error(X){this.parent.notifyError(X),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ne extends g.L{notifyNext(X){this.destination.next(X)}notifyError(X){this.destination.error(X)}notifyComplete(){this.destination.complete()}}function ee(le,X){if(X.closed)return;if(le instanceof F.y)return le.subscribe(X);let se;try{se=(0,V.s)(le)(X)}catch(ce){X.error(ce)}return se}},1762:(Kt,Ge,U)=>{U.d(Ge,{N:()=>ne,c:()=>me});var g=U(8929),F=U(6498),V=U(2654),ye=U(4327);class me extends F.y{constructor(se,ce){super(),this.source=se,this.subjectFactory=ce,this._refCount=0,this._isComplete=!1}_subscribe(se){return this.getSubject().subscribe(se)}getSubject(){const se=this._subject;return(!se||se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let se=this._connection;return se||(this._isComplete=!1,se=this._connection=new V.w,se.add(this.source.subscribe(new fe(this.getSubject(),this))),se.closed&&(this._connection=null,se=V.w.EMPTY)),se}refCount(){return(0,ye.x)()(this)}}const ne=(()=>{const X=me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}}})();class fe extends g.Yc{constructor(se,ce){super(se),this.connectable=ce}_error(se){this._unsubscribe(),super._error(se)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const se=this.connectable;if(se){this.connectable=null;const ce=se._connection;se._refCount=0,se._subject=null,se._connection=null,ce&&ce.unsubscribe()}}}},1221:(Kt,Ge,U)=>{U.d(Ge,{z:()=>ye});var g=U(1086),F=U(9146);function ye(...me){return function V(){return(0,F.J)(1)}()((0,g.of)(...me))}},8896:(Kt,Ge,U)=>{U.d(Ge,{E:()=>F,c:()=>V});var g=U(6498);const F=new g.y(me=>me.complete());function V(me){return me?function ye(me){return new g.y(ne=>me.schedule(()=>ne.complete()))}(me):F}},5254:(Kt,Ge,U)=>{U.d(Ge,{D:()=>Ze});var g=U(6498),F=U(9249),V=U(2654),ye=U(3821),fe=U(6454),ee=U(5430),se=U(8955),ce=U(8515);function Ze(et,oe){return oe?function He(et,oe){if(null!=et){if(function X(et){return et&&"function"==typeof et[ye.L]}(et))return function me(et,oe){return new g.y(Fe=>{const Ft=new V.w;return Ft.add(oe.schedule(()=>{const en=et[ye.L]();Ft.add(en.subscribe({next(vt){Ft.add(oe.schedule(()=>Fe.next(vt)))},error(vt){Ft.add(oe.schedule(()=>Fe.error(vt)))},complete(){Ft.add(oe.schedule(()=>Fe.complete()))}}))})),Ft})}(et,oe);if((0,se.t)(et))return function ne(et,oe){return new g.y(Fe=>{const Ft=new V.w;return Ft.add(oe.schedule(()=>et.then(en=>{Ft.add(oe.schedule(()=>{Fe.next(en),Ft.add(oe.schedule(()=>Fe.complete()))}))},en=>{Ft.add(oe.schedule(()=>Fe.error(en)))}))),Ft})}(et,oe);if((0,ce.z)(et))return(0,fe.r)(et,oe);if(function Ve(et){return et&&"function"==typeof et[ee.hZ]}(et)||"string"==typeof et)return function le(et,oe){if(!et)throw new Error("Iterable cannot be null");return new g.y(Fe=>{const Ft=new V.w;let en;return Ft.add(()=>{en&&"function"==typeof en.return&&en.return()}),Ft.add(oe.schedule(()=>{en=et[ee.hZ](),Ft.add(oe.schedule(function(){if(Fe.closed)return;let vt,ct;try{const Pt=en.next();vt=Pt.value,ct=Pt.done}catch(Pt){return void Fe.error(Pt)}ct?Fe.complete():(Fe.next(vt),this.schedule())}))})),Ft})}(et,oe)}throw new TypeError((null!==et&&typeof et||et)+" is not observable")}(et,oe):et instanceof g.y?et:new g.y((0,F.s)(et))}},3009:(Kt,Ge,U)=>{U.d(Ge,{n:()=>ye});var g=U(6498),F=U(3650),V=U(6454);function ye(me,ne){return ne?(0,V.r)(me,ne):new g.y((0,F.V)(me))}},6787:(Kt,Ge,U)=>{U.d(Ge,{T:()=>me});var g=U(6498),F=U(2866),V=U(9146),ye=U(3009);function me(...ne){let fe=Number.POSITIVE_INFINITY,ee=null,le=ne[ne.length-1];return(0,F.K)(le)?(ee=ne.pop(),ne.length>1&&"number"==typeof ne[ne.length-1]&&(fe=ne.pop())):"number"==typeof le&&(fe=ne.pop()),null===ee&&1===ne.length&&ne[0]instanceof g.y?ne[0]:(0,V.J)(fe)((0,ye.n)(ne,ee))}},1086:(Kt,Ge,U)=>{U.d(Ge,{of:()=>ye});var g=U(2866),F=U(3009),V=U(6454);function ye(...me){let ne=me[me.length-1];return(0,g.K)(ne)?(me.pop(),(0,V.r)(me,ne)):(0,F.n)(me)}},1737:(Kt,Ge,U)=>{U.d(Ge,{_:()=>F});var g=U(6498);function F(ye,me){return new g.y(me?ne=>me.schedule(V,0,{error:ye,subscriber:ne}):ne=>ne.error(ye))}function V({error:ye,subscriber:me}){me.error(ye)}},7221:(Kt,Ge,U)=>{U.d(Ge,{K:()=>F});var g=U(1177);function F(me){return function(fe){const ee=new V(me),le=fe.lift(ee);return ee.caught=le}}class V{constructor(ne){this.selector=ne}call(ne,fe){return fe.subscribe(new ye(ne,this.selector,this.caught))}}class ye extends g.Ds{constructor(ne,fe,ee){super(ne),this.selector=fe,this.caught=ee}error(ne){if(!this.isStopped){let fe;try{fe=this.selector(ne,this.caught)}catch(X){return void super.error(X)}this._unsubscribeAndRecycle();const ee=new g.IY(this);this.add(ee);const le=(0,g.ft)(fe,ee);le!==ee&&this.add(le)}}}},1406:(Kt,Ge,U)=>{U.d(Ge,{b:()=>F});var g=U(1709);function F(V,ye){return(0,g.zg)(V,ye,1)}},7314:(Kt,Ge,U)=>{U.d(Ge,{d:()=>F});var g=U(3489);function F(me=null){return ne=>ne.lift(new V(me))}class V{constructor(ne){this.defaultValue=ne}call(ne,fe){return fe.subscribe(new ye(ne,this.defaultValue))}}class ye extends g.L{constructor(ne,fe){super(ne),this.defaultValue=fe,this.isEmpty=!0}_next(ne){this.isEmpty=!1,this.destination.next(ne)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Kt,Ge,U)=>{U.d(Ge,{x:()=>F});var g=U(3489);function F(me,ne){return fe=>fe.lift(new V(me,ne))}class V{constructor(ne,fe){this.compare=ne,this.keySelector=fe}call(ne,fe){return fe.subscribe(new ye(ne,this.compare,this.keySelector))}}class ye extends g.L{constructor(ne,fe,ee){super(ne),this.keySelector=ee,this.hasKey=!1,"function"==typeof fe&&(this.compare=fe)}compare(ne,fe){return ne===fe}_next(ne){let fe;try{const{keySelector:le}=this;fe=le?le(ne):ne}catch(le){return this.destination.error(le)}let ee=!1;if(this.hasKey)try{const{compare:le}=this;ee=le(this.key,fe)}catch(le){return this.destination.error(le)}else this.hasKey=!0;ee||(this.key=fe,this.destination.next(ne))}}},2198:(Kt,Ge,U)=>{U.d(Ge,{h:()=>F});var g=U(3489);function F(me,ne){return function(ee){return ee.lift(new V(me,ne))}}class V{constructor(ne,fe){this.predicate=ne,this.thisArg=fe}call(ne,fe){return fe.subscribe(new ye(ne,this.predicate,this.thisArg))}}class ye extends g.L{constructor(ne,fe,ee){super(ne),this.predicate=fe,this.thisArg=ee,this.count=0}_next(ne){let fe;try{fe=this.predicate.call(this.thisArg,ne,this.count++)}catch(ee){return void this.destination.error(ee)}fe&&this.destination.next(ne)}}},537:(Kt,Ge,U)=>{U.d(Ge,{x:()=>V});var g=U(3489),F=U(2654);function V(ne){return fe=>fe.lift(new ye(ne))}class ye{constructor(fe){this.callback=fe}call(fe,ee){return ee.subscribe(new me(fe,this.callback))}}class me extends g.L{constructor(fe,ee){super(fe),this.add(new F.w(ee))}}},7224:(Kt,Ge,U)=>{U.d(Ge,{P:()=>fe});var g=U(4450),F=U(2198),V=U(2986),ye=U(7314),me=U(4907),ne=U(5379);function fe(ee,le){const X=arguments.length>=2;return se=>se.pipe(ee?(0,F.h)((ce,Ve)=>ee(ce,Ve,se)):ne.y,(0,V.q)(1),X?(0,ye.d)(le):(0,me.T)(()=>new g.K))}},4850:(Kt,Ge,U)=>{U.d(Ge,{U:()=>F});var g=U(3489);function F(me,ne){return function(ee){if("function"!=typeof me)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ee.lift(new V(me,ne))}}class V{constructor(ne,fe){this.project=ne,this.thisArg=fe}call(ne,fe){return fe.subscribe(new ye(ne,this.project,this.thisArg))}}class ye extends g.L{constructor(ne,fe,ee){super(ne),this.project=fe,this.count=0,this.thisArg=ee||this}_next(ne){let fe;try{fe=this.project.call(this.thisArg,ne,this.count++)}catch(ee){return void this.destination.error(ee)}this.destination.next(fe)}}},9146:(Kt,Ge,U)=>{U.d(Ge,{J:()=>V});var g=U(1709),F=U(5379);function V(ye=Number.POSITIVE_INFINITY){return(0,g.zg)(F.y,ye)}},1709:(Kt,Ge,U)=>{U.d(Ge,{zg:()=>ye});var g=U(4850),F=U(5254),V=U(1177);function ye(ee,le,X=Number.POSITIVE_INFINITY){return"function"==typeof le?se=>se.pipe(ye((ce,Ve)=>(0,F.D)(ee(ce,Ve)).pipe((0,g.U)((He,Ze)=>le(ce,He,Ve,Ze))),X)):("number"==typeof le&&(X=le),se=>se.lift(new me(ee,X)))}class me{constructor(le,X=Number.POSITIVE_INFINITY){this.project=le,this.concurrent=X}call(le,X){return X.subscribe(new ne(le,this.project,this.concurrent))}}class ne extends V.Ds{constructor(le,X,se=Number.POSITIVE_INFINITY){super(le),this.project=X,this.concurrent=se,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(le){this.active<this.concurrent?this._tryNext(le):this.buffer.push(le)}_tryNext(le){let X;const se=this.index++;try{X=this.project(le,se)}catch(ce){return void this.destination.error(ce)}this.active++,this._innerSub(X)}_innerSub(le){const X=new V.IY(this),se=this.destination;se.add(X);const ce=(0,V.ft)(le,X);ce!==X&&se.add(ce)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(le){this.destination.next(le)}notifyComplete(){const le=this.buffer;this.active--,le.length>0?this._next(le.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(Kt,Ge,U)=>{U.d(Ge,{QV:()=>V,ht:()=>me});var g=U(3489),F=U(9312);function V(fe,ee=0){return function(X){return X.lift(new ye(fe,ee))}}class ye{constructor(ee,le=0){this.scheduler=ee,this.delay=le}call(ee,le){return le.subscribe(new me(ee,this.scheduler,this.delay))}}class me extends g.L{constructor(ee,le,X=0){super(ee),this.scheduler=le,this.delay=X}static dispatch(ee){const{notification:le,destination:X}=ee;le.observe(X),this.unsubscribe()}scheduleMessage(ee){this.destination.add(this.scheduler.schedule(me.dispatch,this.delay,new ne(ee,this.destination)))}_next(ee){this.scheduleMessage(F.P.createNext(ee))}_error(ee){this.scheduleMessage(F.P.createError(ee)),this.unsubscribe()}_complete(){this.scheduleMessage(F.P.createComplete()),this.unsubscribe()}}class ne{constructor(ee,le){this.notification=ee,this.destination=le}}},519:(Kt,Ge,U)=>{U.d(Ge,{G:()=>F});var g=U(3489);function F(){return me=>me.lift(new V)}class V{call(ne,fe){return fe.subscribe(new ye(ne))}}class ye extends g.L{constructor(ne){super(ne),this.hasPrev=!1}_next(ne){let fe;this.hasPrev?fe=[this.prev,ne]:this.hasPrev=!0,this.prev=ne,fe&&this.destination.next(fe)}}},4327:(Kt,Ge,U)=>{U.d(Ge,{x:()=>F});var g=U(3489);function F(){return function(ne){return ne.lift(new V(ne))}}class V{constructor(ne){this.connectable=ne}call(ne,fe){const{connectable:ee}=this;ee._refCount++;const le=new ye(ne,ee),X=fe.subscribe(le);return le.closed||(le.connection=ee.connect()),X}}class ye extends g.L{constructor(ne,fe){super(ne),this.connectable=fe}_unsubscribe(){const{connectable:ne}=this;if(!ne)return void(this.connection=null);this.connectable=null;const fe=ne._refCount;if(fe<=0)return void(this.connection=null);if(ne._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:ee}=this,le=ne._connection;this.connection=null,le&&(!ee||le===ee)&&le.unsubscribe()}}},2014:(Kt,Ge,U)=>{U.d(Ge,{R:()=>F});var g=U(3489);function F(me,ne){let fe=!1;return arguments.length>=2&&(fe=!0),function(le){return le.lift(new V(me,ne,fe))}}class V{constructor(ne,fe,ee=!1){this.accumulator=ne,this.seed=fe,this.hasSeed=ee}call(ne,fe){return fe.subscribe(new ye(ne,this.accumulator,this.seed,this.hasSeed))}}class ye extends g.L{constructor(ne,fe,ee,le){super(ne),this.accumulator=fe,this._seed=ee,this.hasSeed=le,this.index=0}get seed(){return this._seed}set seed(ne){this.hasSeed=!0,this._seed=ne}_next(ne){if(this.hasSeed)return this._tryNext(ne);this.seed=ne,this.destination.next(ne)}_tryNext(ne){const fe=this.index++;let ee;try{ee=this.accumulator(this.seed,ne,fe)}catch(le){this.destination.error(le)}this.seed=ee,this.destination.next(ee)}}},2474:(Kt,Ge,U)=>{U.d(Ge,{B:()=>fe});var g=U(1762);class V{constructor(le,X){this.subjectFactory=le,this.selector=X}call(le,X){const{selector:se}=this,ce=this.subjectFactory(),Ve=se(ce).subscribe(le);return Ve.add(X.subscribe(ce)),Ve}}var ye=U(4327),me=U(8929);function ne(){return new me.xQ}function fe(){return ee=>(0,ye.x)()(function F(ee,le){return function(se){let ce;if(ce="function"==typeof ee?ee:function(){return ee},"function"==typeof le)return se.lift(new V(ce,le));const Ve=Object.create(se,g.N);return Ve.source=se,Ve.subjectFactory=ce,Ve}}(ne)(ee))}},96:(Kt,Ge,U)=>{U.d(Ge,{d:()=>le});var g=U(8929),F=U(341),V=U(2654),ye=U(7770),me=U(5279),ne=U(5283);class fe extends g.xQ{constructor(ce=Number.POSITIVE_INFINITY,Ve=Number.POSITIVE_INFINITY,He){super(),this.scheduler=He,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ce<1?1:ce,this._windowTime=Ve<1?1:Ve,Ve===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ce){if(!this.isStopped){const Ve=this._events;Ve.push(ce),Ve.length>this._bufferSize&&Ve.shift()}super.next(ce)}nextTimeWindow(ce){this.isStopped||(this._events.push(new ee(this._getNow(),ce)),this._trimBufferThenGetEvents()),super.next(ce)}_subscribe(ce){const Ve=this._infiniteTimeWindow,He=Ve?this._events:this._trimBufferThenGetEvents(),Ze=this.scheduler,et=He.length;let oe;if(this.closed)throw new me.N;if(this.isStopped||this.hasError?oe=V.w.EMPTY:(this.observers.push(ce),oe=new ne.W(this,ce)),Ze&&ce.add(ce=new ye.ht(ce,Ze)),Ve)for(let Fe=0;Fe<et&&!ce.closed;Fe++)ce.next(He[Fe]);else for(let Fe=0;Fe<et&&!ce.closed;Fe++)ce.next(He[Fe].value);return this.hasError?ce.error(this.thrownError):this.isStopped&&ce.complete(),oe}_getNow(){return(this.scheduler||F.c).now()}_trimBufferThenGetEvents(){const ce=this._getNow(),Ve=this._bufferSize,He=this._windowTime,Ze=this._events,et=Ze.length;let oe=0;for(;oe<et&&!(ce-Ze[oe].time<He);)oe++;return et>Ve&&(oe=Math.max(oe,et-Ve)),oe>0&&Ze.splice(0,oe),Ze}}class ee{constructor(ce,Ve){this.time=ce,this.value=Ve}}function le(se,ce,Ve){let He;return He=se&&"object"==typeof se?se:{bufferSize:se,windowTime:ce,refCount:!1,scheduler:Ve},Ze=>Ze.lift(function X({bufferSize:se=Number.POSITIVE_INFINITY,windowTime:ce=Number.POSITIVE_INFINITY,refCount:Ve,scheduler:He}){let Ze,oe,et=0,Fe=!1,Ft=!1;return function(vt){let ct;et++,!Ze||Fe?(Fe=!1,Ze=new fe(se,ce,He),ct=Ze.subscribe(this),oe=vt.subscribe({next(Pt){Ze.next(Pt)},error(Pt){Fe=!0,Ze.error(Pt)},complete(){Ft=!0,oe=void 0,Ze.complete()}}),Ft&&(oe=void 0)):ct=Ze.subscribe(this),this.add(()=>{et--,ct.unsubscribe(),ct=void 0,oe&&!Ft&&Ve&&0===et&&(oe.unsubscribe(),oe=void 0,Ze=void 0)})}}(He))}},1059:(Kt,Ge,U)=>{U.d(Ge,{O:()=>V});var g=U(1221),F=U(2866);function V(...ye){const me=ye[ye.length-1];return(0,F.K)(me)?(ye.pop(),ne=>(0,g.z)(ye,ne,me)):ne=>(0,g.z)(ye,ne)}},3334:(Kt,Ge,U)=>{U.d(Ge,{R:()=>me});var g=U(6498),F=U(8139),V=U(4241);class ye extends g.y{constructor(ee,le=0,X=F.e){super(),this.source=ee,this.delayTime=le,this.scheduler=X,(!(0,V.k)(le)||le<0)&&(this.delayTime=0),(!X||"function"!=typeof X.schedule)&&(this.scheduler=F.e)}static create(ee,le=0,X=F.e){return new ye(ee,le,X)}static dispatch(ee){const{source:le,subscriber:X}=ee;return this.add(le.subscribe(X))}_subscribe(ee){return this.scheduler.schedule(ye.dispatch,this.delayTime,{source:this.source,subscriber:ee})}}function me(fe,ee=0){return function(X){return X.lift(new ne(fe,ee))}}class ne{constructor(ee,le){this.scheduler=ee,this.delay=le}call(ee,le){return new ye(le,this.delay,this.scheduler).subscribe(ee)}}},7545:(Kt,Ge,U)=>{U.d(Ge,{w:()=>ye});var g=U(4850),F=U(5254),V=U(1177);function ye(fe,ee){return"function"==typeof ee?le=>le.pipe(ye((X,se)=>(0,F.D)(fe(X,se)).pipe((0,g.U)((ce,Ve)=>ee(X,ce,se,Ve))))):le=>le.lift(new me(fe))}class me{constructor(ee){this.project=ee}call(ee,le){return le.subscribe(new ne(ee,this.project))}}class ne extends V.Ds{constructor(ee,le){super(ee),this.project=le,this.index=0}_next(ee){let le;const X=this.index++;try{le=this.project(ee,X)}catch(se){return void this.destination.error(se)}this._innerSub(le)}_innerSub(ee){const le=this.innerSubscription;le&&le.unsubscribe();const X=new V.IY(this),se=this.destination;se.add(X),this.innerSubscription=(0,V.ft)(ee,X),this.innerSubscription!==X&&se.add(this.innerSubscription)}_complete(){const{innerSubscription:ee}=this;(!ee||ee.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ee){this.destination.next(ee)}}},2986:(Kt,Ge,U)=>{U.d(Ge,{q:()=>ye});var g=U(3489),F=U(4231),V=U(8896);function ye(fe){return ee=>0===fe?(0,V.c)():ee.lift(new me(fe))}class me{constructor(ee){if(this.total=ee,this.total<0)throw new F.W}call(ee,le){return le.subscribe(new ne(ee,this.total))}}class ne extends g.L{constructor(ee,le){super(ee),this.total=le,this.count=0}_next(ee){const le=this.total,X=++this.count;X<=le&&(this.destination.next(ee),X===le&&(this.destination.complete(),this.unsubscribe()))}}},4290:(Kt,Ge,U)=>{U.d(Ge,{o:()=>F});var g=U(3489);function F(me,ne=!1){return fe=>fe.lift(new V(me,ne))}class V{constructor(ne,fe){this.predicate=ne,this.inclusive=fe}call(ne,fe){return fe.subscribe(new ye(ne,this.predicate,this.inclusive))}}class ye extends g.L{constructor(ne,fe,ee){super(ne),this.predicate=fe,this.inclusive=ee,this.index=0}_next(ne){const fe=this.destination;let ee;try{ee=this.predicate(ne,this.index++)}catch(le){return void fe.error(le)}this.nextOrComplete(ne,ee)}nextOrComplete(ne,fe){const ee=this.destination;Boolean(fe)?ee.next(ne):(this.inclusive&&ee.next(ne),ee.complete())}}},2868:(Kt,Ge,U)=>{U.d(Ge,{b:()=>ye});var g=U(3489);function F(){}var V=U(7043);function ye(fe,ee,le){return function(se){return se.lift(new me(fe,ee,le))}}class me{constructor(ee,le,X){this.nextOrObserver=ee,this.error=le,this.complete=X}call(ee,le){return le.subscribe(new ne(ee,this.nextOrObserver,this.error,this.complete))}}class ne extends g.L{constructor(ee,le,X,se){super(ee),this._tapNext=F,this._tapError=F,this._tapComplete=F,this._tapError=X||F,this._tapComplete=se||F,(0,V.m)(le)?(this._context=this,this._tapNext=le):le&&(this._context=le,this._tapNext=le.next||F,this._tapError=le.error||F,this._tapComplete=le.complete||F)}_next(ee){try{this._tapNext.call(this._context,ee)}catch(le){return void this.destination.error(le)}this.destination.next(ee)}_error(ee){try{this._tapError.call(this._context,ee)}catch(le){return void this.destination.error(le)}this.destination.error(ee)}_complete(){try{this._tapComplete.call(this._context)}catch(ee){return void this.destination.error(ee)}return this.destination.complete()}}},4907:(Kt,Ge,U)=>{U.d(Ge,{T:()=>V});var g=U(4450),F=U(3489);function V(fe=ne){return ee=>ee.lift(new ye(fe))}class ye{constructor(ee){this.errorFactory=ee}call(ee,le){return le.subscribe(new me(ee,this.errorFactory))}}class me extends F.L{constructor(ee,le){super(ee),this.errorFactory=le,this.hasValue=!1}_next(ee){this.hasValue=!0,this.destination.next(ee)}_complete(){if(this.hasValue)return this.destination.complete();{let ee;try{ee=this.errorFactory()}catch(le){ee=le}this.destination.error(ee)}}}function ne(){return new g.K}},6454:(Kt,Ge,U)=>{U.d(Ge,{r:()=>V});var g=U(6498),F=U(2654);function V(ye,me){return new g.y(ne=>{const fe=new F.w;let ee=0;return fe.add(me.schedule(function(){ee!==ye.length?(ne.next(ye[ee++]),ne.closed||fe.add(this.schedule())):ne.complete()})),fe})}},6686:(Kt,Ge,U)=>{U.d(Ge,{o:()=>V});var g=U(2654);class F extends g.w{constructor(me,ne){super()}schedule(me,ne=0){return this}}class V extends F{constructor(me,ne){super(me,ne),this.scheduler=me,this.work=ne,this.pending=!1}schedule(me,ne=0){if(this.closed)return this;this.state=me;const fe=this.id,ee=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ee,fe,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(ee,this.id,ne),this}requestAsyncId(me,ne,fe=0){return setInterval(me.flush.bind(me,this),fe)}recycleAsyncId(me,ne,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return ne;clearInterval(ne)}execute(me,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(me,ne);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,ne){let ee,fe=!1;try{this.work(me)}catch(le){fe=!0,ee=!!le&&le||new Error(le)}if(fe)return this.unsubscribe(),ee}_unsubscribe(){const me=this.id,ne=this.scheduler,fe=ne.actions,ee=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ee&&fe.splice(ee,1),null!=me&&(this.id=this.recycleAsyncId(ne,me,null)),this.delay=null}}},2268:(Kt,Ge,U)=>{U.d(Ge,{v:()=>F});let g=(()=>{class V{constructor(me,ne=V.now){this.SchedulerAction=me,this.now=ne}schedule(me,ne=0,fe){return new this.SchedulerAction(this,me).schedule(fe,ne)}}return V.now=()=>Date.now(),V})();class F extends g{constructor(ye,me=g.now){super(ye,()=>F.delegate&&F.delegate!==this?F.delegate.now():me()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ye,me=0,ne){return F.delegate&&F.delegate!==this?F.delegate.schedule(ye,me,ne):super.schedule(ye,me,ne)}flush(ye){const{actions:me}=this;if(this.active)return void me.push(ye);let ne;this.active=!0;do{if(ne=ye.execute(ye.state,ye.delay))break}while(ye=me.shift());if(this.active=!1,ne){for(;ye=me.shift();)ye.unsubscribe();throw ne}}}},8139:(Kt,Ge,U)=>{U.d(Ge,{e:()=>ce,E:()=>se});let g=1;const F=Promise.resolve(),V={};function ye(Ve){return Ve in V&&(delete V[Ve],!0)}const me={setImmediate(Ve){const He=g++;return V[He]=!0,F.then(()=>ye(He)&&Ve()),He},clearImmediate(Ve){ye(Ve)}};var fe=U(6686),le=U(2268);const se=new class X extends le.v{flush(He){this.active=!0,this.scheduled=void 0;const{actions:Ze}=this;let et,oe=-1,Fe=Ze.length;He=He||Ze.shift();do{if(et=He.execute(He.state,He.delay))break}while(++oe<Fe&&(He=Ze.shift()));if(this.active=!1,et){for(;++oe<Fe&&(He=Ze.shift());)He.unsubscribe();throw et}}}(class ee extends fe.o{constructor(He,Ze){super(He,Ze),this.scheduler=He,this.work=Ze}requestAsyncId(He,Ze,et=0){return null!==et&&et>0?super.requestAsyncId(He,Ze,et):(He.actions.push(this),He.scheduled||(He.scheduled=me.setImmediate(He.flush.bind(He,null))))}recycleAsyncId(He,Ze,et=0){if(null!==et&&et>0||null===et&&this.delay>0)return super.recycleAsyncId(He,Ze,et);0===He.actions.length&&(me.clearImmediate(Ze),He.scheduled=void 0)}}),ce=se},353:(Kt,Ge,U)=>{U.d(Ge,{P:()=>ye,z:()=>V});var g=U(6686);const V=new(U(2268).v)(g.o),ye=V},341:(Kt,Ge,U)=>{U.d(Ge,{c:()=>ne,N:()=>me});var g=U(6686),V=U(2268);const me=new class ye extends V.v{}(class F extends g.o{constructor(ee,le){super(ee,le),this.scheduler=ee,this.work=le}schedule(ee,le=0){return le>0?super.schedule(ee,le):(this.delay=le,this.state=ee,this.scheduler.flush(this),this)}execute(ee,le){return le>0||this.closed?super.execute(ee,le):this._execute(ee,le)}requestAsyncId(ee,le,X=0){return null!==X&&X>0||null===X&&this.delay>0?super.requestAsyncId(ee,le,X):ee.flush(this)}}),ne=me},5430:(Kt,Ge,U)=>{U.d(Ge,{hZ:()=>F});const F=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Kt,Ge,U)=>{U.d(Ge,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Kt,Ge,U)=>{U.d(Ge,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Kt,Ge,U)=>{U.d(Ge,{W:()=>F});const F=(()=>{function V(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return V.prototype=Object.create(Error.prototype),V})()},4450:(Kt,Ge,U)=>{U.d(Ge,{K:()=>F});const F=(()=>{function V(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return V.prototype=Object.create(Error.prototype),V})()},5279:(Kt,Ge,U)=>{U.d(Ge,{N:()=>F});const F=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},2782:(Kt,Ge,U)=>{function g(F){setTimeout(()=>{throw F},0)}U.d(Ge,{z:()=>g})},5379:(Kt,Ge,U)=>{function g(F){return F}U.d(Ge,{y:()=>g})},6688:(Kt,Ge,U)=>{U.d(Ge,{k:()=>g});const g=Array.isArray||(F=>F&&"number"==typeof F.length)},8515:(Kt,Ge,U)=>{U.d(Ge,{z:()=>g});const g=F=>F&&"number"==typeof F.length&&"function"!=typeof F},7043:(Kt,Ge,U)=>{function g(F){return"function"==typeof F}U.d(Ge,{m:()=>g})},4241:(Kt,Ge,U)=>{U.d(Ge,{k:()=>F});var g=U(6688);function F(V){return!(0,g.k)(V)&&V-parseFloat(V)+1>=0}},7830:(Kt,Ge,U)=>{function g(F){return null!==F&&"object"==typeof F}U.d(Ge,{K:()=>g})},8955:(Kt,Ge,U)=>{function g(F){return!!F&&"function"!=typeof F.subscribe&&"function"==typeof F.then}U.d(Ge,{t:()=>g})},2866:(Kt,Ge,U)=>{function g(F){return F&&"function"==typeof F.schedule}U.d(Ge,{K:()=>g})},4843:(Kt,Ge,U)=>{U.d(Ge,{U:()=>V,z:()=>F});var g=U(5379);function F(...ye){return V(ye)}function V(ye){return 0===ye.length?g.y:1===ye.length?ye[0]:function(ne){return ye.reduce((fe,ee)=>ee(fe),ne)}}},9249:(Kt,Ge,U)=>{U.d(Ge,{s:()=>se});var g=U(3650),F=U(2782),ye=U(5430),ne=U(3821),ee=U(8515),le=U(8955),X=U(7830);const se=ce=>{if(ce&&"function"==typeof ce[ne.L])return(ce=>Ve=>{const He=ce[ne.L]();if("function"!=typeof He.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return He.subscribe(Ve)})(ce);if((0,ee.z)(ce))return(0,g.V)(ce);if((0,le.t)(ce))return(ce=>Ve=>(ce.then(He=>{Ve.closed||(Ve.next(He),Ve.complete())},He=>Ve.error(He)).then(null,F.z),Ve))(ce);if(ce&&"function"==typeof ce[ye.hZ])return(ce=>Ve=>{const He=ce[ye.hZ]();for(;;){let Ze;try{Ze=He.next()}catch(et){return Ve.error(et),Ve}if(Ze.done){Ve.complete();break}if(Ve.next(Ze.value),Ve.closed)break}return"function"==typeof He.return&&Ve.add(()=>{He.return&&He.return()}),Ve})(ce);{const He=`You provided ${(0,X.K)(ce)?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(He)}}},3650:(Kt,Ge,U)=>{U.d(Ge,{V:()=>g});const g=F=>V=>{for(let ye=0,me=F.length;ye<me&&!V.closed;ye++)V.next(F[ye]);V.complete()}},7340:(Kt,Ge,U)=>{U.d(Ge,{LC:()=>F,SB:()=>le,X$:()=>ye,ZE:()=>Ft,ZN:()=>Fe,_j:()=>g,eR:()=>se,jt:()=>me,k1:()=>en,l3:()=>V,oB:()=>ee,vP:()=>fe});class g{}class F{}const V="*";function ye(vt,ct){return{type:7,name:vt,definitions:ct,options:{}}}function me(vt,ct=null){return{type:4,styles:ct,timings:vt}}function fe(vt,ct=null){return{type:2,steps:vt,options:ct}}function ee(vt){return{type:6,styles:vt,offset:null}}function le(vt,ct,Pt){return{type:0,name:vt,styles:ct,options:Pt}}function se(vt,ct,Pt=null){return{type:1,expr:vt,animation:ct,options:Pt}}function oe(vt){Promise.resolve(null).then(vt)}class Fe{constructor(ct=0,Pt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ct+Pt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ct=>ct()),this._onDoneFns=[])}onStart(ct){this._originalOnStartFns.push(ct),this._onStartFns.push(ct)}onDone(ct){this._originalOnDoneFns.push(ct),this._onDoneFns.push(ct)}onDestroy(ct){this._onDestroyFns.push(ct)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ct=>ct()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ct=>ct()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ct){this._position=this.totalTime?ct*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ct){const Pt="start"==ct?this._onStartFns:this._onDoneFns;Pt.forEach(bt=>bt()),Pt.length=0}}class Ft{constructor(ct){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ct;let Pt=0,bt=0,sn=0;const ze=this.players.length;0==ze?oe(()=>this._onFinish()):this.players.forEach(ot=>{ot.onDone(()=>{++Pt==ze&&this._onFinish()}),ot.onDestroy(()=>{++bt==ze&&this._onDestroy()}),ot.onStart(()=>{++sn==ze&&this._onStart()})}),this.totalTime=this.players.reduce((ot,Vt)=>Math.max(ot,Vt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ct=>ct()),this._onDoneFns=[])}init(){this.players.forEach(ct=>ct.init())}onStart(ct){this._onStartFns.push(ct)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ct=>ct()),this._onStartFns=[])}onDone(ct){this._onDoneFns.push(ct)}onDestroy(ct){this._onDestroyFns.push(ct)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ct=>ct.play())}pause(){this.players.forEach(ct=>ct.pause())}restart(){this.players.forEach(ct=>ct.restart())}finish(){this._onFinish(),this.players.forEach(ct=>ct.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ct=>ct.destroy()),this._onDestroyFns.forEach(ct=>ct()),this._onDestroyFns=[])}reset(){this.players.forEach(ct=>ct.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ct){const Pt=ct*this.totalTime;this.players.forEach(bt=>{const sn=bt.totalTime?Math.min(1,Pt/bt.totalTime):1;bt.setPosition(sn)})}getPosition(){const ct=this.players.reduce((Pt,bt)=>null===Pt||bt.totalTime>Pt.totalTime?bt:Pt,null);return null!=ct?ct.getPosition():0}beforeDestroy(){this.players.forEach(ct=>{ct.beforeDestroy&&ct.beforeDestroy()})}triggerCallback(ct){const Pt="start"==ct?this._onStartFns:this._onDoneFns;Pt.forEach(bt=>bt()),Pt.length=0}}const en="!"},6895:(Kt,Ge,U)=>{U.d(Ge,{Do:()=>en,EM:()=>Eo,HT:()=>me,JF:()=>ki,K0:()=>fe,Mx:()=>dr,NF:()=>to,O5:()=>ms,Ov:()=>Ut,PC:()=>oi,PM:()=>Vs,RF:()=>yi,S$:()=>oe,V_:()=>X,Ye:()=>vt,b0:()=>Ft,bD:()=>Oi,ez:()=>es,mk:()=>us,n9:()=>Hi,q:()=>V,rS:()=>Sr,sg:()=>Ns,w_:()=>ne});var g=U(4650);let F=null;function V(){return F}function me(N){F||(F=N)}class ne{}const fe=new g.OlP("DocumentToken");let ee=(()=>{class N{historyGo(R){throw new Error("Not implemented")}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275prov=g.Yz7({token:N,factory:function(){return function le(){return(0,g.LFG)(se)}()},providedIn:"platform"}),N})();const X=new g.OlP("Location Initialized");let se=(()=>{class N extends ee{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(R){const J=V().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",R,!1),()=>J.removeEventListener("popstate",R)}onHashChange(R){const J=V().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",R,!1),()=>J.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,J,xe){ce()?this._history.pushState(R,J,xe):this.location.hash=xe}replaceState(R,J,xe){ce()?this._history.replaceState(R,J,xe):this.location.hash=xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return N.\u0275fac=function(R){return new(R||N)(g.LFG(fe))},N.\u0275prov=g.Yz7({token:N,factory:function(){return function Ve(){return new se((0,g.LFG)(fe))}()},providedIn:"platform"}),N})();function ce(){return!!window.history.pushState}function He(N,W){if(0==N.length)return W;if(0==W.length)return N;let R=0;return N.endsWith("/")&&R++,W.startsWith("/")&&R++,2==R?N+W.substring(1):1==R?N+W:N+"/"+W}function Ze(N){const W=N.match(/#|\?|$/),R=W&&W.index||N.length;return N.slice(0,R-("/"===N[R-1]?1:0))+N.slice(R)}function et(N){return N&&"?"!==N[0]?"?"+N:N}let oe=(()=>{class N{historyGo(R){throw new Error("Not implemented")}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275prov=g.Yz7({token:N,factory:function(){return(0,g.f3M)(Ft)},providedIn:"root"}),N})();const Fe=new g.OlP("appBaseHref");let Ft=(()=>{class N extends oe{constructor(R,J){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=J??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return He(this._baseHref,R)}path(R=!1){const J=this._platformLocation.pathname+et(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&R?`${J}${xe}`:J}pushState(R,J,xe,Xe){const It=this.prepareExternalUrl(xe+et(Xe));this._platformLocation.pushState(R,J,It)}replaceState(R,J,xe,Xe){const It=this.prepareExternalUrl(xe+et(Xe));this._platformLocation.replaceState(R,J,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return N.\u0275fac=function(R){return new(R||N)(g.LFG(ee),g.LFG(Fe,8))},N.\u0275prov=g.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),en=(()=>{class N extends oe{constructor(R,J){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(R){const J=He(this._baseHref,R);return J.length>0?"#"+J:J}pushState(R,J,xe,Xe){let It=this.prepareExternalUrl(xe+et(Xe));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(R,J,It)}replaceState(R,J,xe,Xe){let It=this.prepareExternalUrl(xe+et(Xe));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(R,J,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return N.\u0275fac=function(R){return new(R||N)(g.LFG(ee),g.LFG(Fe,8))},N.\u0275prov=g.Yz7({token:N,factory:N.\u0275fac}),N})(),vt=(()=>{class N{constructor(R){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const J=this._locationStrategy.getBaseHref();this._baseHref=Ze(bt(J)),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,J=""){return this.path()==this.normalize(R+et(J))}normalize(R){return N.stripTrailingSlash(function Pt(N,W){return N&&W.startsWith(N)?W.substring(N.length):W}(this._baseHref,bt(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,J="",xe=null){this._locationStrategy.pushState(xe,"",R,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+et(J)),xe)}replaceState(R,J="",xe=null){this._locationStrategy.replaceState(xe,"",R,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+et(J)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)})),()=>{const J=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(J,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",J){this._urlChangeListeners.forEach(xe=>xe(R,J))}subscribe(R,J,xe){return this._subject.subscribe({next:R,error:J,complete:xe})}}return N.normalizeQueryParams=et,N.joinWithSlash=He,N.stripTrailingSlash=Ze,N.\u0275fac=function(R){return new(R||N)(g.LFG(oe))},N.\u0275prov=g.Yz7({token:N,factory:function(){return function ct(){return new vt((0,g.LFG)(oe))}()},providedIn:"root"}),N})();function bt(N){return N.replace(/\/index.html$/,"")}function dr(N,W){W=encodeURIComponent(W);for(const R of N.split(";")){const J=R.indexOf("="),[xe,Xe]=-1==J?[R,""]:[R.slice(0,J),R.slice(J+1)];if(xe.trim()===W)return decodeURIComponent(Xe)}return null}let us=(()=>{class N{constructor(R,J,xe,Xe){this._iterableDiffers=R,this._keyValueDiffers=J,this._ngEl=xe,this._renderer=Xe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(J=>this._toggleClass(J.key,J.currentValue)),R.forEachChangedItem(J=>this._toggleClass(J.key,J.currentValue)),R.forEachRemovedItem(J=>{J.previousValue&&this._toggleClass(J.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(J=>{if("string"!=typeof J.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(J.item)}`);this._toggleClass(J.item,!0)}),R.forEachRemovedItem(J=>this._toggleClass(J.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(J=>this._toggleClass(J,!0)):Object.keys(R).forEach(J=>this._toggleClass(J,!!R[J])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(J=>this._toggleClass(J,!1)):Object.keys(R).forEach(J=>this._toggleClass(J,!1)))}_toggleClass(R,J){(R=R.trim())&&R.split(/\s+/g).forEach(xe=>{J?this._renderer.addClass(this._ngEl.nativeElement,xe):this._renderer.removeClass(this._ngEl.nativeElement,xe)})}}return N.\u0275fac=function(R){return new(R||N)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class ls{constructor(W,R,J,xe){this.$implicit=W,this.ngForOf=R,this.index=J,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ns=(()=>{class N{constructor(R,J,xe){this._viewContainer=R,this._template=J,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const J=this._viewContainer;R.forEachOperation((xe,Xe,It)=>{if(null==xe.previousIndex)J.createEmbeddedView(this._template,new ls(xe.item,this._ngForOf,-1,-1),null===It?void 0:It);else if(null==It)J.remove(null===Xe?void 0:Xe);else if(null!==Xe){const yt=J.get(Xe);J.move(yt,It),Ur(yt,xe)}});for(let xe=0,Xe=J.length;xe<Xe;xe++){const yt=J.get(xe).context;yt.index=xe,yt.count=Xe,yt.ngForOf=this._ngForOf}R.forEachIdentityChange(xe=>{Ur(J.get(xe.currentIndex),xe)})}static ngTemplateContextGuard(R,J){return!0}}return N.\u0275fac=function(R){return new(R||N)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function Ur(N,W){N.context.$implicit=W.item}let ms=(()=>{class N{constructor(R,J){this._viewContainer=R,this._context=new mi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){si("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){si("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,J){return!0}}return N.\u0275fac=function(R){return new(R||N)(g.Y36(g.s_b),g.Y36(g.Rgc))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class mi{constructor(){this.$implicit=null,this.ngIf=null}}function si(N,W){if(W&&!W.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,g.AaK)(W)}'.`)}class Di{constructor(W,R){this._viewContainerRef=W,this._templateRef=R,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(W){W&&!this._created?this.create():!W&&this._created&&this.destroy()}}let yi=(()=>{class N{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(R){this._ngSwitch=R,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(R){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(R)}_matchCase(R){const J=R==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||J,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),J}_updateDefaultCases(R){if(this._defaultViews&&R!==this._defaultUsed){this._defaultUsed=R;for(let J=0;J<this._defaultViews.length;J++)this._defaultViews[J].enforceState(R)}}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275dir=g.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),Hi=(()=>{class N{constructor(R,J,xe){this.ngSwitch=xe,xe._addCase(),this._view=new Di(R,J)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(R){return new(R||N)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(yi,9))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})(),oi=(()=>{class N{constructor(R,J,xe){this._ngEl=R,this._differs=J,this._renderer=xe,this._ngStyle=null,this._differ=null}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,J){const[xe,Xe]=R.split("."),It=-1===xe.indexOf("-")?void 0:g.JOm.DashCase;null!=J?this._renderer.setStyle(this._ngEl.nativeElement,xe,Xe?`${J}${Xe}`:J,It):this._renderer.removeStyle(this._ngEl.nativeElement,xe,It)}_applyChanges(R){R.forEachRemovedItem(J=>this._setStyle(J.key,null)),R.forEachAddedItem(J=>this._setStyle(J.key,J.currentValue)),R.forEachChangedItem(J=>this._setStyle(J.key,J.currentValue))}}return N.\u0275fac=function(R){return new(R||N)(g.Y36(g.SBq),g.Y36(g.aQg),g.Y36(g.Qsj))},N.\u0275dir=g.lG2({type:N,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),N})();function Ci(N,W){return new g.vHH(2100,!1)}class Re{createSubscription(W,R){return W.subscribe({next:R,error:J=>{throw J}})}dispose(W){W.unsubscribe()}}class ke{createSubscription(W,R){return W.then(R,J=>{throw J})}dispose(W){}}const qe=new ke,_t=new Re;let Ut=(()=>{class N{constructor(R){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=R}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(R){return this._obj?R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue:(R&&this._subscribe(R),this._latestValue)}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,J=>this._updateLatestValue(R,J))}_selectStrategy(R){if((0,g.QGY)(R))return qe;if((0,g.F4k)(R))return _t;throw Ci()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,J){R===this._obj&&(this._latestValue=J,this._ref.markForCheck())}}return N.\u0275fac=function(R){return new(R||N)(g.Y36(g.sBO,16))},N.\u0275pipe=g.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})();const Hn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Sr=(()=>{class N{transform(R){if(null==R)return null;if("string"!=typeof R)throw Ci();return R.replace(Hn,J=>J[0].toUpperCase()+J.slice(1).toLowerCase())}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275pipe=g.Yjl({name:"titlecase",type:N,pure:!0,standalone:!0}),N})(),es=(()=>{class N{}return N.\u0275fac=function(R){return new(R||N)},N.\u0275mod=g.oAB({type:N}),N.\u0275inj=g.cJS({}),N})();const Oi="browser";function to(N){return N===Oi}function Vs(N){return"server"===N}let Eo=(()=>{class N{}return N.\u0275prov=(0,g.Yz7)({token:N,providedIn:"root",factory:()=>new ts((0,g.LFG)(fe),window)}),N})();class ts{constructor(W,R){this.document=W,this.window=R,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const R=function Us(N,W){const R=N.getElementById(W)||N.getElementsByName(W)[0];if(R)return R;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const J=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let xe=J.currentNode;for(;xe;){const Xe=xe.shadowRoot;if(Xe){const It=Xe.getElementById(W)||Xe.querySelector(`[name="${W}"]`);if(It)return It}xe=J.nextNode()}}return null}(this.document,W);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=W)}}scrollToElement(W){const R=W.getBoundingClientRect(),J=R.left+this.window.pageXOffset,xe=R.top+this.window.pageYOffset,Xe=this.offset();this.window.scrollTo(J-Xe[0],xe-Xe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=ur(this.window.history)||ur(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ur(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class ki{}},4650:(Kt,Ge,U)=>{U.d(Ge,{$8M:()=>Oa,$Z:()=>Ch,AFp:()=>Aw,ALo:()=>Z0,AaK:()=>ee,BQk:()=>xc,CHM:()=>Fi,CRH:()=>sw,CZH:()=>Ay,CqO:()=>Up,D6c:()=>zI,EJc:()=>iI,EiD:()=>I,EpF:()=>qm,F$t:()=>Bp,F4k:()=>Ad,FYo:()=>Tf,FiY:()=>En,G48:()=>CI,Gf:()=>rw,GfV:()=>Cf,Gpc:()=>se,Hsn:()=>jp,Ikx:()=>og,JOm:()=>Vo,JVY:()=>jc,KtG:()=>vi,L6k:()=>Ou,LAX:()=>Hl,LFG:()=>K,LSH:()=>jt,Lbi:()=>eI,Lck:()=>Wb,MAs:()=>Wm,MMx:()=>c_,NdJ:()=>Al,O4$:()=>$,OlP:()=>Rr,Oqu:()=>Nl,PXZ:()=>_I,Q6J:()=>Fp,QGY:()=>Mc,QP$:()=>gf,QbO:()=>tI,Qsj:()=>Dg,R0b:()=>za,RDi:()=>Vl,Rgc:()=>gg,SBq:()=>Eu,Sil:()=>oI,Suo:()=>iw,TTD:()=>ys,TgZ:()=>Ac,Tol:()=>cy,Udp:()=>Wp,X6Q:()=>TI,XFs:()=>Qt,Xpm:()=>de,Xts:()=>ll,Y36:()=>fc,YKP:()=>F0,YNc:()=>Op,Yjl:()=>je,Yz7:()=>at,ZZ4:()=>O_,_Bn:()=>k0,_UZ:()=>Au,_Vd:()=>Yl,_c5:()=>$I,_uU:()=>Jp,aQg:()=>k_,c2e:()=>nI,cJS:()=>Ke,cg1:()=>ag,d8E:()=>df,dDg:()=>gI,dqk:()=>Ot,eBb:()=>Fo,eFA:()=>jw,ekj:()=>Kp,eoX:()=>Vw,f3M:()=>Be,g9A:()=>Mw,h0i:()=>ff,hGG:()=>HI,hij:()=>Pc,iGM:()=>nw,ifc:()=>Xt,ip1:()=>Sw,kL8:()=>ug,kYT:()=>zn,kcU:()=>w,lG2:()=>Nr,lcZ:()=>Y0,lqb:()=>ku,lri:()=>Fw,mCW:()=>vu,n5z:()=>Pa,n_E:()=>Iy,oAB:()=>nn,oJD:()=>st,oxw:()=>xu,pB0:()=>il,q3G:()=>Ae,q4F:()=>Cg,qLn:()=>Qc,qOj:()=>Xh,qZA:()=>Cd,qzn:()=>Qa,rWj:()=>Lw,sBO:()=>SI,sIi:()=>Dl,s_b:()=>Ty,soG:()=>xy,tb:()=>Nw,tp0:()=>wi,uIk:()=>Np,vHH:()=>Ze,vpe:()=>Qu,wAp:()=>i,xp6:()=>nd,ynx:()=>Sd,z2F:()=>My,z3N:()=>Yo,zSh:()=>Kl,zs3:()=>ru});var g=U(8929),F=U(2654),V=U(6498),ye=U(6787),me=U(2474);function ne(n){for(let r in n)if(n[r]===ne)return r;throw Error("Could not find renamed property on target object.")}function fe(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ee(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ee).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function le(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const X=ne({__forward_ref__:ne});function se(n){return n.__forward_ref__=se,n.toString=function(){return ee(this())},n}function ce(n){return Ve(n)?n():n}function Ve(n){return"function"==typeof n&&n.hasOwnProperty(X)&&n.__forward_ref__===se}class Ze extends Error{constructor(r,s){super(function et(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function oe(n){return"string"==typeof n?n:null==n?"":String(n)}function ct(n,r){throw new Ze(-201,!1)}function Ln(n,r){null==n&&function Yt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function at(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function Lt(n){return pn(n,br)||pn(n,mt)}function pn(n,r){return n.hasOwnProperty(r)?n[r]:null}function sr(n){return n&&(n.hasOwnProperty(_n)||n.hasOwnProperty(er))?n[_n]:null}const br=ne({\u0275prov:ne}),_n=ne({\u0275inj:ne}),mt=ne({ngInjectableDef:ne}),er=ne({ngInjectorDef:ne});var Qt=(()=>((Qt=Qt||{})[Qt.Default=0]="Default",Qt[Qt.Host=1]="Host",Qt[Qt.Self=2]="Self",Qt[Qt.SkipSelf=4]="SkipSelf",Qt[Qt.Optional=8]="Optional",Qt))();let qt;function Bn(n){const r=qt;return qt=n,r}function $r(n,r,s){const a=Lt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Qt.Optional?null:void 0!==r?r:void ct(ee(n))}function cr(n){return{toString:n}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),Xt=(()=>{return(n=Xt||(Xt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Xt;var n})();const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Er={},Ht=[],Mt=ne({\u0275cmp:ne}),ii=ne({\u0275dir:ne}),On=ne({\u0275pipe:ne}),Ir=ne({\u0275mod:ne}),gn=ne({\u0275fac:ne}),Oe=ne({__NG_ELEMENT_ID__:ne});let De=0;function de(n){return cr(()=>{const s=!0===n.standalone,a={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ht,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Xt.Emulated,id:"c"+De++,styles:n.styles||Ht,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,m=n.features;return l.inputs=Qn(n.inputs,a),l.outputs=Qn(n.outputs),m&&m.forEach(D=>D(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(pe).filter(ht):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(rt).filter(ht):null,l})}function pe(n){return ve(n)||_e(n)}function ht(n){return null!==n}const zt={};function nn(n){return cr(()=>{const r={type:n.type,bootstrap:n.bootstrap||Ht,declarations:n.declarations||Ht,imports:n.imports||Ht,exports:n.exports||Ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(zt[n.id]=n.type),r})}function zn(n,r){return cr(()=>{const s=At(n,!0);s.declarations=r.declarations||Ht,s.imports=r.imports||Ht,s.exports=r.exports||Ht})}function Qn(n,r){if(null==n)return Er;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const Nr=de;function je(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ve(n){return n[Mt]||null}function _e(n){return n[ii]||null}function rt(n){return n[On]||null}function At(n,r){const s=n[Ir]||null;if(!s&&!0===r)throw new Error(`Type ${ee(n)} does not have '\u0275mod' property.`);return s}function mi(n){return Array.isArray(n)&&"object"==typeof n[1]}function si(n){return Array.isArray(n)&&!0===n[1]}function Di(n){return 0!=(8&n.flags)}function yi(n){return 2==(2&n.flags)}function Hi(n){return 1==(1&n.flags)}function Ti(n){return null!==n.template}function ui(n){return 0!=(256&n[2])}function Si(n,r){return n.hasOwnProperty(gn)?n[gn]:null}class Xi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ys(){return lo}function lo(n){return n.type.prototype.ngOnChanges&&(n.setInput=co),Ws}function Ws(){const n=Ds(this),r=n?.current;if(r){const s=n.previous;if(s===Er)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function co(n,r,s,a){const l=Ds(n)||function Ts(n,r){return n[zi]=r}(n,{previous:Er,current:null}),h=l.current||(l.current={}),m=l.previous,D=this.declaredInputs[s],C=m[D];h[D]=new Xi(C&&C.currentValue,r,m===Er),n[a]=r}ys.ngInherit=!0;const zi="__ngSimpleChanges__";function Ds(n){return n[zi]||null}function Dr(n){for(;Array.isArray(n);)n=n[0];return n}function ts(n,r){return Dr(r[n])}function ur(n,r){return Dr(r[n.index])}function Cs(n,r){return n.data[r]}function ki(n,r){return n[r]}function N(n,r){const s=r[n];return mi(s)?s:s[0]}function W(n){return 4==(4&n[2])}function R(n){return 64==(64&n[2])}function xe(n,r){return null==r?null:n[r]}function Xe(n){n[18]=0}function It(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const yt={lFrame:ga(null),bindingsEnabled:!0};function wr(){return yt.bindingsEnabled}function ut(){return yt.lFrame.lView}function Wn(){return yt.lFrame.tView}function Fi(n){return yt.lFrame.contextLView=n,n[8]}function vi(n){return yt.lFrame.contextLView=null,n}function xr(){let n=Ks();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ks(){return yt.lFrame.currentTNode}function vs(n,r){const s=yt.lFrame;s.currentTNode=n,s.isParent=r}function no(){return yt.lFrame.isParent}function Ps(){yt.lFrame.isParent=!1}function Bs(){return yt.lFrame.bindingIndex++}function ws(n){const r=yt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Do(n,r){const s=yt.lFrame;s.bindingIndex=s.bindingRootIndex=n,Os(r)}function Os(n){yt.lFrame.currentDirectiveIndex=n}function Zs(n){const r=yt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ti(){return yt.lFrame.currentQueryIndex}function fo(n){yt.lFrame.currentQueryIndex=n}function ba(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function To(n,r,s){if(s&Qt.SkipSelf){let l=r,h=n;for(;!(l=l.parent,null!==l||s&Qt.Host||(l=ba(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,n=h}const a=yt.lFrame=zo();return a.currentTNode=r,a.lView=n,!0}function pa(n){const r=zo(),s=n[1];yt.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function zo(){const n=yt.lFrame,r=null===n?null:n.child;return null===r?ga(n):r}function ga(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ro(){const n=yt.lFrame;return yt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ia=ro;function io(){const n=ro();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Gi(){return yt.lFrame.selectedIndex}function ks(n){yt.lFrame.selectedIndex=n}function Br(){const n=yt.lFrame;return Cs(n.tView,n.selectedIndex)}function $(){yt.lFrame.currentNamespace="svg"}function w(){!function M(){yt.lFrame.currentNamespace=null}()}function Te(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:D,ngAfterViewInit:C,ngAfterViewChecked:L,ngOnDestroy:Y}=h;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),D&&((n.contentHooks||(n.contentHooks=[])).push(s,D),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,D)),C&&(n.viewHooks||(n.viewHooks=[])).push(-s,C),L&&((n.viewHooks||(n.viewHooks=[])).push(s,L),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,L)),null!=Y&&(n.destroyHooks||(n.destroyHooks=[])).push(s,Y)}}function Se(n,r,s){x(n,r,3,s)}function We(n,r,s,a){(3&n[2])===s&&x(n,r,s,a)}function pt(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function x(n,r,s,a){const h=a??-1,m=r.length-1;let D=0;for(let C=void 0!==a?65535&n[18]:0;C<m;C++)if("number"==typeof r[C+1]){if(D=r[C],null!=a&&D>=a)break}else r[C]<0&&(n[18]+=65536),(D<h||-1==h)&&(B(n,s,r,C),n[18]=(4294901760&n[18])+C+2),C++}function B(n,r,s,a){const l=s[a]<0,h=s[a+1],D=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(D)}finally{}}}else try{h.call(D)}finally{}}const z=-1;class Q{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function kn(n,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],m=s[a++],D=s[a++];n.setAttribute(r,m,D,h)}else{const h=l,m=s[++a];Kn(h)?n.setProperty(r,h,m):n.setAttribute(r,h,m),a++}}return a}function Yn(n){return 3===n||4===n||6===n}function Kn(n){return 64===n.charCodeAt(0)}function Kr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||ci(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function ci(n,r,s,a,l){let h=0,m=n.length;if(-1===r)m=-1;else for(;h<n.length;){const D=n[h++];if("number"==typeof D){if(D===r){m=-1;break}if(D>r){m=h-1;break}}}for(;h<n.length;){const D=n[h];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==l&&(n[h+1]=l));if(a===n[h+1])return void(n[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==m&&(n.splice(m,0,r),h=m+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==l&&n.splice(h++,0,l)}function di(n){return n!==z}function qr(n){return 32767&n}function Wi(n,r){let s=function pr(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let ns=!0;function cn(n){const r=ns;return ns=n,r}let Ki=0;const qi={};function xi(n,r){const s=Co(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,tr(a.data,n),tr(r,null),tr(a.blueprint,null));const l=ma(n,r),h=n.injectorIndex;if(di(l)){const m=qr(l),D=Wi(l,r),C=D[1].data;for(let L=0;L<8;L++)r[h+L]=D[m+L]|C[m+L]}return r[h+8]=l,h}function tr(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Co(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ma(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=Vi(l),null===a)return z;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return z}function Dt(n,r,s){!function Or(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Oe)&&(a=s[Oe]),null==a&&(a=s[Oe]=Ki++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function Zi(n,r,s){if(s&Qt.Optional)return n;ct()}function so(n,r,s,a){if(s&Qt.Optional&&void 0===a&&(a=null),0==(s&(Qt.Self|Qt.Host))){const l=n[9],h=Bn(void 0);try{return l?l.get(r,a,s&Qt.Optional):$r(r,a,s&Qt.Optional)}finally{Bn(h)}}return Zi(a,0,s)}function hn(n,r,s,a=Qt.Default,l){if(null!==n){if(1024&r[2]){const m=function Wa(n,r,s,a,l){let h=n,m=r;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const D=Vn(h,m,s,a|Qt.Self,qi);if(D!==qi)return D;let C=h.parent;if(!C){const L=m[21];if(L){const Y=L.get(s,qi,a);if(Y!==qi)return Y}C=Vi(m),m=m[15]}h=C}return l}(n,r,s,a,qi);if(m!==qi)return m}const h=Vn(n,r,s,a,qi);if(h!==qi)return h}return so(r,s,a,l)}function Vn(n,r,s,a,l){const h=function xt(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Oe)?n[Oe]:void 0;return"number"==typeof r?r>=0?255&r:Ju:r}(s);if("function"==typeof h){if(!To(r,n,a))return a&Qt.Host?Zi(l,0,a):so(r,s,a,l);try{const m=h(a);if(null!=m||a&Qt.Optional)return m;ct()}finally{ia()}}else if("number"==typeof h){let m=null,D=Co(n,r),C=z,L=a&Qt.Host?r[16][6]:null;for((-1===D||a&Qt.SkipSelf)&&(C=-1===D?ma(n,r):r[D+8],C!==z&&Ga(a,!1)?(m=r[1],D=qr(C),r=Wi(C,r)):D=-1);-1!==D;){const Y=r[1];if(Li(h,D,Y.data)){const ue=Ea(D,r,s,m,a,L);if(ue!==qi)return ue}C=r[D+8],C!==z&&Ga(a,r[1].data[D+8]===L)&&Li(h,D,r)?(m=Y,D=qr(C),r=Wi(C,r)):D=-1}}return l}function Ea(n,r,s,a,l,h){const m=r[1],D=m.data[n+8],Y=Zt(D,m,s,null==a?yi(D)&&ns:a!=m&&0!=(3&D.type),l&Qt.Host&&h===D);return null!==Y?it(r,m,Y,D):qi}function Zt(n,r,s,a,l){const h=n.providerIndexes,m=r.data,D=1048575&h,C=n.directiveStart,Y=h>>20,Le=l?D+Y:n.directiveEnd;for(let Ye=a?D:D+Y;Ye<Le;Ye++){const Ct=m[Ye];if(Ye<C&&s===Ct||Ye>=C&&Ct.type===s)return Ye}if(l){const Ye=m[C];if(Ye&&Ti(Ye)&&Ye.type===s)return C}return null}function it(n,r,s,a){let l=n[s];const h=r.data;if(function ie(n){return n instanceof Q}(l)){const m=l;m.resolving&&function Ft(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Fe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():oe(n)}(h[s]));const D=cn(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?Bn(m.injectImpl):null;To(n,a,Qt.Default);try{l=n[s]=m.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function re(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const m=lo(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==C&&Bn(C),cn(D),m.resolving=!1,ia()}}return l}function Li(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Ga(n,r){return!(n&Qt.Self||n&Qt.Host&&r)}class Go{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return hn(this._tNode,this._lView,r,a,s)}}function Ju(){return new Go(xr(),ut())}function Pa(n){return cr(()=>{const r=n.prototype.constructor,s=r[gn]||du(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const h=l[gn]||du(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function du(n){return Ve(n)?()=>{const r=du(ce(n));return r&&r()}:Si(n)}function Vi(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Oa(n){return function jr(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(Yn(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(xr(),n)}const Fs="__parameters__";function Wo(n,r,s){return cr(()=>{const a=function oo(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const m=new l(...h);return D.annotation=m,D;function D(C,L,Y){const ue=C.hasOwnProperty(Fs)?C[Fs]:Object.defineProperty(C,Fs,{value:[]})[Fs];for(;ue.length<=Y;)ue.push(null);return(ue[Y]=ue[Y]||[]).push(m),C}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Rr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=at({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function js(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),js(a,r)):r!==n&&r.push(a)}return r}function So(n,r){n.forEach(s=>Array.isArray(s)?So(s,r):r(s))}function qo(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function oa(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Je(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function E(n,r,s){let a=_(n,r);return a>=0?n[1|a]=s:(a=~a,function tl(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function b(n,r){const s=_(n,r);if(s>=0)return n[1|s]}function _(n,r){return function P(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const h=a+(l-a>>1),m=n[h<<s];if(r===m)return h<<s;m>r?l=h:a=h+1}return~(l<<s)}(n,r,1)}const is={},ni="__NG_DI_FLAG__",$s="ngTempTokenPath",aa=/\n/gm,Ri="__source";let ua;function A(n){const r=ua;return ua=n,r}function k(n,r=Qt.Default){if(void 0===ua)throw new Ze(-203,!1);return null===ua?$r(n,void 0,r):ua.get(n,r&Qt.Optional?null:void 0,r)}function K(n,r=Qt.Default){return(function $n(){return qt}()||k)(ce(n),r)}function Be(n,r=Qt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),K(n,r)}function tt(n){const r=[];for(let s=0;s<n.length;s++){const a=ce(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Ze(900,!1);let l,h=Qt.Default;for(let m=0;m<a.length;m++){const D=a[m],C=on(D);"number"==typeof C?-1===C?l=D.token:h|=C:l=D}r.push(K(l,h))}else r.push(K(a))}return r}function St(n,r){return n[ni]=r,n.prototype[ni]=r,n}function on(n){return n[ni]}const En=St(Wo("Optional"),8),wi=St(Wo("SkipSelf"),4);let Ya,xs,Ul;function Vl(n){Ya=n}function Ru(n){return function rl(){if(void 0===xs&&(xs=null,Ot.trustedTypes))try{xs=Ot.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xs}()?.createHTML(n)||n}function jl(n){return function Bl(){if(void 0===Ul&&(Ul=null,Ot.trustedTypes))try{Ul=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ul}()?.createHTML(n)||n}class yu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $l extends yu{getTypeName(){return"HTML"}}class $d extends yu{getTypeName(){return"Style"}}class La extends yu{getTypeName(){return"Script"}}class Uc extends yu{getTypeName(){return"URL"}}class Pu extends yu{getTypeName(){return"ResourceURL"}}function Yo(n){return n instanceof yu?n.changingThisBreaksApplicationSecurity:n}function Qa(n,r){const s=function Bc(n){return n instanceof yu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function jc(n){return new $l(n)}function Ou(n){return new $d(n)}function Fo(n){return new La(n)}function Hl(n){return new Uc(n)}function il(n){return new Pu(n)}class sl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Ru(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Hc{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ru(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Ru(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const m=s.item(l).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&r.removeAttribute(m)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const zd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vu(n){return(n=String(n)).match(zd)||n.match(Gd)?n:"unsafe:"+n}function Qo(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function ol(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Wd=Qo("area,br,col,hr,img,wbr"),al=Qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_u=Qo("rp,rt"),zl=ol(Wd,ol(al,Qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ol(_u,Qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ol(_u,al)),xa=Qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gl=Qo("srcset"),qd=ol(xa,Gl,Qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wf=Qo("script,style,template");class ps{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!zl.hasOwnProperty(s))return this.sanitizedSomething=!0,!wf.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),m=h.name,D=m.toLowerCase();if(!qd.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let C=h.value;xa[D]&&(C=vu(C)),Gl[D]&&(n=C,C=(n=String(n)).split(",").map(r=>vu(r.trim())).join(", ")),this.buf.push(" ",m,'="',d(C),'"')}var n;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();zl.hasOwnProperty(s)&&!Wd.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(d(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Gc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~ |!])/g;function d(n){return n.replace(/&/g,"&amp;").replace(Gc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(y,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let f;function I(n,r){let s=null;try{f=f||function $c(n){const r=new Hc(n);return function Hd(){try{return!!(new window.DOMParser).parseFromString(Ru(""),"text/html")}catch{return!1}}()?new sl(r):r}(n);let a=r?String(r):"";s=f.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=s.innerHTML,s=f.getInertBodyElement(a)}while(a!==h);return Ru((new ps).sanitizeChildren(j(s)||s))}finally{if(s){const a=j(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function j(n){return"content"in n&&function q(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ae=(()=>((Ae=Ae||{})[Ae.NONE=0]="NONE",Ae[Ae.HTML=1]="HTML",Ae[Ae.STYLE=2]="STYLE",Ae[Ae.SCRIPT=3]="SCRIPT",Ae[Ae.URL=4]="URL",Ae[Ae.RESOURCE_URL=5]="RESOURCE_URL",Ae))();function st(n){const r=Jo();return r?jl(r.sanitize(Ae.HTML,n)||""):Qa(n,"HTML")?jl(Yo(n)):I(function nl(){return void 0!==Ya?Ya:typeof document<"u"?document:void 0}(),oe(n))}function jt(n){const r=Jo();return r?r.sanitize(Ae.URL,n)||"":Qa(n,"URL")?Yo(n):vu(oe(n))}function Jo(){const n=ut();return n&&n[12]}const ll=new Rr("ENVIRONMENT_INITIALIZER"),vo=new Rr("INJECTOR",-1),Wl=new Rr("INJECTOR_DEF_TYPES");class Xa{get(r,s=is){if(s===is){const a=new Error(`NullInjectorError: No provider for ${ee(r)}!`);throw a.name="NullInjectorError",a}return s}}function Kc(...n){return{\u0275providers:va(0,n)}}function va(n,...r){const s=[],a=new Set;let l;return So(r,h=>{const m=h;bu(m,s,[],a)&&(l||(l=[]),l.push(m))}),void 0!==l&&cl(l,s),s}function cl(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];So(l,h=>{r.push(h)})}}function bu(n,r,s,a){if(!(n=ce(n)))return!1;let l=null,h=sr(n);const m=!h&&ve(n);if(h||m){if(m&&!m.standalone)return!1;l=n}else{const C=n.ngModule;if(h=sr(C),!h)return!1;l=C}const D=a.has(l);if(m){if(D)return!1;if(a.add(l),m.dependencies){const C="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const L of C)bu(L,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let L;a.add(l);try{So(h.imports,Y=>{bu(Y,r,s,a)&&(L||(L=[]),L.push(Y))})}finally{}void 0!==L&&cl(L,r)}if(!D){const L=Si(l)||(()=>new l);r.push({provide:l,useFactory:L,deps:Ht},{provide:Wl,useValue:l,multi:!0},{provide:ll,useValue:()=>K(l),multi:!0})}const C=h.providers;null==C||D||So(C,Y=>{r.push(Y)})}}return l!==n&&void 0!==n.providers}const Oy=ne({provide:String,useValue:ne});function gr(n){return null!==n&&"object"==typeof n&&Oy in n}function Va(n){return"function"==typeof n}const Kl=new Rr("Set Injector scope."),Yc={},wg={};let Yd;function Qd(){return void 0===Yd&&(Yd=new Xa),Yd}class ku{}class bf extends ku{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hl(r,m=>this.processProvider(m)),this.records.set(vo,dl(void 0,this)),l.has("environment")&&this.records.set(ku,dl(void 0,this));const h=this.records.get(Kl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Wl.multi,Ht,Qt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=A(this),a=Bn(void 0);try{return r()}finally{A(s),Bn(a)}}get(r,s=is,a=Qt.Default){this.assertNotDestroyed();const l=A(this),h=Bn(void 0);try{if(!(a&Qt.SkipSelf)){let D=this.records.get(r);if(void 0===D){const C=function If(n){return"function"==typeof n||"object"==typeof n&&n instanceof Rr}(r)&&Lt(r);D=C&&this.injectableDefInScope(C)?dl(Ef(r),Yc):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&Qt.Self?Qd():this.parent).get(r,s=a&Qt.Optional&&s===is?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[$s]=m[$s]||[]).unshift(ee(r)),l)throw m;return function Rn(n,r,s,a){const l=n[$s];throw r[Ri]&&l.unshift(r[Ri]),n.message=function rr(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=ee(r);if(Array.isArray(r))l=r.map(ee).join(" -> ");else if("object"==typeof r){let h=[];for(let m in r)if(r.hasOwnProperty(m)){let D=r[m];h.push(m+":"+("string"==typeof D?JSON.stringify(D):ee(D)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(aa,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[$s]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{Bn(h),A(l)}}resolveInjectorInitializers(){const r=A(this),s=Bn(void 0);try{const a=this.get(ll.multi,Ht,Qt.Self);for(const l of a)l()}finally{A(r),Bn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(ee(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(r){let s=Va(r=ce(r))?r:ce(r&&r.provide);const a=function Fy(n){return gr(n)?dl(void 0,n.useValue):dl(ql(n),Yc)}(r);if(Va(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=dl(void 0,Yc,!0),l.factory=()=>tt(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Yc&&(s.value=wg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function _o(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ce(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Ef(n){const r=Lt(n),s=null!==r?r.factory:Si(n);if(null!==s)return s;if(n instanceof Rr)throw new Ze(204,!1);if(n instanceof Function)return function ky(n){const r=n.length;if(r>0)throw Je(r,"?"),new Ze(204,!1);const s=function an(n){const r=n&&(n[br]||n[mt]);if(r){const s=function Cn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ze(204,!1)}function ql(n,r,s){let a;if(Va(n)){const l=ce(n);return Si(l)||Ef(l)}if(gr(n))a=()=>ce(n.useValue);else if(function qc(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...tt(n.deps||[]));else if(function _g(n){return!(!n||!n.useExisting)}(n))a=()=>K(ce(n.useExisting));else{const l=ce(n&&(n.useClass||n.provide));if(!function Ly(n){return!!n.deps}(n))return Si(l)||Ef(l);a=()=>new l(...tt(n.deps))}return a}function dl(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function bg(n){return!!n.\u0275providers}function hl(n,r){for(const s of n)Array.isArray(s)?hl(s,r):bg(s)?hl(s.\u0275providers,r):r(s)}class Jd{}class Ig{resolveComponentFactory(r){throw function Eg(n){const r=Error(`No component factory found for ${ee(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Yl=(()=>{class n{}return n.NULL=new Ig,n})();function Uy(){return Ql(xr(),ut())}function Ql(n,r){return new Eu(ur(n,r))}let Eu=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Uy,n})();function Df(n){return n instanceof Eu?n.nativeElement:n}class Tf{}let Dg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Tg(){const n=ut(),s=N(xr().index,n);return(mi(s)?s:n)[11]}(),n})(),By=(()=>{class n{}return n.\u0275prov=at({token:n,providedIn:"root",factory:()=>null}),n})();class Cf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Cg=new Cf("14.1.1"),Sf={};function Rf(n){return n.ngOriginalError}class Qc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Rf(r);for(;s&&Rf(s);)s=Rf(s);return s||null}}const Pf=new Map;let Rg=0;const nh="__ngContext__";function Lo(n,r){mi(r)?(n[nh]=r[20],function Yy(n){Pf.set(n[20],n)}(r)):n[nh]=r}function ec(n){const r=n[nh];return"number"==typeof r?function th(n){return Pf.get(n)||null}(r):r||null}function tc(n){const r=ec(n);return r?mi(r)?r:r.lView:null}const Qy=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ot))();function Xo(n){return n instanceof Function?n():n}var Vo=(()=>((Vo=Vo||{})[Vo.Important=1]="Important",Vo[Vo.DashCase=2]="DashCase",Vo))();function oh(n,r){return undefined(n,r)}function Lu(n){const r=n[3];return si(r)?r[3]:r}function gl(n){return rc(n[13])}function nc(n){return rc(n[4])}function rc(n){for(;null!==n&&!si(n);)n=n[4];return n}function ml(n,r,s,a,l){if(null!=a){let h,m=!1;si(a)?h=a:mi(a)&&(m=!0,a=a[0]);const D=Dr(a);0===n&&null!==s?null==l?Bf(r,s,D):nu(r,s,D,l||null,!0):1===n&&null!==s?nu(r,s,D,l||null,!0):2===n?function Kg(n,r,s){const a=ed(n,r);a&&function Wg(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,D,m):3===n&&r.destroyNode(D),null!=h&&function ov(n,r,s,a,l){const h=s[7];h!==Dr(s)&&ml(r,n,a,h,l);for(let D=10;D<s.length;D++){const C=s[D];td(C[1],C,n,r,a,h)}}(r,n,h,s,l)}}function ic(n,r,s){return n.createElement(r,s)}function vl(n,r){const s=n[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,It(l,-1)),s.splice(a,1)}function uh(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&vl(l,a),r>0&&(n[s-1][4]=a[4]);const h=oa(n,10+r);!function jg(n,r){td(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=h[19];null!==m&&m.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Cu(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&td(n,r,s,3,null,null),function $g(n){let r=n[13];if(!r)return lh(n[1],n);for(;r;){let s=null;if(mi(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)mi(r)&&lh(r[1],r),r=r[3];null===r&&(r=n),mi(r)&&lh(r[1],r),s=r&&r[4]}r=s}}(r)}}function lh(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function iv(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Q)){const h=s[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const D=l[h[m]],C=h[m+1];try{C.call(D)}finally{}}else try{h.call(l)}finally{}}}}(n,r),function rv(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+1],D="function"==typeof m?m(r):Dr(r[m]),C=a[l=s[h+2]],L=s[h+3];"boolean"==typeof L?D.removeEventListener(s[h],C,L):L>=0?a[l=L]():a[l=-L].unsubscribe(),h+=2}else{const m=a[l=s[h+1]];s[h].call(m)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&si(r[3])){s!==r[3]&&vl(s,r);const a=r[19];null!==a&&a.detachView(n)}!function wo(n){Pf.delete(n[20])}(r)}}function Hg(n,r,s){return function zg(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===Xt.None||l===Xt.Emulated)return null}return ur(a,s)}(n,r.parent,s)}function nu(n,r,s,a,l){n.insertBefore(r,s,a,l)}function Bf(n,r,s){n.appendChild(r,s)}function Gg(n,r,s,a,l){null!==a?nu(n,r,s,a,l):Bf(n,r,s)}function ed(n,r){return n.parentNode(r)}function oc(n,r,s){return $f(n,r,s)}let $f=function jf(n,r,s){return 40&n.type?ur(n,s):null};function ch(n,r,s,a){const l=Hg(n,a,r),h=r[11],D=oc(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let C=0;C<s.length;C++)Gg(h,l,s[C],D,!1);else Gg(h,l,s,D,!1)}function dh(n,r){if(null!==r){const s=r.type;if(3&s)return ur(r,n);if(4&s)return Qs(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return dh(n,a);{const l=n[r.index];return si(l)?Qs(-1,l):Dr(l)}}if(32&s)return oh(r,n)()||Dr(n[r.index]);{const a=hh(n,r);return null!==a?Array.isArray(a)?a[0]:dh(Lu(n[16]),a):dh(n,r.next)}}return null}function hh(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Qs(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return dh(a,l)}return r[7]}function Gf(n,r,s,a,l,h,m){for(;null!=s;){const D=a[s.index],C=s.type;if(m&&0===r&&(D&&Lo(Dr(D),a),s.flags|=4),64!=(64&s.flags))if(8&C)Gf(n,r,s.child,a,l,h,!1),ml(r,n,l,D,h);else if(32&C){const L=oh(s,a);let Y;for(;Y=L();)ml(r,n,l,Y,h);ml(r,n,l,D,h)}else 16&C?Wf(n,r,a,s,l,h):ml(r,n,l,D,h);s=m?s.projectionNext:s.next}}function td(n,r,s,a,l,h){Gf(s,a,n.firstChild,r,l,h,!1)}function Wf(n,r,s,a,l,h){const m=s[16],C=m[6].projection[a.projection];if(Array.isArray(C))for(let L=0;L<C.length;L++)ml(r,n,l,C[L],h);else Gf(n,r,C,m[3],l,h,!0)}function qg(n,r,s){n.setAttribute(r,"style",s)}function ph(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function gh(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||n.charCodeAt(l+h)<=32)return l}s=l+1}}const ac="ng-template";function mh(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==gh(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function yh(n){return 4===n.type&&n.value!==ac}function Kf(n,r,s){return r===(4!==n.type||s?n.value:ac)}function Yg(n,r,s){let a=4;const l=n.attrs||[],h=function av(n){for(let r=0;r<n.length;r++)if(Yn(n[r]))return r;return n.length}(l);let m=!1;for(let D=0;D<r.length;D++){const C=r[D];if("number"!=typeof C){if(!m)if(4&a){if(a=2|1&a,""!==C&&!Kf(n,C,s)||""===C&&1===r.length){if(Ua(a))return!1;m=!0}}else{const L=8&a?C:r[++D];if(8&a&&null!==n.attrs){if(!mh(n.attrs,L,s)){if(Ua(a))return!1;m=!0}continue}const ue=Qg(8&a?"class":C,l,yh(n),s);if(-1===ue){if(Ua(a))return!1;m=!0;continue}if(""!==L){let Le;Le=ue>h?"":l[ue+1].toLowerCase();const Ye=8&a?Le:null;if(Ye&&-1!==gh(Ye,L,0)||2&a&&L!==Le){if(Ua(a))return!1;m=!0}}}}else{if(!m&&!Ua(a)&&!Ua(C))return!1;if(m&&Ua(C))continue;m=!1,a=C|1&a}}return Ua(a)||m}function Ua(n){return 0==(1&n)}function Qg(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const m=r[l];if(m===n)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let D=r[++l];for(;"string"==typeof D;)D=r[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function Jg(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function qf(n,r,s=!1){for(let a=0;a<r.length;a++)if(Yg(n,r[a],s))return!0;return!1}function uv(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let l=0;l<n.length;l++)if(n[l]!==a[l])continue e;return!0}}return!1}function Yf(n,r){return n?":not("+r.trim()+")":r}function lv(n){let r=n[0],s=1,a=2,l="",h=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const D=n[++s];l+="["+m+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?l+="."+m:4&a&&(l+=" "+m);else""!==l&&!Ua(m)&&(r+=Yf(h,l),l=""),a=m,h=h||!Ua(a);s++}return""!==l&&(r+=Yf(h,l)),r}const fr={};function nd(n){Qf(Wn(),ut(),Gi()+n,!1)}function Qf(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&Se(r,h,s)}else{const h=n.preOrderHooks;null!==h&&We(r,h,0,s)}ks(s)}function rd(n,r=null,s=null,a){const l=cc(n,r,s,a);return l.resolveInjectorInitializers(),l}function cc(n,r=null,s=null,a,l=new Set){const h=[s||Ht,Kc(n)];return a=a||("object"==typeof n?void 0:ee(n)),new bf(h,r||Qd(),a||null,l)}let ru=(()=>{class n{static create(s,a){if(Array.isArray(s))return rd({name:""},a,s,"");{const l=s.name??"";return rd({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=is,n.NULL=new Xa,n.\u0275prov=at({token:n,providedIn:"any",factory:()=>K(vo)}),n.__NG_ELEMENT_ID__=-1,n})();function fc(n,r=Qt.Default){const s=ut();return null===s?K(n,r):hn(xr(),s,ce(n),r)}function Ch(){throw new Error("invalid")}function pc(n,r){return n<<17|r<<2}function Ba(n){return n>>17&32767}function ud(n){return 2|n}function su(n){return(131068&n)>>2}function Bu(n,r){return-131069&n|r<<2}function rp(n){return 1|n}function Fh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const m=n.data[h];fo(l),m.contentQueries(2,r[h],h)}}}function vc(n,r,s,a,l,h,m,D,C,L,Y){const ue=r.blueprint.slice();return ue[0]=l,ue[2]=76|a,(null!==Y||n&&1024&n[2])&&(ue[2]|=1024),Xe(ue),ue[3]=ue[15]=n,ue[8]=s,ue[10]=m||n&&n[10],ue[11]=D||n&&n[11],ue[12]=C||n&&n[12]||null,ue[9]=L||n&&n[9]||null,ue[6]=h,ue[20]=function Pg(){return Rg++}(),ue[21]=Y,ue[16]=2==r.type?n[16]:ue,ue}function _c(n,r,s,a,l){let h=n.data[r];if(null===h)h=function dd(n,r,s,a,l){const h=Ks(),m=no(),C=n.data[r]=function Em(n,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=C),null!==h&&(m?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(n,r,s,a,l),function Io(){return yt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const m=function qs(){const n=yt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return vs(h,!0),h}function El(n,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function wc(n,r,s){pa(r);try{const a=n.viewQuery;null!==a&&pd(1,a,s);const l=n.template;null!==l&&Lh(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fh(n,r),n.staticViewQueries&&pd(2,n.viewQuery,s);const h=n.components;null!==h&&function Ev(n,r){for(let s=0;s<r.length;s++)Nm(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,io()}}function bc(n,r,s,a){const l=r[2];if(128!=(128&l)){pa(r);try{Xe(r),function $o(n){return yt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Lh(n,r,s,2,a);const m=3==(3&l);if(m){const L=n.preOrderCheckHooks;null!==L&&Se(r,L,null)}else{const L=n.preOrderHooks;null!==L&&We(r,L,0,null),pt(r,0)}if(function Mm(n){for(let r=gl(n);null!==r;r=nc(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(512&l[2])&&It(h,1),l[2]|=512}}}(r),function xm(n){for(let r=gl(n);null!==r;r=nc(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];R(a)&&bc(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&Fh(n,r),m){const L=n.contentCheckHooks;null!==L&&Se(r,L)}else{const L=n.contentHooks;null!==L&&We(r,L,1),pt(r,1)}!function hp(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)ks(~l);else{const h=l,m=s[++a],D=s[++a];Do(m,h),D(2,r[h])}}}finally{ks(-1)}}(n,r);const D=n.components;null!==D&&function fp(n,r){for(let s=0;s<r.length;s++)Mv(n,r[s])}(r,D);const C=n.viewQuery;if(null!==C&&pd(2,C,a),m){const L=n.viewCheckHooks;null!==L&&Se(r,L)}else{const L=n.viewHooks;null!==L&&We(r,L,2),pt(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,It(r[3],-1))}finally{io()}}}function Iv(n,r,s,a){const l=r[10],m=W(r);try{!m&&l.begin&&l.begin(),m&&wc(n,r,a),bc(n,r,s,a)}finally{!m&&l.end&&l.end()}}function Lh(n,r,s,a,l){const h=Gi(),m=2&a;try{ks(-1),m&&r.length>22&&Qf(n,r,22,!1),s(a,l)}finally{ks(h)}}function wm(n,r,s){if(Di(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,s[h],h)}}}function hd(n,r,s){!wr()||(function wp(n,r,s,a){const l=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||xi(s,r),Lo(a,r);const m=s.initialInputs;for(let D=l;D<h;D++){const C=n.data[D],L=Ti(C);L&&xv(r,s,C);const Y=it(r,n,D,s);Lo(Y,r),null!==m&&Dp(0,D-l,Y,C,0,m),L&&(N(s.index,r)[8]=Y)}}(n,r,s,ur(s,r)),128==(128&s.flags)&&function Sv(n,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,m=function Ho(){return yt.lFrame.currentDirectiveIndex}();try{ks(h);for(let D=a;D<l;D++){const C=n.data[D],L=r[D];Os(D),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&$h(C,L)}}finally{ks(-1),Os(m)}}(n,r,s))}function pp(n,r,s=ur){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],D=-1===m?s(r,n):n[m];n[l++]=D}}}function Vh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=gp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function gp(n,r,s,a,l,h,m,D,C,L){const Y=22+a,ue=Y+l,Le=function mp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:fr);return s}(Y,ue),Ye="function"==typeof L?L():L;return Le[1]={type:n,blueprint:Le,template:s,queries:null,viewQuery:D,declTNode:r,data:Le.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:Ye,incompleteFirstPass:!1}}function Il(n,r,s,a){const l=Zh(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&Sp(n).push(a,l.length-1))}function Uh(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function Im(n,r){const a=r.directiveEnd,l=n.data,h=r.attrs,m=[];let D=null,C=null;for(let L=r.directiveStart;L<a;L++){const Y=l[L],ue=Y.inputs,Le=null===h||yh(r)?null:Tp(ue,h);m.push(Le),D=Uh(ue,L,D),C=Uh(Y.outputs,L,C)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=D,r.outputs=C}function Hs(n,r,s,a,l,h,m,D){const C=ur(r,s);let Y,L=r.inputs;!D&&null!=L&&(Y=L[a])?(md(n,s,Y,a,l),yi(r)&&Bh(s,r.index)):3&r.type&&(a=function vp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=m?m(l,r.value||"",a):l,h.setProperty(C,a,l))}function Bh(n,r){const s=N(r,n);16&s[2]||(s[2]|=32)}function _p(n,r,s,a){let l=!1;if(wr()){const h=function Av(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const m=a[h];qf(s,m.selectors,!1)&&(l||(l=[]),Dt(xi(s,r),n,m.type),Ti(m)?(Hh(n,s),l.unshift(m)):l.push(m))}return l}(n,r,s),m=null===a?null:{"":-1};if(null!==h){l=!0,Ep(s,n.data.length,h.length);for(let Y=0;Y<h.length;Y++){const ue=h[Y];ue.providersResolver&&ue.providersResolver(ue)}let D=!1,C=!1,L=El(n,r,h.length,null);for(let Y=0;Y<h.length;Y++){const ue=h[Y];s.mergedAttrs=Kr(s.mergedAttrs,ue.hostAttrs),Cm(n,s,r,L,ue),bp(L,ue,m),null!==ue.contentQueries&&(s.flags|=8),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(s.flags|=128);const Le=ue.type.prototype;!D&&(Le.ngOnChanges||Le.ngOnInit||Le.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),D=!0),!C&&(Le.ngOnChanges||Le.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),C=!0),L++}Im(n,s)}m&&function Tm(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new Ze(-301,!1);a.push(r[l],h)}}}(s,a,m)}return s.mergedAttrs=Kr(s.mergedAttrs,s.attrs),l}function jh(n,r,s,a,l,h){const m=h.hostBindings;if(m){let D=n.hostBindingOpCodes;null===D&&(D=n.hostBindingOpCodes=[]);const C=~r.index;(function Cv(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=C&&D.push(C),D.push(a,l,m)}}function $h(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Hh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function bp(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Ti(r)&&(s[""]=n)}}function Ep(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Cm(n,r,s,a,l){n.data[a]=l;const h=l.factory||(l.factory=Si(l.type)),m=new Q(h,Ti(l),fc);n.blueprint[a]=m,s[a]=m,jh(n,r,0,a,El(n,s,l.hostVars,fr),l)}function xv(n,r,s){const a=ur(r,n),l=Vh(s),h=n[10],m=Gh(n,vc(n,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=m}function Ma(n,r,s,a,l,h){const m=ur(n,r);!function Ip(n,r,s,a,l,h,m){if(null==h)n.removeAttribute(r,l,s);else{const D=null==m?oe(h):m(h,a||"",l);n.setAttribute(r,l,D,s)}}(r[11],m,h,n.value,s,a,l)}function Dp(n,r,s,a,l,h){const m=h[r];if(null!==m){const D=a.setInput;for(let C=0;C<m.length;){const L=m[C++],Y=m[C++],ue=m[C++];null!==D?a.setInput(s,ue,L,Y):s[Y]=ue}}}function Tp(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Am(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Mv(n,r){const s=N(r,n);if(R(s)){const a=s[1];48&s[2]?bc(a,s,a.template,s[8]):s[5]>0&&fd(s)}}function fd(n){for(let a=gl(n);null!==a;a=nc(a))for(let l=10;l<a.length;l++){const h=a[l];if(512&h[2]){const m=h[1];bc(m,h,m.template,h[8])}else h[5]>0&&fd(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=N(s[a],n);R(l)&&l[5]>0&&fd(l)}}function Nm(n,r){const s=N(r,n),a=s[1];(function zh(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),wc(a,s,s[8])}function Gh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Cp(n){for(;n;){n[2]|=32;const r=Lu(n);if(ui(n)&&!r)return n;n=r}return null}function Kh(n){!function Rm(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=tc(s);if(null!==a){const l=a[1];Iv(l,a,l.template,s)}}}(n[8])}function pd(n,r,s){fo(0),r(n,s)}const qh=(()=>Promise.resolve(null))();function Zh(n){return n[7]||(n[7]=[])}function Sp(n){return n.cleanup||(n.cleanup=[])}function Ap(n,r){const s=n[9],a=s?s.get(Qc,null):null;a&&a.handleError(r)}function md(n,r,s,a,l){for(let h=0;h<s.length;){const m=s[h++],D=s[h++],C=r[m],L=n.data[m];null!==L.setInput?L.setInput(C,l,a,D):C[D]=l}}function Ec(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,h=0;if(null!==r)for(let m=0;m<r.length;m++){const D=r[m];"number"==typeof D?h=D:1==h?l=le(l,D):2==h&&(a=le(a,D+": "+r[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}function Yh(n,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Dr(h)),si(h))for(let D=10;D<h.length;D++){const C=h[D],L=C[1].firstChild;null!==L&&Yh(C[1],C,L,a)}const m=s.type;if(8&m)Yh(n,r,s.child,a);else if(32&m){const D=oh(s,r);let C;for(;C=D();)a.push(C)}else if(16&m){const D=hh(r,s);if(Array.isArray(D))a.push(...D);else{const C=Lu(r[16]);Yh(C[1],C,D,a,!0)}}s=l?s.projectionNext:s.next}return a}class yd{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Yh(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(si(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(uh(r,a),oa(s,a))}this._attachedToViewContainer=!1}Cu(this._lView[1],this._lView)}onDestroy(r){Il(this._lView[1],this._lView,null,r)}markForCheck(){Cp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Wh(n,r,s){const a=r[10];a.begin&&a.begin();try{bc(n,r,n.template,s)}catch(l){throw Ap(r,l),l}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sc(n,r){td(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=r}}class Pv extends yd{constructor(r){super(r),this._view=r}detectChanges(){Kh(this._view)}checkNoChanges(){}get context(){return null}}class Qh extends Yl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=ve(r);return new vd(s,this.ngModule)}}function km(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Ov{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,Sf,a);return l!==Sf||s===Sf?l:this.parentInjector.get(r,s,a)}}class vd extends Jd{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function uc(n){return n.map(lv).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return km(this.componentDef.inputs)}get outputs(){return km(this.componentDef.outputs)}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof ku?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new Ov(r,h):r,D=m.get(Tf,null);if(null===D)throw new Ze(407,!1);const C=m.get(By,null),L=D.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",ue=a?function yp(n,r,s){return n.selectRootElement(r,s===Xt.ShadowDom)}(L,a,this.componentDef.encapsulation):ic(D.createRenderer(null,this.componentDef),Y,function Fm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Y)),Le=this.componentDef.onPush?288:272,Ye=function jm(n,r){return{components:[],scheduler:n||Qy,clean:qh,playerHandler:r||null,flags:0}}(),Ct=gp(0,null,null,1,0,null,null,null,null,null),Wt=vc(null,Ct,Ye,Le,null,null,D,L,C,m,null);let yn,Sn;pa(Wt);try{const ir=function Um(n,r,s,a,l,h){const m=s[1];s[22]=n;const C=_c(m,22,2,"#host",null),L=C.mergedAttrs=r.hostAttrs;null!==L&&(Ec(C,L,!0),null!==n&&(kn(l,n,L),null!==C.classes&&ph(l,n,C.classes),null!==C.styles&&qg(l,n,C.styles)));const Y=a.createRenderer(n,r),ue=vc(s,Vh(r),null,r.onPush?32:16,s[22],C,a,Y,h||null,null,null);return m.firstCreatePass&&(Dt(xi(C,s),m,r.type),Hh(m,C),Ep(C,s.length,1)),Gh(s,ue),s[22]=ue}(ue,this.componentDef,Wt,D,L);if(ue)if(a)kn(L,ue,["ng-version",Cg.full]);else{const{attrs:kt,classes:Zn}=function lc(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===l?""!==h&&r.push(h,n[++a]):8===l&&s.push(h);else{if(!Ua(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);kt&&kn(L,ue,kt),Zn&&Zn.length>0&&ph(L,ue,Zn.join(" "))}if(Sn=Cs(Ct,22),void 0!==s){const kt=Sn.projection=[];for(let Zn=0;Zn<this.ngContentSelectors.length;Zn++){const Jr=s[Zn];kt.push(null!=Jr?Array.from(Jr):null)}}yn=function Bm(n,r,s,a,l){const h=s[1],m=function Tv(n,r,s){const a=xr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Cm(n,a,r,El(n,r,1,null),s),Im(n,a));const l=it(r,n,a.directiveStart,a);Lo(l,r);const h=ur(a,r);return h&&Lo(h,r),l}(h,s,r);if(a.components.push(m),n[8]=m,null!==l)for(const C of l)C(m,r);if(r.contentQueries){const C=xr();r.contentQueries(1,m,C.directiveStart)}const D=xr();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ks(D.index),jh(s[1],D,0,D.directiveStart,D.directiveEnd,r),$h(r,m)),m}(ir,this.componentDef,Wt,Ye,[Jh]),wc(Ct,Wt,null)}finally{io()}return new Lm(this.componentType,yn,Ql(Sn,Wt),Wt,Sn)}}class Lm extends class eu{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Pv(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;md(h[1],h,l,r,s),Bh(h,this._tNode.index)}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Jh(){const n=xr();Te(ut()[1],n)}function Xh(n){let r=function xp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(Ti(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ze(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const m=n;m.inputs=Mp(n.inputs),m.declaredInputs=Mp(n.declaredInputs),m.outputs=Mp(n.outputs);const D=l.hostBindings;D&&au(n,D);const C=l.viewQuery,L=l.contentQueries;if(C&&gs(n,C),L&&Bo(n,L),fe(n.inputs,l.inputs),fe(n.declaredInputs,l.declaredInputs),fe(n.outputs,l.outputs),Ti(l)&&l.data.animation){const Y=n.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const D=h[m];D&&D.ngInherit&&D(n),D===Xh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function _d(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Kr(l.hostAttrs,s=Kr(s,l.hostAttrs))}}(a)}function Mp(n){return n===Er?{}:n===Ht?[]:n}function gs(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Bo(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function au(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let wd=null;function $u(){if(!wd){const n=Ot.Symbol;if(n&&n.iterator)wd=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(wd=a)}}}return wd}function Dl(n){return!!ss(n)&&(Array.isArray(n)||!(n instanceof Map)&&$u()in n)}function ss(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ro(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Np(n,r,s,a){const l=ut();return Ro(l,Bs(),r)&&(Wn(),Ma(Br(),l,n,r,s,a)),Np}function Op(n,r,s,a,l,h,m,D){const C=ut(),L=Wn(),Y=n+22,ue=L.firstCreatePass?function Td(n,r,s,a,l,h,m,D,C){const L=r.consts,Y=_c(r,n,4,m||null,xe(L,D));_p(r,s,Y,xe(L,C)),Te(r,Y);const ue=Y.tViews=gp(2,Y,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,L);return null!==r.queries&&(r.queries.template(r,Y),ue.queries=r.queries.embeddedTView(Y)),Y}(Y,L,C,r,s,a,l,h,m):L.data[Y];vs(ue,!1);const Le=C[11].createComment("");ch(L,C,Le,ue),Lo(Le,C),Gh(C,C[Y]=Am(Le,C,Le,ue)),Hi(ue)&&hd(L,C,ue),null!=m&&pp(C,ue,D)}function Wm(n){return ki(function ra(){return yt.lFrame.contextLView}(),22+n)}function Fp(n,r,s){const a=ut();return Ro(a,Bs(),r)&&Hs(Wn(),Br(),a,n,r,a[11],s,!1),Fp}function Lp(n,r,s,a,l){const m=l?"class":"style";md(n,s,r.inputs[m],m,a)}function Ac(n,r,s,a){const l=ut(),h=Wn(),m=22+n,D=l[11],C=l[m]=ic(D,r,function G(){return yt.lFrame.currentNamespace}()),L=h.firstCreatePass?function Vp(n,r,s,a,l,h,m){const D=r.consts,L=_c(r,n,2,l,xe(D,h));return _p(r,s,L,xe(D,m)),null!==L.attrs&&Ec(L,L.attrs,!1),null!==L.mergedAttrs&&Ec(L,L.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,L),L}(m,h,l,0,r,s,a):h.data[m];vs(L,!0);const Y=L.mergedAttrs;null!==Y&&kn(D,C,Y);const ue=L.classes;null!==ue&&ph(D,C,ue);const Le=L.styles;return null!==Le&&qg(D,C,Le),64!=(64&L.flags)&&ch(h,l,C,L),0===function Hr(){return yt.lFrame.elementDepthCount}()&&Lo(C,l),function Gn(){yt.lFrame.elementDepthCount++}(),Hi(L)&&(hd(h,l,L),wm(h,L,l)),null!==a&&pp(l,L),Ac}function Cd(){let n=xr();no()?Ps():(n=n.parent,vs(n,!1));const r=n;!function Ai(){yt.lFrame.elementDepthCount--}();const s=Wn();return s.firstCreatePass&&(Te(s,n),Di(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function gt(n){return 0!=(16&n.flags)}(r)&&Lp(s,r,ut(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function vn(n){return 0!=(32&n.flags)}(r)&&Lp(s,r,ut(),r.stylesWithoutHost,!1),Cd}function Au(n,r,s,a){return Ac(n,r,s,a),Cd(),Au}function Sd(n,r,s){const a=ut(),l=Wn(),h=n+22,m=l.firstCreatePass?function Km(n,r,s,a,l){const h=r.consts,m=xe(h,a),D=_c(r,n,8,"ng-container",m);return null!==m&&Ec(D,m,!0),_p(r,s,D,xe(h,l)),null!==r.queries&&r.queries.elementStart(r,D),D}(h,l,a,r,s):l.data[h];vs(m,!0);const D=a[h]=a[11].createComment("");return ch(l,a,D,m),Lo(D,a),Hi(m)&&(hd(l,a,m),wm(l,m,a)),null!=s&&pp(a,m),Sd}function xc(){let n=xr();const r=Wn();return no()?Ps():(n=n.parent,vs(n,!1)),r.firstCreatePass&&(Te(r,n),Di(n)&&r.queries.elementEnd(n)),xc}function qm(){return ut()}function Mc(n){return!!n&&"function"==typeof n.then}function Ad(n){return!!n&&"function"==typeof n.subscribe}const Up=Ad;function Al(n,r,s,a){const l=ut(),h=Wn(),m=xr();return function zu(n,r,s,a,l,h,m,D){const C=Hi(a),Y=n.firstCreatePass&&Sp(n),ue=r[8],Le=Zh(r);let Ye=!0;if(3&a.type||D){const yn=ur(a,r),Sn=D?D(yn):yn,ir=Le.length,kt=D?Jr=>D(Dr(Jr[a.index])):a.index;let Zn=null;if(!D&&C&&(Zn=function sf(n,r,s,a){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===s&&l[h+1]===a){const D=r[7],C=l[h+2];return D.length>C?D[C]:null}"string"==typeof m&&(h+=2)}return null}(n,r,l,a.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=h,Zn.__ngLastListenerFn__=h,Ye=!1;else{h=Nc(a,r,ue,h,!1);const Jr=s.listen(Sn,l,h);Le.push(h,Jr),Y&&Y.push(l,kt,ir,ir+1)}}else h=Nc(a,r,ue,h,!1);const Ct=a.outputs;let Wt;if(Ye&&null!==Ct&&(Wt=Ct[l])){const yn=Wt.length;if(yn)for(let Sn=0;Sn<yn;Sn+=2){const Ms=r[Wt[Sn]][Wt[Sn+1]].subscribe(h),Fd=Le.length;Le.push(h,Ms),Y&&Y.push(l,a.index,Fd,-(Fd+1))}}}(h,l,l[11],m,n,r,0,a),Al}function uu(n,r,s,a){try{return!1!==s(a)}catch(l){return Ap(n,l),!1}}function Nc(n,r,s,a,l){return function h(m){if(m===Function)return a;Cp(2&n.flags?N(n.index,r):r);let C=uu(r,0,a,m),L=h.__ngNextListenerFn__;for(;L;)C=uu(r,0,L,m)&&C,L=L.__ngNextListenerFn__;return l&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function xu(n=1){return function sa(n){return(yt.lFrame.contextLView=function As(n,r){for(;n>0;)r=r[15],n--;return r}(n,yt.lFrame.contextLView))[8]}(n)}function Uv(n,r){let s=null;const a=function Zf(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let l=0;l<r.length;l++){const h=r[l];if("*"!==h){if(null===a?qf(n,h,!0):uv(a,h))return l}else s=l}return s}function Bp(n){const r=ut()[16][6];if(!r.projection){const a=r.projection=Je(n?n.length:1,null),l=a.slice();let h=r.child;for(;null!==h;){const m=n?Uv(h,n):0;null!==m&&(l[m]?l[m].projectionNext=h:a[m]=h,l[m]=h),h=h.next}}}function jp(n,r=0,s){const a=ut(),l=Wn(),h=_c(l,22+n,16,null,s||null);null===h.projection&&(h.projection=r),Ps(),64!=(64&h.flags)&&function sv(n,r,s){Wf(r[11],0,r,s,Hg(n,s,r),oc(s.parent||r[6],s,r))}(l,a,h)}function ry(n,r,s,a,l){const h=n[s+1],m=null===r;let D=a?Ba(h):su(h),C=!1;for(;0!==D&&(!1===C||m);){const Y=n[D+1];jv(n[D],r)&&(C=!0,n[D+1]=a?rp(Y):ud(Y)),D=a?Ba(Y):su(Y)}C&&(n[s+1]=a?ud(h):rp(h))}function jv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&_(n,r)>=0}const Js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zp(n){return n.substring(Js.key,Js.keyEnd)}function oy(n,r){const s=Js.textEnd;return s===r?-1:(r=Js.keyEnd=function Gu(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,Js.key=r,s),xl(n,r,s))}function xl(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Wp(n,r,s){return Na(n,r,s,!1),Wp}function Kp(n,r){return Na(n,r,null,!0),Kp}function cy(n){!function Ha(n,r,s,a){const l=Wn(),h=ws(2);l.firstUpdatePass&&af(l,null,h,a);const m=ut();if(s!==fr&&Ro(m,h,s)){const D=l.data[Gi()];if(Qp(D,a)&&!Ml(l,h)){let C=a?D.classesWithoutHost:D.stylesWithoutHost;null!==C&&(s=le(C,s||"")),Lp(l,D,m,s,a)}else!function h0(n,r,s,a,l,h,m,D){l===fr&&(l=Ht);let C=0,L=0,Y=0<l.length?l[0]:null,ue=0<h.length?h[0]:null;for(;null!==Y||null!==ue;){const Le=C<l.length?l[C+1]:void 0,Ye=L<h.length?h[L+1]:void 0;let Wt,Ct=null;Y===ue?(C+=2,L+=2,Le!==Ye&&(Ct=ue,Wt=Ye)):null===ue||null!==Y&&Y<ue?(C+=2,Ct=Y):(L+=2,Ct=ue,Wt=Ye),null!==Ct&&Zp(n,r,s,a,Ct,Wt,m,D),Y=C<l.length?l[C]:null,ue=L<h.length?h[L]:null}}(l,D,m,m[11],m[h+1],m[h+1]=function qv(n,r,s){if(null==s||""===s)return Ht;const a=[],l=Yo(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(n,r,s),a,h)}}(E,cu,n,!0)}function cu(n,r){for(let s=function sy(n){return function ay(n){Js.key=0,Js.keyEnd=0,Js.value=0,Js.valueEnd=0,Js.textEnd=n.length}(n),oy(n,xl(n,0,Js.textEnd))}(r);s>=0;s=oy(r,s))E(n,zp(r),!0)}function Na(n,r,s,a){const l=ut(),h=Wn(),m=ws(2);h.firstUpdatePass&&af(h,n,m,a),r!==fr&&Ro(l,m,r)&&Zp(h,h.data[Gi()],l,l[11],n,l[m+1]=function Yp(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ee(Yo(n)))),n}(r,s),a,m)}function Ml(n,r){return r>=n.expandoStartIndex}function af(n,r,s,a){const l=n.data;if(null===l[s+1]){const h=l[Gi()],m=Ml(n,s);Qp(h,a)&&null===r&&!m&&(r=!1),r=function zv(n,r,s,a){const l=Zs(n);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Md(s=qp(null,n,r,s,a),r.attrs,a),h=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==l)if(s=qp(l,n,r,s,a),null===h){let C=function Gv(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==su(a))return n[Ba(a)]}(n,r,a);void 0!==C&&Array.isArray(C)&&(C=qp(null,n,r,C[1],a),C=Md(C,r.attrs,a),function Wv(n,r,s,a){n[Ba(s?r.classBindings:r.styleBindings)]=a}(n,r,a,C))}else h=function Kv(n,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=Md(a,n[h].hostAttrs,s);return Md(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function Bv(n,r,s,a,l,h){let m=h?r.classBindings:r.styleBindings,D=Ba(m),C=su(m);n[a]=s;let Y,L=!1;if(Array.isArray(s)){const ue=s;Y=ue[1],(null===Y||_(ue,Y)>0)&&(L=!0)}else Y=s;if(l)if(0!==C){const Le=Ba(n[D+1]);n[a+1]=pc(Le,D),0!==Le&&(n[Le+1]=Bu(n[Le+1],a)),n[D+1]=function Ah(n,r){return 131071&n|r<<17}(n[D+1],a)}else n[a+1]=pc(D,0),0!==D&&(n[D+1]=Bu(n[D+1],a)),D=a;else n[a+1]=pc(C,0),0===D?D=a:n[C+1]=Bu(n[C+1],a),C=a;L&&(n[a+1]=ud(n[a+1])),ry(n,Y,a,!0),ry(n,Y,a,!1),function ny(n,r,s,a,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&_(h,r)>=0&&(s[a+1]=rp(s[a+1]))}(r,Y,n,a,h),m=pc(D,C),h?r.classBindings=m:r.styleBindings=m}(l,h,r,s,m,a)}}function qp(n,r,s,a,l){let h=null;const m=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<m&&(h=r[D],a=Md(a,h.hostAttrs,l),h!==n);)D++;return null!==n&&(s.directiveStylingLast=D),a}function Md(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?l=m:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),E(n,m,!!s||r[++h]))}return void 0===n?null:n}function Zp(n,r,s,a,l,h,m,D){if(!(3&r.type))return;const C=n.data,L=C[D+1];uf(function xh(n){return 1==(1&n)}(L)?dy(C,r,s,l,su(L),m):void 0)||(uf(h)||function Sh(n){return 2==(2&n)}(L)&&(h=dy(C,null,s,l,D,m)),function fh(n,r,s,a,l){if(r)l?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Vo.DashCase;null==l?n.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Vo.Important),n.setStyle(s,a,l,h))}}(a,m,ts(Gi(),s),l,h))}function dy(n,r,s,a,l,h){const m=null===r;let D;for(;l>0;){const C=n[l],L=Array.isArray(C),Y=L?C[1]:C,ue=null===Y;let Le=s[l+1];Le===fr&&(Le=ue?Ht:void 0);let Ye=ue?b(Le,a):Y===a?Le:void 0;if(L&&!uf(Ye)&&(Ye=b(C,a)),uf(Ye)&&(D=Ye,m))return D;const Ct=n[l+1];l=m?Ba(Ct):su(Ct)}if(null!==r){let C=h?r.residualClasses:r.residualStyles;null!=C&&(D=b(C,a))}return D}function uf(n){return void 0!==n}function Qp(n,r){return 0!=(n.flags&(r?16:32))}function Jp(n,r=""){const s=ut(),a=Wn(),l=n+22,h=a.firstCreatePass?_c(a,l,1,r,null):a.data[l],m=s[l]=function Uo(n,r){return n.createText(r)}(s[11],r);ch(a,s,m,h),vs(h,!1)}function Nl(n){return Pc("",n,""),Nl}function Pc(n,r,s){const a=ut(),l=function Dc(n,r,s,a){return Ro(n,Bs(),s)?r+oe(s)+a:fr}(a,n,r,s);return l!==fr&&function ha(n,r,s){const a=ts(r,n);!function Uf(n,r,s){n.setValue(r,s)}(n[11],a,s)}(a,Gi(),l),Pc}function og(n,r,s){const a=ut();return Ro(a,Bs(),r)&&Hs(Wn(),Br(),a,n,r,a[11],s,!0),og}function df(n,r,s){const a=ut();if(Ro(a,Bs(),r)){const h=Wn(),m=Br();Hs(h,m,a,n,r,function gd(n,r,s){return(null===n||Ti(n))&&(s=function na(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}(Zs(h.data),m,a),s,!0)}return df}const Zu=void 0;var t_=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function by(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Ol={};function ag(n){const r=function e(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=lg(r);if(s)return s;const a=r.split("-")[0];if(s=lg(a),s)return s;if("en"===a)return t_;throw new Ze(701,!1)}function ug(n){return ag(n)[i.PluralCase]}function lg(n){return n in Ol||(Ol[n]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[n]),Ol[n]}var i=(()=>((i=i||{})[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i))();const u="en-US";let te=u;function s_(n,r,s,a,l){if(n=ce(n),Array.isArray(n))for(let h=0;h<n.length;h++)s_(n[h],r,s,a,l);else{const h=Wn(),m=ut();let D=Va(n)?n:ce(n.provide),C=ql(n);const L=xr(),Y=1048575&L.providerIndexes,ue=L.directiveStart,Le=L.providerIndexes>>20;if(Va(n)||!n.multi){const Ye=new Q(C,l,fc),Ct=a_(D,r,l?Y:Y+Le,ue);-1===Ct?(Dt(xi(L,m),h,D),o_(h,n,r.length),r.push(D),L.directiveStart++,L.directiveEnd++,l&&(L.providerIndexes+=1048576),s.push(Ye),m.push(Ye)):(s[Ct]=Ye,m[Ct]=Ye)}else{const Ye=a_(D,r,Y+Le,ue),Ct=a_(D,r,Y,Y+Le),Wt=Ye>=0&&s[Ye],yn=Ct>=0&&s[Ct];if(l&&!yn||!l&&!Wt){Dt(xi(L,m),h,D);const Sn=function Gb(n,r,s,a,l){const h=new Q(n,s,fc);return h.multi=[],h.index=r,h.componentProviders=0,O0(h,l,a&&!s),h}(l?zb:Hb,s.length,l,a,C);!l&&yn&&(s[Ct].providerFactory=Sn),o_(h,n,r.length,0),r.push(D),L.directiveStart++,L.directiveEnd++,l&&(L.providerIndexes+=1048576),s.push(Sn),m.push(Sn)}else o_(h,n,Ye>-1?Ye:Ct,O0(s[l?Ct:Ye],C,!l&&a));!l&&a&&yn&&s[Ct].componentProviders++}}}function o_(n,r,s,a){const l=Va(r),h=function Zc(n){return!!n.useClass}(r);if(l||h){const C=(h?ce(r.useClass):r).prototype.ngOnDestroy;if(C){const L=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Y=L.indexOf(s);-1===Y?L.push(s,[a,C]):L[Y+1].push(a,C)}else L.push(s,C)}}}function O0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function a_(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function Hb(n,r,s,a){return u_(this.multi,[])}function zb(n,r,s,a){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,D=it(s,s[1],this.providerFactory.index,a);h=D.slice(0,m),u_(l,h);for(let C=m;C<D.length;C++)h.push(D[C])}else h=[],u_(l,h);return h}function u_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function k0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function $b(n,r,s){const a=Wn();if(a.firstCreatePass){const l=Ti(n);s_(s,a.data,a.blueprint,l,!0),s_(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class ff{}class F0{}function Wb(n,r){return new L0(n,r??null)}class L0 extends ff{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qh(this);const a=At(r);this._bootstrapComponents=Xo(a.bootstrap),this._r3Injector=cc(r,s,[{provide:ff,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],ee(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class l_ extends F0{constructor(r){super(),this.moduleType=r}create(r){return new L0(this.moduleType,r)}}class Kb extends ff{constructor(r,s,a){super(),this.componentFactoryResolver=new Qh(this),this.instance=null;const l=new bf([...r,{provide:ff,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],s||Qd(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function c_(n,r,s=null){return new Kb(n,r,s).injector}function z0(n,r,s,a,l,h){const m=r+s;return Ro(n,m,l)?function Su(n,r,s){return n[r]=s}(n,m+1,h?a.call(h,l):a(l)):function fg(n,r){const s=n[r];return s===fr?void 0:s}(n,m+1)}function Z0(n,r){const s=Wn();let a;const l=n+22;s.firstCreatePass?(a=function pE(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=Si(a.type)),m=Bn(fc);try{const D=cn(!1),C=h();return cn(D),function kp(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,ut(),l,C),C}finally{Bn(m)}}function Y0(n,r,s){const a=n+22,l=ut(),h=ki(l,a);return function pg(n,r){return n[1].data[r].pure}(l,a)?z0(l,function ei(){const n=yt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,h.transform,s,h):h.transform(s)}function h_(n){return r=>{setTimeout(n,void 0,r)}}const Qu=class _E extends g.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),m=a;if(r&&"object"==typeof r){const C=r;l=C.next?.bind(C),h=C.error?.bind(C),m=C.complete?.bind(C)}this.__isAsync&&(h=h_(h),l&&(l=h_(l)),m&&(m=h_(m)));const D=super.subscribe({next:l,error:h,complete:m});return r instanceof F.w&&r.add(D),D}};function wE(){return this._results[$u()]()}class Iy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=$u(),a=Iy.prototype;a[s]||(a[s]=wE)}get changes(){return this._changes||(this._changes=new Qu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=js(r);(this._changesDetected=!function Ta(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gg=(()=>{class n{}return n.__NG_ELEMENT_ID__=IE,n})();const bE=gg,EE=class extends bE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=vc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(a)),wc(a,l,r),new yd(l)}};function IE(){return Dy(xr(),ut())}function Dy(n,r){return 4&n.type?new EE(r,n,Ql(n,r)):null}let Ty=(()=>{class n{}return n.__NG_ELEMENT_ID__=DE,n})();function DE(){return X0(xr(),ut())}const TE=Ty,Q0=class extends TE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){const r=ma(this._hostTNode,this._hostLView);if(di(r)){const s=Wi(r,this._hostLView),a=qr(r);return new Go(s[1].data[a+8],s)}return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=J0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const m=r.createEmbeddedView(s||{},h);return this.insert(m,l),m}createComponent(r,s,a,l,h){const m=r&&!function Da(n){return"function"==typeof n}(r);let D;if(m)D=s;else{const ue=s||{};D=ue.index,a=ue.injector,l=ue.projectableNodes,h=ue.environmentInjector||ue.ngModuleRef}const C=m?r:new vd(ve(r)),L=a||this.parentInjector;if(!h&&null==C.ngModule){const Le=(m?L:this.parentInjector).get(ku,null);Le&&(h=Le)}const Y=C.create(L,l,void 0,h);return this.insert(Y.hostView,D),Y}insert(r,s){const a=r._lView,l=a[1];if(function J(n){return si(n[3])}(a)){const Y=this.indexOf(r);if(-1!==Y)this.detach(Y);else{const ue=a[3],Le=new Q0(ue,ue[6],ue[3]);Le.detach(Le.indexOf(r))}}const h=this._adjustIndex(s),m=this._lContainer;!function yl(n,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],qo(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function nv(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(m,r);const D=r[19];null!==D&&D.insertView(n),r[2]|=64}(l,a,m,h);const D=Qs(h,m),C=a[11],L=ed(C,m[7]);return null!==L&&function Vu(n,r,s,a,l,h){a[0]=l,a[6]=r,td(n,a,s,1,l,h)}(l,m[6],C,a,L,D),r.attachToViewContainerRef(),qo(f_(m),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=J0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=uh(this._lContainer,s);a&&(oa(f_(this._lContainer),s),Cu(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=uh(this._lContainer,s);return a&&null!=oa(f_(this._lContainer),s)?new yd(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function J0(n){return n[8]}function f_(n){return n[8]||(n[8]=[])}function X0(n,r){let s;const a=r[n.index];if(si(a))s=a;else{let l;if(8&n.type)l=Dr(a);else{const h=r[11];l=h.createComment("");const m=ur(n,r);nu(h,ed(h,m),l,function _l(n,r){return n.nextSibling(r)}(h,m),!1)}r[n.index]=s=Am(a,r,l,n),Gh(r,s)}return new Q0(s,n,r)}class p_{constructor(r){this.queryList=r,this.matches=null}clone(){return new p_(this.queryList)}setDirty(){this.queryList.setDirty()}}class g_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const m=s.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new g_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==uw(r,s).matches&&this.queries[s].setDirty()}}class ew{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class m_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new m_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class y_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new y_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,AE(s,h)),this.matchTNodeWithReadOption(r,s,Zt(s,r,h,!1,!1))}else a===gg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Zt(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Eu||l===Ty||l===gg&&4&s.type)this.addMatch(s.index,-2);else{const h=Zt(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function AE(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function ME(n,r,s,a){return-1===s?function xE(n,r){return 11&n.type?Ql(n,r):4&n.type?Dy(n,r):null}(r,n):-2===s?function NE(n,r,s){return s===Eu?Ql(r,n):s===gg?Dy(r,n):s===Ty?X0(r,n):void 0}(n,r,a):it(n,n[1],s,r)}function tw(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=n.data,m=s.matches,D=[];for(let C=0;C<m.length;C+=2){const L=m[C];D.push(L<0?null:ME(r,h[L],m[C+1],s.metadata.read))}l.matches=D}return l.matches}function v_(n,r,s,a){const l=n.queries.getByIndex(s),h=l.matches;if(null!==h){const m=tw(n,r,l,s);for(let D=0;D<h.length;D+=2){const C=h[D];if(C>0)a.push(m[D/2]);else{const L=h[D+1],Y=r[-C];for(let ue=10;ue<Y.length;ue++){const Le=Y[ue];Le[17]===Le[3]&&v_(Le[1],Le,L,a)}if(null!==Y[9]){const ue=Y[9];for(let Le=0;Le<ue.length;Le++){const Ye=ue[Le];v_(Ye[1],Ye,L,a)}}}}}return a}function nw(n){const r=ut(),s=Wn(),a=ti();fo(a+1);const l=uw(s,a);if(n.dirty&&W(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?v_(s,r,a,[]):tw(s,r,l,a);n.reset(h,Df),n.notifyOnChanges()}return!0}return!1}function rw(n,r,s){const a=Wn();a.firstCreatePass&&(aw(a,new ew(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),ow(a,ut(),r)}function iw(n,r,s,a){const l=Wn();if(l.firstCreatePass){const h=xr();aw(l,new ew(r,s,a),h.index),function PE(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}ow(l,ut(),s)}function sw(){return function RE(n,r){return n[19].queries[r].queryList}(ut(),ti())}function ow(n,r,s){const a=new Iy(4==(4&s));Il(n,r,a,a.destroy),null===r[19]&&(r[19]=new g_),r[19].queries.push(new p_(a))}function aw(n,r,s){null===n.queries&&(n.queries=new m_),n.queries.track(new y_(r,s))}function uw(n,r){return n.queries.getByIndex(r)}function gf(n){const r=ve(n)||_e(n)||rt(n);return null!==r&&r.standalone}function Sy(...n){}const Sw=new Rr("Application Initializer");let Ay=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Sy,this.reject=Sy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Mc(h))s.push(h);else if(Up(h)){const m=new Promise((D,C)=>{h.subscribe({complete:D,error:C})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(K(Sw,8))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Aw=new Rr("AppId",{providedIn:"root",factory:function xw(){return`${I_()}${I_()}${I_()}`}});function I_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mw=new Rr("Platform Initializer"),eI=new Rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nw=new Rr("appBootstrapListener"),tI=new Rr("AnimationModuleType");let nI=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xy=new Rr("LocaleId",{providedIn:"root",factory:()=>Be(xy,Qt.Optional|Qt.SkipSelf)||function rI(){return typeof $localize<"u"&&$localize.locale||u}()}),iI=new Rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let oI=(()=>{class n{compileModuleSync(s){return new l_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Xo(At(s).declarations).reduce((m,D)=>{const C=ve(D);return C&&m.push(new vd(C)),m},[]);return new sI(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lI=(()=>Promise.resolve(0))();function D_(n){typeof Zone>"u"?lI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class za{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qu(!1),this.onMicrotaskEmpty=new Qu(!1),this.onStable=new Qu(!1),this.onError=new Qu(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function cI(){let n=Ot.requestAnimationFrame,r=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function fI(n){const r=()=>{!function hI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,C_(n),n.isCheckStableRunning=!0,T_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),C_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,m,D)=>{try{return Ow(n),s.invokeTask(l,h,m,D)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),kw(n)}},onInvoke:(s,a,l,h,m,D,C)=>{try{return Ow(n),s.invoke(l,h,m,D,C)}finally{n.shouldCoalesceRunChangeDetection&&r(),kw(n)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,C_(n),T_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!za.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(za.isInAngularZone())throw new Ze(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,r,dI,Sy,Sy);try{return h.runTask(m,s,a)}finally{h.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const dI={};function T_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ow(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kw(n){n._nesting--,T_(n)}class pI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qu,this.onMicrotaskEmpty=new Qu,this.onStable=new Qu,this.onError=new Qu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const Fw=new Rr(""),Lw=new Rr("");let S_,gI=(()=>{class n{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S_||(function mI(n){S_=n}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{za.assertNotInAngularZone(),D_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())D_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(K(za),K(Vw),K(Lw))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),Vw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return S_?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),kc=null;const Uw=new Rr("AllowMultipleToken"),A_=new Rr("PlatformDestroyListeners");class _I{constructor(r,s){this.name=r,this.token=s}}function jw(n,r,s=[]){const a=`Platform: ${r}`,l=new Rr(a);return(h=[])=>{let m=x_();if(!m||m.injector.get(Uw,!1)){const D=[...s,...h,{provide:l,useValue:!0}];n?n(D):function wI(n){if(kc&&!kc.get(Uw,!1))throw new Ze(400,!1);kc=n;const r=n.get(Hw);(function Bw(n){const r=n.get(Mw,null);r&&r.forEach(s=>s())})(n)}(function $w(n=[],r){return ru.create({name:r,providers:[{provide:Kl,useValue:"platform"},{provide:A_,useValue:new Set([()=>kc=null])},...n]})}(D,a))}return function EI(n){const r=x_();if(!r)throw new Ze(401,!1);return r}()}}function x_(){return kc?.get(Hw)??null}let Hw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function II(n,r){let s;return s="noop"===n?new pI:("zone.js"===n?void 0:n)||new za(r),s}(a?.ngZone,function zw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:za,useValue:l}];return l.run(()=>{const m=ru.create({providers:h,parent:this.injector,name:s.moduleType.name}),D=s.create(m),C=D.injector.get(Qc,null);if(!C)throw new Ze(402,!1);return l.runOutsideAngular(()=>{const L=l.onError.subscribe({next:Y=>{C.handleError(Y)}});D.onDestroy(()=>{Ny(this._modules,D),L.unsubscribe()})}),function Gw(n,r,s){try{const a=s();return Mc(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(C,l,()=>{const L=D.injector.get(Ay);return L.runInitializers(),L.donePromise.then(()=>(function Ie(n){Ln(n,"Expected localeId to be defined"),"string"==typeof n&&(te=n.toLowerCase().replace(/_/g,"-"))}(D.injector.get(xy,u)||u),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,a=[]){const l=Ww({},a);return function yI(n,r,s){const a=new l_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(My);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Ze(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(A_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(K(ru))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ww(n,r){return Array.isArray(r)?r.reduce(Ww,n):{...n,...r}}let My=(()=>{class n{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new V.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),m=new V.y(D=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{za.assertNotInAngularZone(),D_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{za.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{C.unsubscribe(),L.unsubscribe()}});this.isStable=(0,ye.T)(h,m.pipe((0,me.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof Jd;if(!this._injector.get(Ay).done)throw!l&&gf(s),new Ze(405,false);let m;m=l?s:this._injector.get(Yl).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const D=function vI(n){return n.isBoundToModule}(m)?void 0:this._injector.get(ff),L=m.create(ru.NULL,[],a||m.selector,D),Y=L.location.nativeElement,ue=L.injector.get(Fw,null);return ue?.registerApplication(Y),L.onDestroy(()=>{this.detachView(L.hostView),Ny(this.components,L),ue?.unregisterApplication(Y)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ny(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Nw,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ny(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ze(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(K(za),K(ku),K(Qc))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ny(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let qw=!0,Zw=!1;function TI(){return Zw=!0,qw}function CI(){if(Zw)throw new Error("Cannot enable prod mode after platform setup.");qw=!1}let SI=(()=>{class n{}return n.__NG_ELEMENT_ID__=AI,n})();function AI(n){return function xI(n,r,s){if(yi(n)&&!s){const a=N(n.index,r);return new yd(a,a)}return 47&n.type?new yd(r[16],r):null}(xr(),ut(),16==(16&n))}class Xw{constructor(){}supports(r){return Dl(r)}create(r){return new kI(r)}}const OI=(n,r)=>r;class kI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const m=!a||s&&s.currentIndex<tb(a,l,h)?s:a,D=tb(m,l,h),C=m.currentIndex;if(m===a)l--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)l++;else{h||(h=[]);const L=D-l,Y=C-l;if(L!=Y){for(let Le=0;Le<L;Le++){const Ye=Le<h.length?h[Le]:h[Le]=0,Ct=Ye+Le;Y<=Ct&&Ct<L&&(h[Le]=Ye+1)}h[m.previousIndex]=Y-L}}D!==C&&r(m,D,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Dl(r))throw new Ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)h=r[D],m=this._trackByFn(D,h),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,h,m,D)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,D),a=!0),s=s._next}else l=0,function Vv(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[$u()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{m=this._trackByFn(l,D),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,D,m,l)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,m,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new FI(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class FI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class eb{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new LI,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class nb{constructor(){}supports(r){return r instanceof Map||ss(r)}create(){return new VI}}class VI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||ss(r)))throw new Ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const a=new UI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class UI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new O_([new Xw])}let O_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||rb()),deps:[[n,new wi,new En]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Ze(901,!1)}}return n.\u0275prov=at({token:n,providedIn:"root",factory:rb}),n})();function ib(){return new k_([new nb])}let k_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||ib()),deps:[[n,new wi,new En]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Ze(901,!1)}}return n.\u0275prov=at({token:n,providedIn:"root",factory:ib}),n})();const $I=jw(null,"core",[]);let HI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(K(My))},n.\u0275mod=nn({type:n}),n.\u0275inj=Ke({}),n})();function zI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(Kt,Ge,U)=>{U.d(Ge,{Dx:()=>or,H7:()=>At,b2:()=>$r,q6:()=>Qt,se:()=>ft});var g=U(6895),F=U(4650);class V extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends V{static makeCurrent(){(0,g.HT)(new ye)}onAndCancel(be,ae,Ee){return be.addEventListener(ae,Ee,!1),()=>{be.removeEventListener(ae,Ee,!1)}}dispatchEvent(be,ae){be.dispatchEvent(ae)}remove(be){be.parentNode&&be.parentNode.removeChild(be)}createElement(be,ae){return(ae=ae||this.getDefaultDocument()).createElement(be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(be){return be.nodeType===Node.ELEMENT_NODE}isShadowRoot(be){return be instanceof DocumentFragment}getGlobalEventTarget(be,ae){return"window"===ae?window:"document"===ae?be:"body"===ae?be.body:null}getBaseHref(be){const ae=function ne(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==ae?null:function ee(Ne){fe=fe||document.createElement("a"),fe.setAttribute("href",Ne);const be=fe.pathname;return"/"===be.charAt(0)?be:`/${be}`}(ae)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(be){return(0,g.Mx)(document.cookie,be)}}let fe,me=null;const le=new F.OlP("TRANSITION_ID"),se=[{provide:F.ip1,useFactory:function X(Ne,be,ae){return()=>{ae.get(F.CZH).donePromise.then(()=>{const Ee=(0,g.q)(),dt=be.querySelectorAll(`style[ng-transition="${Ne}"]`);for(let Bt=0;Bt<dt.length;Bt++)Ee.remove(dt[Bt])})}},deps:[le,g.K0,F.zs3],multi:!0}];let Ve=(()=>{class Ne{build(){return new XMLHttpRequest}}return Ne.\u0275fac=function(ae){return new(ae||Ne)},Ne.\u0275prov=F.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const He=new F.OlP("EventManagerPlugins");let Ze=(()=>{class Ne{constructor(ae,Ee){this._zone=Ee,this._eventNameToPlugin=new Map,ae.forEach(dt=>dt.manager=this),this._plugins=ae.slice().reverse()}addEventListener(ae,Ee,dt){return this._findPluginFor(Ee).addEventListener(ae,Ee,dt)}addGlobalEventListener(ae,Ee,dt){return this._findPluginFor(Ee).addGlobalEventListener(ae,Ee,dt)}getZone(){return this._zone}_findPluginFor(ae){const Ee=this._eventNameToPlugin.get(ae);if(Ee)return Ee;const dt=this._plugins;for(let Bt=0;Bt<dt.length;Bt++){const un=dt[Bt];if(un.supports(ae))return this._eventNameToPlugin.set(ae,un),un}throw new Error(`No event manager plugin found for event ${ae}`)}}return Ne.\u0275fac=function(ae){return new(ae||Ne)(F.LFG(He),F.LFG(F.R0b))},Ne.\u0275prov=F.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class et{constructor(be){this._doc=be}addGlobalEventListener(be,ae,Ee){const dt=(0,g.q)().getGlobalEventTarget(this._doc,be);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${ae}`);return this.addEventListener(dt,ae,Ee)}}let oe=(()=>{class Ne{constructor(){this._stylesSet=new Set}addStyles(ae){const Ee=new Set;ae.forEach(dt=>{this._stylesSet.has(dt)||(this._stylesSet.add(dt),Ee.add(dt))}),this.onStylesAdded(Ee)}onStylesAdded(ae){}getAllStyles(){return Array.from(this._stylesSet)}}return Ne.\u0275fac=function(ae){return new(ae||Ne)},Ne.\u0275prov=F.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),Fe=(()=>{class Ne extends oe{constructor(ae){super(),this._doc=ae,this._hostNodes=new Map,this._hostNodes.set(ae.head,[])}_addStylesToHost(ae,Ee,dt){ae.forEach(Bt=>{const un=this._doc.createElement("style");un.textContent=Bt,dt.push(Ee.appendChild(un))})}addHost(ae){const Ee=[];this._addStylesToHost(this._stylesSet,ae,Ee),this._hostNodes.set(ae,Ee)}removeHost(ae){const Ee=this._hostNodes.get(ae);Ee&&Ee.forEach(Ft),this._hostNodes.delete(ae)}onStylesAdded(ae){this._hostNodes.forEach((Ee,dt)=>{this._addStylesToHost(ae,dt,Ee)})}ngOnDestroy(){this._hostNodes.forEach(ae=>ae.forEach(Ft))}}return Ne.\u0275fac=function(ae){return new(ae||Ne)(F.LFG(g.K0))},Ne.\u0275prov=F.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();function Ft(Ne){(0,g.q)().remove(Ne)}const en={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vt=/%COMP%/g;function Vt(Ne,be,ae){for(let Ee=0;Ee<be.length;Ee++){let dt=be[Ee];Array.isArray(dt)?Vt(Ne,dt,ae):(dt=dt.replace(vt,Ne),ae.push(dt))}return ae}function Nt(Ne){return be=>{if("__ngUnwrap__"===be)return Ne;!1===Ne(be)&&(be.preventDefault(),be.returnValue=!1)}}let ft=(()=>{class Ne{constructor(ae,Ee,dt){this.eventManager=ae,this.sharedStylesHost=Ee,this.appId=dt,this.rendererByCompId=new Map,this.defaultRenderer=new Fn(ae)}createRenderer(ae,Ee){if(!ae||!Ee)return this.defaultRenderer;switch(Ee.encapsulation){case F.ifc.Emulated:{let dt=this.rendererByCompId.get(Ee.id);return dt||(dt=new Ln(this.eventManager,this.sharedStylesHost,Ee,this.appId),this.rendererByCompId.set(Ee.id,dt)),dt.applyToHost(ae),dt}case 1:case F.ifc.ShadowDom:return new Yt(this.eventManager,this.sharedStylesHost,ae,Ee);default:if(!this.rendererByCompId.has(Ee.id)){const dt=Vt(Ee.id,Ee.styles,[]);this.sharedStylesHost.addStyles(dt),this.rendererByCompId.set(Ee.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ne.\u0275fac=function(ae){return new(ae||Ne)(F.LFG(Ze),F.LFG(Fe),F.LFG(F.AFp))},Ne.\u0275prov=F.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class Fn{constructor(be){this.eventManager=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(be,ae){return ae?document.createElementNS(en[ae]||ae,be):document.createElement(be)}createComment(be){return document.createComment(be)}createText(be){return document.createTextNode(be)}appendChild(be,ae){(xn(be)?be.content:be).appendChild(ae)}insertBefore(be,ae,Ee){be&&(xn(be)?be.content:be).insertBefore(ae,Ee)}removeChild(be,ae){be&&be.removeChild(ae)}selectRootElement(be,ae){let Ee="string"==typeof be?document.querySelector(be):be;if(!Ee)throw new Error(`The selector "${be}" did not match any elements`);return ae||(Ee.textContent=""),Ee}parentNode(be){return be.parentNode}nextSibling(be){return be.nextSibling}setAttribute(be,ae,Ee,dt){if(dt){ae=dt+":"+ae;const Bt=en[dt];Bt?be.setAttributeNS(Bt,ae,Ee):be.setAttribute(ae,Ee)}else be.setAttribute(ae,Ee)}removeAttribute(be,ae,Ee){if(Ee){const dt=en[Ee];dt?be.removeAttributeNS(dt,ae):be.removeAttribute(`${Ee}:${ae}`)}else be.removeAttribute(ae)}addClass(be,ae){be.classList.add(ae)}removeClass(be,ae){be.classList.remove(ae)}setStyle(be,ae,Ee,dt){dt&(F.JOm.DashCase|F.JOm.Important)?be.style.setProperty(ae,Ee,dt&F.JOm.Important?"important":""):be.style[ae]=Ee}removeStyle(be,ae,Ee){Ee&F.JOm.DashCase?be.style.removeProperty(ae):be.style[ae]=""}setProperty(be,ae,Ee){be[ae]=Ee}setValue(be,ae){be.nodeValue=ae}listen(be,ae,Ee){return"string"==typeof be?this.eventManager.addGlobalEventListener(be,ae,Nt(Ee)):this.eventManager.addEventListener(be,ae,Nt(Ee))}}function xn(Ne){return"TEMPLATE"===Ne.tagName&&void 0!==Ne.content}class Ln extends Fn{constructor(be,ae,Ee,dt){super(be),this.component=Ee;const Bt=Vt(dt+"-"+Ee.id,Ee.styles,[]);ae.addStyles(Bt),this.contentAttr=function ze(Ne){return"_ngcontent-%COMP%".replace(vt,Ne)}(dt+"-"+Ee.id),this.hostAttr=function ot(Ne){return"_nghost-%COMP%".replace(vt,Ne)}(dt+"-"+Ee.id)}applyToHost(be){super.setAttribute(be,this.hostAttr,"")}createElement(be,ae){const Ee=super.createElement(be,ae);return super.setAttribute(Ee,this.contentAttr,""),Ee}}class Yt extends Fn{constructor(be,ae,Ee,dt){super(be),this.sharedStylesHost=ae,this.hostEl=Ee,this.shadowRoot=Ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Bt=Vt(dt.id,dt.styles,[]);for(let un=0;un<Bt.length;un++){const jn=document.createElement("style");jn.textContent=Bt[un],this.shadowRoot.appendChild(jn)}}nodeOrShadowRoot(be){return be===this.hostEl?this.shadowRoot:be}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(be,ae){return super.appendChild(this.nodeOrShadowRoot(be),ae)}insertBefore(be,ae,Ee){return super.insertBefore(this.nodeOrShadowRoot(be),ae,Ee)}removeChild(be,ae){return super.removeChild(this.nodeOrShadowRoot(be),ae)}parentNode(be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(be)))}}let lr=(()=>{class Ne extends et{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,Ee,dt){return ae.addEventListener(Ee,dt,!1),()=>this.removeEventListener(ae,Ee,dt)}removeEventListener(ae,Ee,dt){return ae.removeEventListener(Ee,dt)}}return Ne.\u0275fac=function(ae){return new(ae||Ne)(F.LFG(g.K0))},Ne.\u0275prov=F.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Tn=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ue={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ke={alt:Ne=>Ne.altKey,control:Ne=>Ne.ctrlKey,meta:Ne=>Ne.metaKey,shift:Ne=>Ne.shiftKey};let Lt=(()=>{class Ne extends et{constructor(ae){super(ae)}supports(ae){return null!=Ne.parseEventName(ae)}addEventListener(ae,Ee,dt){const Bt=Ne.parseEventName(Ee),un=Ne.eventCallback(Bt.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(ae,Bt.domEventName,un))}static parseEventName(ae){const Ee=ae.toLowerCase().split("."),dt=Ee.shift();if(0===Ee.length||"keydown"!==dt&&"keyup"!==dt)return null;const Bt=Ne._normalizeKey(Ee.pop());let un="";if(Tn.forEach(wn=>{const os=Ee.indexOf(wn);os>-1&&(Ee.splice(os,1),un+=wn+".")}),un+=Bt,0!=Ee.length||0===Bt.length)return null;const jn={};return jn.domEventName=dt,jn.fullKey=un,jn}static getEventFullKey(ae){let Ee="",dt=function pn(Ne){let be=Ne.key;if(null==be){if(be=Ne.keyIdentifier,null==be)return"Unidentified";be.startsWith("U+")&&(be=String.fromCharCode(parseInt(be.substring(2),16)),3===Ne.location&&Ue.hasOwnProperty(be)&&(be=Ue[be]))}return at[be]||be}(ae);return dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),Tn.forEach(Bt=>{Bt!=dt&&(0,Ke[Bt])(ae)&&(Ee+=Bt+".")}),Ee+=dt,Ee}static eventCallback(ae,Ee,dt){return Bt=>{Ne.getEventFullKey(Bt)===ae&&dt.runGuarded(()=>Ee(Bt))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}}return Ne.\u0275fac=function(ae){return new(ae||Ne)(F.LFG(g.K0))},Ne.\u0275prov=F.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Qt=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:g.bD},{provide:F.g9A,useValue:function br(){ye.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function mt(){return(0,F.RDi)(document),document},deps:[]}]),qt=new F.OlP(""),$n=[{provide:F.rWj,useClass:class ce{addToWindow(be){F.dqk.getAngularTestability=(Ee,dt=!0)=>{const Bt=be.findTestabilityInTree(Ee,dt);if(null==Bt)throw new Error("Could not find testability for element.");return Bt},F.dqk.getAllAngularTestabilities=()=>be.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>be.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Ee=>{const dt=F.dqk.getAllAngularTestabilities();let Bt=dt.length,un=!1;const jn=function(wn){un=un||wn,Bt--,0==Bt&&Ee(un)};dt.forEach(function(wn){wn.whenStable(jn)})})}findTestabilityInTree(be,ae,Ee){return null==ae?null:be.getTestability(ae)??(Ee?(0,g.q)().isShadowRoot(ae)?this.findTestabilityInTree(be,ae.host,!0):this.findTestabilityInTree(be,ae.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],Bn=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function _n(){return new F.qLn},deps:[]},{provide:He,useClass:lr,multi:!0,deps:[g.K0,F.R0b,F.Lbi]},{provide:He,useClass:Lt,multi:!0,deps:[g.K0]},{provide:ft,useClass:ft,deps:[Ze,Fe,F.AFp]},{provide:F.FYo,useExisting:ft},{provide:oe,useExisting:Fe},{provide:Fe,useClass:Fe,deps:[g.K0]},{provide:Ze,useClass:Ze,deps:[He,F.R0b]},{provide:g.JF,useClass:Ve,deps:[]},[]];let $r=(()=>{class Ne{constructor(ae){}static withServerTransition(ae){return{ngModule:Ne,providers:[{provide:F.AFp,useValue:ae.appId},{provide:le,useExisting:F.AFp},se]}}}return Ne.\u0275fac=function(ae){return new(ae||Ne)(F.LFG(qt,12))},Ne.\u0275mod=F.oAB({type:Ne}),Ne.\u0275inj=F.cJS({providers:[...Bn,...$n],imports:[g.ez,F.hGG]}),Ne})(),or=(()=>{class Ne{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}}return Ne.\u0275fac=function(ae){return new(ae||Ne)(F.LFG(g.K0))},Ne.\u0275prov=F.Yz7({token:Ne,factory:function(ae){let Ee=null;return Ee=ae?new ae:function Vr(){return new or((0,F.LFG)(g.K0))}(),Ee},providedIn:"root"}),Ne})();typeof window<"u"&&window;let At=(()=>{class Ne{}return Ne.\u0275fac=function(ae){return new(ae||Ne)},Ne.\u0275prov=F.Yz7({token:Ne,factory:function(ae){let Ee=null;return Ee=ae?new(ae||Ne):F.LFG(nt),Ee},providedIn:"root"}),Ne})(),nt=(()=>{class Ne extends At{constructor(ae){super(),this._doc=ae}sanitize(ae,Ee){if(null==Ee)return null;switch(ae){case F.q3G.NONE:return Ee;case F.q3G.HTML:return(0,F.qzn)(Ee,"HTML")?(0,F.z3N)(Ee):(0,F.EiD)(this._doc,String(Ee)).toString();case F.q3G.STYLE:return(0,F.qzn)(Ee,"Style")?(0,F.z3N)(Ee):Ee;case F.q3G.SCRIPT:if((0,F.qzn)(Ee,"Script"))return(0,F.z3N)(Ee);throw new Error("unsafe value used in a script context");case F.q3G.URL:return(0,F.qzn)(Ee,"URL")?(0,F.z3N)(Ee):(0,F.mCW)(String(Ee));case F.q3G.RESOURCE_URL:if((0,F.qzn)(Ee,"ResourceURL"))return(0,F.z3N)(Ee);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ae} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ae){return(0,F.JVY)(ae)}bypassSecurityTrustStyle(ae){return(0,F.L6k)(ae)}bypassSecurityTrustScript(ae){return(0,F.eBb)(ae)}bypassSecurityTrustUrl(ae){return(0,F.LAX)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,F.pB0)(ae)}}return Ne.\u0275fac=function(ae){return new(ae||Ne)(F.LFG(g.K0))},Ne.\u0275prov=F.Yz7({token:Ne,factory:function(ae){let Ee=null;return Ee=ae?new ae:function mn(Ne){return new nt(Ne.get(g.K0))}(F.LFG(F.zs3)),Ee},providedIn:"root"}),Ne})()},8069:(Kt,Ge,U)=>{U.d(Ge,{F0:()=>Vi,Bz:()=>el,lC:()=>R});var g=U(4650),F=U(2866),V=U(6688),ye=U(3489);class me extends ye.L{notifyNext(b,_,S,P,Z){this.destination.next(_)}notifyError(b,_){this.destination.error(b)}notifyComplete(b){this.destination.complete()}}class ne extends ye.L{constructor(b,_,S){super(),this.parent=b,this.outerValue=_,this.outerIndex=S,this.index=0}_next(b){this.parent.notifyNext(this.outerValue,b,this.outerIndex,this.index++,this)}_error(b){this.parent.notifyError(b,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var fe=U(9249),ee=U(6498);function le(E,b,_,S,P=new ne(E,_,S)){if(!P.closed)return b instanceof ee.y?b.subscribe(P):(0,fe.s)(b)(P)}var X=U(3009);const se={};function ce(...E){let b,_;return(0,F.K)(E[E.length-1])&&(_=E.pop()),"function"==typeof E[E.length-1]&&(b=E.pop()),1===E.length&&(0,V.k)(E[0])&&(E=E[0]),(0,X.n)(E,_).lift(new Ve(b))}class Ve{constructor(b){this.resultSelector=b}call(b,_){return _.subscribe(new He(b,this.resultSelector))}}class He extends me{constructor(b,_){super(b),this.resultSelector=_,this.active=0,this.values=[],this.observables=[]}_next(b){this.values.push(se),this.observables.push(b)}_complete(){const b=this.observables,_=b.length;if(0===_)this.destination.complete();else{this.active=_,this.toRespond=_;for(let S=0;S<_;S++)this.add(le(this,b[S],void 0,S))}}notifyComplete(b){0==(this.active-=1)&&this.destination.complete()}notifyNext(b,_,S){const P=this.values,he=this.toRespond?P[S]===se?--this.toRespond:this.toRespond:0;P[S]=_,0===he&&(this.resultSelector?this._tryResultSelector(P):this.destination.next(P.slice()))}_tryResultSelector(b){let _;try{_=this.resultSelector.apply(this,b)}catch(S){return void this.destination.error(S)}this.destination.next(_)}}var Ze=U(5254),et=U(8896);function oe(E){return new ee.y(b=>{let _;try{_=E()}catch(P){return void b.error(P)}return(_?(0,Ze.D)(_):(0,et.c)()).subscribe(b)})}var Fe=U(1086),Ft=U(591),en=U(1221),vt=U(4843),ct=U(1737),Pt=U(4450),bt=U(1762),sn=U(8929),ze=U(6895),ot=U(2198),Vt=U(4231);function Nt(E){return function(_){return 0===E?(0,et.c)():_.lift(new $t(E))}}class $t{constructor(b){if(this.total=b,this.total<0)throw new Vt.W}call(b,_){return _.subscribe(new ft(b,this.total))}}class ft extends ye.L{constructor(b,_){super(b),this.total=_,this.ring=new Array,this.count=0}_next(b){const _=this.ring,S=this.total,P=this.count++;_.length<S?_.push(b):_[P%S]=b}_complete(){const b=this.destination;let _=this.count;if(_>0){const S=this.count>=this.total?this.total:this.count,P=this.ring;for(let Z=0;Z<S;Z++){const he=_++%S;b.next(P[he])}}b.complete()}}var Fn=U(4907),mr=U(7314),Mr=U(5379);function xn(E,b){const _=arguments.length>=2;return S=>S.pipe(E?(0,ot.h)((P,Z)=>E(P,Z,S)):Mr.y,Nt(1),_?(0,mr.d)(b):(0,Fn.T)(()=>new Pt.K))}class Yt{constructor(b){this.value=b}call(b,_){return _.subscribe(new lr(b,this.value))}}class lr extends ye.L{constructor(b,_){super(b),this.value=_}_next(b){this.destination.next(this.value)}}var Tn=U(4850),wt=U(7545),at=U(2986),Ue=U(1059),Ke=U(1709),Lt=U(7224),pn=U(1406),an=U(2868),Cn=U(7221),sr=U(2014),br=U(4290),_n=U(537),mt=U(4327),er=U(9146),Qt=U(1481);const qt="primary";class $n{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_[0]:_}return null}getAll(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Bn(E){return new $n(E)}function $r(E,b,_){const S=_.path.split("/");if(S.length>E.length||"full"===_.pathMatch&&(b.hasChildren()||S.length<E.length))return null;const P={};for(let Z=0;Z<S.length;Z++){const he=S[Z],Ce=E[Z];if(he.startsWith(":"))P[he.substring(1)]=Ce;else if(he!==Ce.path)return null}return{consumed:E.slice(0,S.length),posParams:P}}function cr(E,b){const _=E?Object.keys(E):void 0,S=b?Object.keys(b):void 0;if(!_||!S||_.length!=S.length)return!1;let P;for(let Z=0;Z<_.length;Z++)if(P=_[Z],!Pn(E[P],b[P]))return!1;return!0}function Pn(E,b){if(Array.isArray(E)&&Array.isArray(b)){if(E.length!==b.length)return!1;const _=[...E].sort(),S=[...b].sort();return _.every((P,Z)=>S[Z]===P)}return E===b}function Vr(E){return Array.prototype.concat.apply([],E)}function or(E){return E.length>0?E[E.length-1]:null}function Ot(E,b){for(const _ in E)E.hasOwnProperty(_)&&b(E[_],_)}function yr(E){return(0,g.CqO)(E)?E:(0,g.QGY)(E)?(0,Ze.D)(Promise.resolve(E)):(0,Fe.of)(E)}const Ht={exact:function Ir(E,b,_){if(!nn(E.segments,b.segments)||!de(E.segments,b.segments,_)||E.numberOfChildren!==b.numberOfChildren)return!1;for(const S in b.children)if(!E.children[S]||!Ir(E.children[S],b.children[S],_))return!1;return!0},subset:Oe},Mt={exact:function On(E,b){return cr(E,b)},subset:function gn(E,b){return Object.keys(b).length<=Object.keys(E).length&&Object.keys(b).every(_=>Pn(E[_],b[_]))},ignored:()=>!0};function ii(E,b,_){return Ht[_.paths](E.root,b.root,_.matrixParams)&&Mt[_.queryParams](E.queryParams,b.queryParams)&&!("exact"===_.fragment&&E.fragment!==b.fragment)}function Oe(E,b,_){return De(E,b,b.segments,_)}function De(E,b,_,S){if(E.segments.length>_.length){const P=E.segments.slice(0,_.length);return!(!nn(P,_)||b.hasChildren()||!de(P,_,S))}if(E.segments.length===_.length){if(!nn(E.segments,_)||!de(E.segments,_,S))return!1;for(const P in b.children)if(!E.children[P]||!Oe(E.children[P],b.children[P],S))return!1;return!0}{const P=_.slice(0,E.segments.length),Z=_.slice(E.segments.length);return!!(nn(E.segments,P)&&de(E.segments,P,S)&&E.children[qt])&&De(E.children[qt],b,Z,S)}}function de(E,b,_){return b.every((S,P)=>Mt[_](E[P].parameters,S.parameters))}class we{constructor(b,_,S){this.root=b,this.queryParams=_,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bn(this.queryParams)),this._queryParamMap}toString(){return je.serialize(this)}}class pe{constructor(b,_){this.segments=b,this.children=_,this.parent=null,Ot(_,(S,P)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ve(this)}}class ht{constructor(b,_){this.path=b,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Bn(this.parameters)),this._parameterMap}toString(){return be(this)}}function nn(E,b){return E.length===b.length&&E.every((_,S)=>_.path===b[S].path)}class Qn{}class Nr{parse(b){const _=new Bi(b);return new we(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(b){const _=`/${_e(b.root,!0)}`,S=function Ee(E){const b=Object.keys(E).map(_=>{const S=E[_];return Array.isArray(S)?S.map(P=>`${At(_)}=${At(P)}`).join("&"):`${At(_)}=${At(S)}`}).filter(_=>!!_);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${_}${S}${"string"==typeof b.fragment?`#${function mn(E){return encodeURI(E)}(b.fragment)}`:""}`}}const je=new Nr;function ve(E){return E.segments.map(b=>be(b)).join("/")}function _e(E,b){if(!E.hasChildren())return ve(E);if(b){const _=E.children[qt]?_e(E.children[qt],!1):"",S=[];return Ot(E.children,(P,Z)=>{Z!==qt&&S.push(`${Z}:${_e(P,!1)}`)}),S.length>0?`${_}(${S.join("//")})`:_}{const _=function zn(E,b){let _=[];return Ot(E.children,(S,P)=>{P===qt&&(_=_.concat(b(S,P)))}),Ot(E.children,(S,P)=>{P!==qt&&(_=_.concat(b(S,P)))}),_}(E,(S,P)=>P===qt?[_e(E.children[qt],!1)]:[`${P}:${_e(S,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[qt]?`${ve(E)}/${_[0]}`:`${ve(E)}/(${_.join("//")})`}}function rt(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function At(E){return rt(E).replace(/%3B/gi,";")}function nt(E){return rt(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(E){return decodeURIComponent(E)}function Ne(E){return Gt(E.replace(/\+/g,"%20"))}function be(E){return`${nt(E.path)}${function ae(E){return Object.keys(E).map(b=>`;${nt(b)}=${nt(E[b])}`).join("")}(E.parameters)}`}const dt=/^[^\/()?;=#]+/;function Bt(E){const b=E.match(dt);return b?b[0]:""}const un=/^[^=?&#]+/,wn=/^[^&#]+/;class Bi{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(b.length>0||Object.keys(_).length>0)&&(S[qt]=new pe(b,_)),S}parseSegment(){const b=Bt(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(b),new ht(Gt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const _=Bt(this.remaining);if(!_)return;this.capture(_);let S="";if(this.consumeOptional("=")){const P=Bt(this.remaining);P&&(S=P,this.capture(S))}b[Gt(_)]=Gt(S)}parseQueryParam(b){const _=function jn(E){const b=E.match(un);return b?b[0]:""}(this.remaining);if(!_)return;this.capture(_);let S="";if(this.consumeOptional("=")){const he=function os(E){const b=E.match(wn);return b?b[0]:""}(this.remaining);he&&(S=he,this.capture(S))}const P=Ne(_),Z=Ne(S);if(b.hasOwnProperty(P)){let he=b[P];Array.isArray(he)||(he=[he],b[P]=he),he.push(Z)}else b[P]=Z}parseParens(b){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Bt(this.remaining),P=this.remaining[S.length];if("/"!==P&&")"!==P&&";"!==P)throw new g.vHH(4010,!1);let Z;S.indexOf(":")>-1?(Z=S.slice(0,S.indexOf(":")),this.capture(Z),this.capture(":")):b&&(Z=qt);const he=this.parseChildren();_[Z]=1===Object.keys(he).length?he[qt]:new pe([],he),this.consumeOptional("//")}return _}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new g.vHH(4011,!1)}}function Ei(E){return E.segments.length>0?new pe([],{[qt]:E}):E}function Gr(E){const b={};for(const S of Object.keys(E.children)){const Z=Gr(E.children[S]);(Z.segments.length>0||Z.hasChildren())&&(b[S]=Z)}return function vr(E){if(1===E.numberOfChildren&&E.children[qt]){const b=E.children[qt];return new pe(E.segments.concat(b.segments),b.children)}return E}(new pe(E.segments,b))}function gi(E){return E instanceof we}function dr(E,b,_,S,P){if(0===_.length)return Ii(b.root,b.root,b.root,S,P);const Z=function Ns(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new ls(!0,0,E);let b=0,_=!1;const S=E.reduce((P,Z,he)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const Ce={};return Ot(Z.outlets,(lt,Rt)=>{Ce[Rt]="string"==typeof lt?lt.split("/"):lt}),[...P,{outlets:Ce}]}if(Z.segmentPath)return[...P,Z.segmentPath]}return"string"!=typeof Z?[...P,Z]:0===he?(Z.split("/").forEach((Ce,lt)=>{0==lt&&"."===Ce||(0==lt&&""===Ce?_=!0:".."===Ce?b++:""!=Ce&&P.push(Ce))}),P):[...P,Z]},[]);return new ls(_,b,S)}(_);return Z.toRoot()?Ii(b.root,b.root,new pe([],{}),S,P):function he(lt){const Rt=function ms(E,b,_,S){if(E.isAbsolute)return new Ur(b.root,!0,0);if(-1===S)return new Ur(_,_===b.root,0);return function mi(E,b,_){let S=E,P=b,Z=_;for(;Z>P;){if(Z-=P,S=S.parent,!S)throw new g.vHH(4005,!1);P=S.segments.length}return new Ur(S,!1,P-Z)}(_,S+(us(E.commands[0])?0:1),E.numberOfDoubleDots)}(Z,b,E.snapshot?._urlSegment,lt),hr=Rt.processChildren?yi(Rt.segmentGroup,Rt.index,Z.commands):Di(Rt.segmentGroup,Rt.index,Z.commands);return Ii(b.root,Rt.segmentGroup,hr,S,P)}(E.snapshot?._lastPathIndex)}function us(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function $i(E){return"object"==typeof E&&null!=E&&E.outlets}function Ii(E,b,_,S,P){let he,Z={};S&&Ot(S,(lt,Rt)=>{Z[Rt]=Array.isArray(lt)?lt.map(hr=>`${hr}`):`${lt}`}),he=E===b?_:Es(E,b,_);const Ce=Ei(Gr(he));return new we(Ce,Z,P)}function Es(E,b,_){const S={};return Ot(E.children,(P,Z)=>{S[Z]=P===b?_:Es(P,b,_)}),new pe(E.segments,S)}class ls{constructor(b,_,S){if(this.isAbsolute=b,this.numberOfDoubleDots=_,this.commands=S,b&&S.length>0&&us(S[0]))throw new g.vHH(4003,!1);const P=S.find($i);if(P&&P!==or(S))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(b,_,S){this.segmentGroup=b,this.processChildren=_,this.index=S}}function Di(E,b,_){if(E||(E=new pe([],{})),0===E.segments.length&&E.hasChildren())return yi(E,b,_);const S=function Hi(E,b,_){let S=0,P=b;const Z={match:!1,pathIndex:0,commandIndex:0};for(;P<E.segments.length;){if(S>=_.length)return Z;const he=E.segments[P],Ce=_[S];if($i(Ce))break;const lt=`${Ce}`,Rt=S<_.length-1?_[S+1]:null;if(P>0&&void 0===lt)break;if(lt&&Rt&&"object"==typeof Rt&&void 0===Rt.outlets){if(!Rs(lt,Rt,he))return Z;S+=2}else{if(!Rs(lt,{},he))return Z;S++}P++}return{match:!0,pathIndex:P,commandIndex:S}}(E,b,_),P=_.slice(S.commandIndex);if(S.match&&S.pathIndex<E.segments.length){const Z=new pe(E.segments.slice(0,S.pathIndex),{});return Z.children[qt]=new pe(E.segments.slice(S.pathIndex),E.children),yi(Z,0,P)}return S.match&&0===P.length?new pe(E.segments,{}):S.match&&!E.hasChildren()?Ti(E,b,_):S.match?yi(E,0,P):Ti(E,b,_)}function yi(E,b,_){if(0===_.length)return new pe(E.segments,{});{const S=function si(E){return $i(E[0])?E[0].outlets:{[qt]:E}}(_),P={};return Ot(S,(Z,he)=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(P[he]=Di(E.children[he],b,Z))}),Ot(E.children,(Z,he)=>{void 0===S[he]&&(P[he]=Z)}),new pe(E.segments,P)}}function Ti(E,b,_){const S=E.segments.slice(0,b);let P=0;for(;P<_.length;){const Z=_[P];if($i(Z)){const lt=ui(Z.outlets);return new pe(S,lt)}if(0===P&&us(_[0])){S.push(new ht(E.segments[b].path,cs(_[0]))),P++;continue}const he=$i(Z)?Z.outlets[qt]:`${Z}`,Ce=P<_.length-1?_[P+1]:null;he&&Ce&&us(Ce)?(S.push(new ht(he,cs(Ce))),P+=2):(S.push(new ht(he,{})),P++)}return new pe(S,{})}function ui(E){const b={};return Ot(E,(_,S)=>{"string"==typeof _&&(_=[_]),null!==_&&(b[S]=Ti(new pe([],{}),0,_))}),b}function cs(E){const b={};return Ot(E,(_,S)=>b[S]=`${_}`),b}function Rs(E,b,_){return E==_.path&&cr(b,_.parameters)}class oi{constructor(b,_){this.id=b,this.url=_}}class Po extends oi{constructor(b,_,S="imperative",P=null){super(b,_),this.type=0,this.navigationTrigger=S,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Is extends oi{constructor(b,_,S){super(b,_),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ci extends oi{constructor(b,_,S,P){super(b,_),this.reason=S,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Re extends oi{constructor(b,_,S,P){super(b,_),this.error=S,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ke extends oi{constructor(b,_,S,P){super(b,_),this.urlAfterRedirects=S,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends oi{constructor(b,_,S,P){super(b,_),this.urlAfterRedirects=S,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends oi{constructor(b,_,S,P,Z){super(b,_),this.urlAfterRedirects=S,this.state=P,this.shouldActivate=Z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ut extends oi{constructor(b,_,S,P){super(b,_),this.urlAfterRedirects=S,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends oi{constructor(b,_,S,P){super(b,_),this.urlAfterRedirects=S,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sr{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ar{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ls{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zs{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(b,_,S){this.routerEvent=b,this.position=_,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gs{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const _=this.pathFromRoot(b);return _.length>1?_[_.length-2]:null}children(b){const _=Xs(b,this._root);return _?_.children.map(S=>S.value):[]}firstChild(b){const _=Xs(b,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(b){const _=Si(b,this._root);return _.length<2?[]:_[_.length-2].children.map(P=>P.value).filter(P=>P!==b)}pathFromRoot(b){return Si(b,this._root).map(_=>_.value)}}function Xs(E,b){if(E===b.value)return b;for(const _ of b.children){const S=Xs(E,_);if(S)return S}return null}function Si(E,b){if(E===b.value)return[b];for(const _ of b.children){const S=Si(E,_);if(S.length)return S.unshift(b),S}return[]}class Xi{constructor(b,_){this.value=b,this.children=_}toString(){return`TreeNode(${this.value})`}}function ys(E){const b={};return E&&E.children.forEach(_=>b[_.value.outlet]=_),b}class lo extends Gs{constructor(b,_){super(b),this.snapshot=_,nr(this,b)}toString(){return this.snapshot.toString()}}function Ws(E,b){const _=function co(E,b){const he=new es([],{},{},"",{},qt,b,null,E.root,-1,{});return new Oi("",new Xi(he,[]))}(E,b),S=new Ft.X([new ht("",{})]),P=new Ft.X({}),Z=new Ft.X({}),he=new Ft.X({}),Ce=new Ft.X(""),lt=new zi(S,P,he,Ce,Z,qt,b,_.root);return lt.snapshot=_.root,new lo(new Xi(lt,[]),_)}class zi{constructor(b,_,S,P,Z,he,Ce,lt){this.url=b,this.params=_,this.queryParams=S,this.fragment=P,this.data=Z,this.outlet=he,this.component=Ce,this._futureSnapshot=lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tn.U)(b=>Bn(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tn.U)(b=>Bn(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ds(E,b="emptyOnly"){const _=E.pathFromRoot;let S=0;if("always"!==b)for(S=_.length-1;S>=1;){const P=_[S],Z=_[S-1];if(P.routeConfig&&""===P.routeConfig.path)S--;else{if(Z.component)break;S--}}return function Ts(E){return E.reduce((b,_)=>({params:{...b.params,..._.params},data:{...b.data,..._.data},resolve:{..._.data,...b.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(S))}class es{constructor(b,_,S,P,Z,he,Ce,lt,Rt,hr,Jt,Dn){this.url=b,this.params=_,this.queryParams=S,this.fragment=P,this.data=Z,this.outlet=he,this.component=Ce,this.routeConfig=lt,this._urlSegment=Rt,this._lastPathIndex=hr,this._correctedLastPathIndex=Dn??hr,this._resolve=Jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oi extends Gs{constructor(b,_){super(_),this.url=b,nr(this,_)}toString(){return ho(this._root)}}function nr(E,b){b.value._routerState=E,b.children.forEach(_=>nr(E,_))}function ho(E){const b=E.children.length>0?` { ${E.children.map(ho).join(", ")} } `:"";return`${E.value}${b}`}function eo(E){if(E.snapshot){const b=E.snapshot,_=E._futureSnapshot;E.snapshot=_,cr(b.queryParams,_.queryParams)||E.queryParams.next(_.queryParams),b.fragment!==_.fragment&&E.fragment.next(_.fragment),cr(b.params,_.params)||E.params.next(_.params),function ri(E,b){if(E.length!==b.length)return!1;for(let _=0;_<E.length;++_)if(!cr(E[_],b[_]))return!1;return!0}(b.url,_.url)||E.url.next(_.url),cr(b.data,_.data)||E.data.next(_.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function to(E,b){const _=cr(E.params,b.params)&&function zt(E,b){return nn(E,b)&&E.every((_,S)=>cr(_.parameters,b[S].parameters))}(E.url,b.url);return _&&!(!E.parent!=!b.parent)&&(!E.parent||to(E.parent,b.parent))}function bo(E,b,_){if(_&&E.shouldReuseRoute(b.value,_.value.snapshot)){const S=_.value;S._futureSnapshot=b.value;const P=function Dr(E,b,_){return b.children.map(S=>{for(const P of _.children)if(E.shouldReuseRoute(S.value,P.value.snapshot))return bo(E,S,P);return bo(E,S)})}(E,b,_);return new Xi(S,P)}{if(E.shouldAttach(b.value)){const Z=E.retrieve(b.value);if(null!==Z){const he=Z.route;return he.value._futureSnapshot=b.value,he.children=b.children.map(Ce=>bo(E,Ce)),he}}const S=function na(E){return new zi(new Ft.X(E.url),new Ft.X(E.params),new Ft.X(E.queryParams),new Ft.X(E.fragment),new Ft.X(E.data),E.outlet,E.component,E)}(b.value),P=b.children.map(Z=>bo(E,Z));return new Xi(S,P)}}const Eo="ngNavigationCancelingError";function ts(E,b){const{redirectTo:_,navigationBehaviorOptions:S}=gi(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,P=ur(!1,0,b);return P.url=_,P.navigationBehaviorOptions=S,P}function ur(E,b,_){const S=new Error("NavigationCancelingError: "+(E||""));return S[Eo]=!0,S.cancellationCode=b,_&&(S.url=_),S}function Us(E){return Cs(E)&&gi(E.url)}function Cs(E){return E&&E[Eo]}class ki{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new N,this.attachRef=null}}class N{constructor(){this.contexts=new Map}onChildOutletCreated(b,_){const S=this.getOrCreateContext(b);S.outlet=_,this.contexts.set(b,S)}onChildOutletDestroyed(b){const _=this.getContext(b);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let _=this.getContext(b);return _||(_=new ki,this.contexts.set(b,_)),_}getContext(b){return this.contexts.get(b)||null}}const W=!1;let R=(()=>{class E{constructor(_,S,P,Z,he){this.parentContexts=_,this.location=S,this.changeDetector=Z,this.environmentInjector=he,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=P||qt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,W);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,W);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,W);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,S){this.activated=_,this._activatedRoute=S,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,S){if(this.isActivated)throw new g.vHH(4013,W);this._activatedRoute=_;const P=this.location,he=_._futureSnapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,lt=new J(_,Ce,P.injector);if(S&&function xe(E){return!!E.resolveComponentFactory}(S)){const Rt=S.resolveComponentFactory(he);this.activated=P.createComponent(Rt,P.length,lt)}else this.activated=P.createComponent(he,{index:P.length,injector:lt,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(_){return new(_||E)(g.Y36(N),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},E.\u0275dir=g.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),E})();class J{constructor(b,_,S){this.route=b,this.childContexts=_,this.parent=S}get(b,_){return b===zi?this.route:b===N?this.childContexts:this.parent.get(b,_)}}let Xe=(()=>{class E{}return E.\u0275fac=function(_){return new(_||E)},E.\u0275cmp=g.Xpm({type:E,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,S){1&_&&g._UZ(0,"router-outlet")},dependencies:[R],encapsulation:2}),E})();function It(E,b){return E.providers&&!E._injector&&(E._injector=(0,g.MMx)(E.providers,b,`Route: ${E.path}`)),E._injector??b}function Xr(E){const b=E.children&&E.children.map(Xr),_=b?{...E,children:b}:{...E};return!_.component&&!_.loadComponent&&(b||_.loadChildren)&&_.outlet&&_.outlet!==qt&&(_.component=Xe),_}function ut(E){return E.outlet||qt}function Wn(E,b){const _=E.filter(S=>ut(S)===b);return _.push(...E.filter(S=>ut(S)!==b)),_}function Fi(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let b=E.parent;b;b=b.parent){const _=b.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class xr{constructor(b,_,S,P){this.routeReuseStrategy=b,this.futureState=_,this.currState=S,this.forwardEvent=P}activate(b){const _=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,S,b),eo(this.futureState.root),this.activateChildRoutes(_,S,b)}deactivateChildRoutes(b,_,S){const P=ys(_);b.children.forEach(Z=>{const he=Z.value.outlet;this.deactivateRoutes(Z,P[he],S),delete P[he]}),Ot(P,(Z,he)=>{this.deactivateRouteAndItsChildren(Z,S)})}deactivateRoutes(b,_,S){const P=b.value,Z=_?_.value:null;if(P===Z)if(P.component){const he=S.getContext(P.outlet);he&&this.deactivateChildRoutes(b,_,he.children)}else this.deactivateChildRoutes(b,_,S);else Z&&this.deactivateRouteAndItsChildren(_,S)}deactivateRouteAndItsChildren(b,_){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,_):this.deactivateRouteAndOutlet(b,_)}detachAndStoreRouteSubtree(b,_){const S=_.getContext(b.value.outlet),P=S&&b.value.component?S.children:_,Z=ys(b);for(const he of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[he],P);if(S&&S.outlet){const he=S.outlet.detach(),Ce=S.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:he,route:b,contexts:Ce})}}deactivateRouteAndOutlet(b,_){const S=_.getContext(b.value.outlet),P=S&&b.value.component?S.children:_,Z=ys(b);for(const he of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[he],P);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(b,_,S){const P=ys(_);b.children.forEach(Z=>{this.activateRoutes(Z,P[Z.value.outlet],S),this.forwardEvent(new zs(Z.value.snapshot))}),b.children.length&&this.forwardEvent(new li(b.value.snapshot))}activateRoutes(b,_,S){const P=b.value,Z=_?_.value:null;if(eo(P),P===Z)if(P.component){const he=S.getOrCreateContext(P.outlet);this.activateChildRoutes(b,_,he.children)}else this.activateChildRoutes(b,_,S);else if(P.component){const he=S.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const Ce=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),he.children.onOutletReAttached(Ce.contexts),he.attachRef=Ce.componentRef,he.route=Ce.route.value,he.outlet&&he.outlet.attach(Ce.componentRef,Ce.route.value),eo(Ce.route.value),this.activateChildRoutes(b,null,he.children)}else{const Ce=Fi(P.snapshot),lt=Ce?.get(g._Vd)??null;he.attachRef=null,he.route=P,he.resolver=lt,he.injector=Ce,he.outlet&&he.outlet.activateWith(P,he.injector),this.activateChildRoutes(b,null,he.children)}}else this.activateChildRoutes(b,null,S)}}class Ks{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class qs{constructor(b,_){this.component=b,this.route=_}}function vs(E,b,_){const S=E._root;return ds(S,b?b._root:null,_,[S.value])}function Ps(E,b,_){return(Fi(b)??_).get(E)}function ds(E,b,_,S,P={canDeactivateChecks:[],canActivateChecks:[]}){const Z=ys(b);return E.children.forEach(he=>{(function ra(E,b,_,S,P={canDeactivateChecks:[],canActivateChecks:[]}){const Z=E.value,he=b?b.value:null,Ce=_?_.getContext(E.value.outlet):null;if(he&&Z.routeConfig===he.routeConfig){const lt=function jo(E,b,_){if("function"==typeof _)return _(E,b);switch(_){case"pathParamsChange":return!nn(E.url,b.url);case"pathParamsOrQueryParamsChange":return!nn(E.url,b.url)||!cr(E.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!to(E,b)||!cr(E.queryParams,b.queryParams);default:return!to(E,b)}}(he,Z,Z.routeConfig.runGuardsAndResolvers);lt?P.canActivateChecks.push(new Ks(S)):(Z.data=he.data,Z._resolvedData=he._resolvedData),ds(E,b,Z.component?Ce?Ce.children:null:_,S,P),lt&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&P.canDeactivateChecks.push(new qs(Ce.outlet.component,he))}else he&&_s(b,Ce,P),P.canActivateChecks.push(new Ks(S)),ds(E,null,Z.component?Ce?Ce.children:null:_,S,P)})(he,Z[he.value.outlet],_,S.concat([he.value]),P),delete Z[he.value.outlet]}),Ot(Z,(he,Ce)=>_s(he,_.getContext(Ce),P)),P}function _s(E,b,_){const S=ys(E),P=E.value;Ot(S,(Z,he)=>{_s(Z,P.component?b?b.children.getContext(he):null:b,_)}),_.canDeactivateChecks.push(new qs(P.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,P))}function ei(E){return"function"==typeof E}const Os=Symbol("INITIAL_VALUE");function Zs(){return(0,wt.w)(E=>ce(E.map(b=>b.pipe((0,at.q)(1),(0,Ue.O)(Os)))).pipe((0,Tn.U)(b=>{for(const _ of b)if(!0!==_){if(_===Os)return Os;if(!1===_||_ instanceof we)return _}return!0}),(0,ot.h)(b=>b!==Os),(0,at.q)(1)))}function io(E){return(0,vt.z)((0,an.b)(b=>{if(gi(b))throw ts(0,b)}),(0,Tn.U)(b=>!0===b))}const As={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gi(E,b,_,S,P){const Z=ks(E,b,_);return Z.matched?function sa(E,b,_,S){const P=b.canMatch;if(!P||0===P.length)return(0,Fe.of)(!0);const Z=P.map(he=>{const Ce=E.get(he),lt=function Oo(E){return E&&ei(E.canMatch)}(Ce)?Ce.canMatch(b,_):Ce(b,_);return yr(lt)});return(0,Fe.of)(Z).pipe(Zs(),io())}(S=It(b,S),b,_).pipe((0,Tn.U)(he=>!0===he?Z:{...As})):(0,Fe.of)(Z)}function ks(E,b,_){if(""===b.path)return"full"===b.pathMatch&&(E.hasChildren()||_.length>0)?{...As}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const P=(b.matcher||$r)(_,E,b);if(!P)return{...As};const Z={};Ot(P.posParams,(Ce,lt)=>{Z[lt]=Ce.path});const he=P.consumed.length>0?{...Z,...P.consumed[P.consumed.length-1].parameters}:Z;return{matched:!0,consumedSegments:P.consumed,remainingSegments:_.slice(P.consumed.length),parameters:he,positionalParamSegments:P.posParams??{}}}function Br(E,b,_,S,P="corrected"){if(_.length>0&&function w(E,b,_){return _.some(S=>G(E,b,S)&&ut(S)!==qt)}(E,_,S)){const he=new pe(b,function v(E,b,_,S){const P={};P[qt]=S,S._sourceSegment=E,S._segmentIndexShift=b.length;for(const Z of _)if(""===Z.path&&ut(Z)!==qt){const he=new pe([],{});he._sourceSegment=E,he._segmentIndexShift=b.length,P[ut(Z)]=he}return P}(E,b,S,new pe(_,E.children)));return he._sourceSegment=E,he._segmentIndexShift=b.length,{segmentGroup:he,slicedSegments:[]}}if(0===_.length&&function M(E,b,_){return _.some(S=>G(E,b,S))}(E,_,S)){const he=new pe(E.segments,function $(E,b,_,S,P,Z){const he={};for(const Ce of S)if(G(E,_,Ce)&&!P[ut(Ce)]){const lt=new pe([],{});lt._sourceSegment=E,lt._segmentIndexShift="legacy"===Z?E.segments.length:b.length,he[ut(Ce)]=lt}return{...P,...he}}(E,b,_,S,E.children,P));return he._sourceSegment=E,he._segmentIndexShift=b.length,{segmentGroup:he,slicedSegments:_}}const Z=new pe(E.segments,E.children);return Z._sourceSegment=E,Z._segmentIndexShift=b.length,{segmentGroup:Z,slicedSegments:_}}function G(E,b,_){return(!(E.hasChildren()||b.length>0)||"full"!==_.pathMatch)&&""===_.path}function re(E,b,_,S){return!!(ut(E)===S||S!==qt&&G(b,_,E))&&("**"===E.path||ks(b,E,_).matched)}function Te(E,b,_){return 0===b.length&&!E.children[_]}const Se=!1;class We{constructor(b){this.segmentGroup=b||null}}class pt{constructor(b){this.urlTree=b}}function x(E){return(0,ct._)(new We(E))}function B(E){return(0,ct._)(new pt(E))}class Me{constructor(b,_,S,P,Z){this.injector=b,this.configLoader=_,this.urlSerializer=S,this.urlTree=P,this.config=Z,this.allowRedirects=!0}apply(){const b=Br(this.urlTree.root,[],[],this.config).segmentGroup,_=new pe(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,_,qt).pipe((0,Tn.U)(Z=>this.createUrlTree(Gr(Z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Cn.K)(Z=>{if(Z instanceof pt)return this.allowRedirects=!1,this.match(Z.urlTree);throw Z instanceof We?this.noMatchError(Z):Z}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,qt).pipe((0,Tn.U)(P=>this.createUrlTree(Gr(P),b.queryParams,b.fragment))).pipe((0,Cn.K)(P=>{throw P instanceof We?this.noMatchError(P):P}))}noMatchError(b){return new g.vHH(4002,Se)}createUrlTree(b,_,S){const P=Ei(b);return new we(P,_,S)}expandSegmentGroup(b,_,S,P){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(b,_,S).pipe((0,Tn.U)(Z=>new pe([],Z))):this.expandSegment(b,S,_,S.segments,P,!0)}expandChildren(b,_,S){const P=[];for(const Z of Object.keys(S.children))"primary"===Z?P.unshift(Z):P.push(Z);return(0,Ze.D)(P).pipe((0,pn.b)(Z=>{const he=S.children[Z],Ce=Wn(_,Z);return this.expandSegmentGroup(b,Ce,he,Z).pipe((0,Tn.U)(lt=>({segment:lt,outlet:Z})))}),(0,sr.R)((Z,he)=>(Z[he.outlet]=he.segment,Z),{}),xn())}expandSegment(b,_,S,P,Z,he){return(0,Ze.D)(S).pipe((0,pn.b)(Ce=>this.expandSegmentAgainstRoute(b,_,S,Ce,P,Z,he).pipe((0,Cn.K)(Rt=>{if(Rt instanceof We)return(0,Fe.of)(null);throw Rt}))),(0,Lt.P)(Ce=>!!Ce),(0,Cn.K)((Ce,lt)=>{if(Ce instanceof Pt.K||"EmptyError"===Ce.name)return Te(_,P,Z)?(0,Fe.of)(new pe([],{})):x(_);throw Ce}))}expandSegmentAgainstRoute(b,_,S,P,Z,he,Ce){return re(P,_,Z,he)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(b,_,P,Z,he):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,_,S,P,Z,he):x(_):x(_)}expandSegmentAgainstRouteUsingRedirect(b,_,S,P,Z,he){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,S,P,he):this.expandRegularSegmentAgainstRouteUsingRedirect(b,_,S,P,Z,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,_,S,P){const Z=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?B(Z):this.lineralizeSegments(S,Z).pipe((0,Ke.zg)(he=>{const Ce=new pe(he,{});return this.expandSegment(b,Ce,_,he,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,_,S,P,Z,he){const{matched:Ce,consumedSegments:lt,remainingSegments:Rt,positionalParamSegments:hr}=ks(_,P,Z);if(!Ce)return x(_);const Jt=this.applyRedirectCommands(lt,P.redirectTo,hr);return P.redirectTo.startsWith("/")?B(Jt):this.lineralizeSegments(P,Jt).pipe((0,Ke.zg)(Dn=>this.expandSegment(b,_,S,Dn.concat(Rt),he,!1)))}matchSegmentAgainstRoute(b,_,S,P,Z){return"**"===S.path?(b=It(S,b),S.loadChildren?(S._loadedRoutes?(0,Fe.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(b,S)).pipe((0,Tn.U)(Ce=>(S._loadedRoutes=Ce.routes,S._loadedInjector=Ce.injector,new pe(P,{})))):(0,Fe.of)(new pe(P,{}))):Gi(_,S,P,b).pipe((0,wt.w)(({matched:he,consumedSegments:Ce,remainingSegments:lt})=>he?this.getChildConfig(b=S._injector??b,S,P).pipe((0,Ke.zg)(hr=>{const Jt=hr.injector??b,Dn=hr.routes,{segmentGroup:rs,slicedSegments:is}=Br(_,Ce,lt,Dn),ni=new pe(rs.segments,rs.children);if(0===is.length&&ni.hasChildren())return this.expandChildren(Jt,Dn,ni).pipe((0,Tn.U)(Ao=>new pe(Ce,Ao)));if(0===Dn.length&&0===is.length)return(0,Fe.of)(new pe(Ce,{}));const $s=ut(S)===Z;return this.expandSegment(Jt,ni,Dn,is,$s?qt:Z,!0).pipe((0,Tn.U)(aa=>new pe(Ce.concat(aa.segments),aa.children)))})):x(_)))}getChildConfig(b,_,S){return _.children?(0,Fe.of)({routes:_.children,injector:b}):_.loadChildren?void 0!==_._loadedRoutes?(0,Fe.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function ia(E,b,_,S){const P=b.canLoad;if(void 0===P||0===P.length)return(0,Fe.of)(!0);const Z=P.map(he=>{const Ce=E.get(he),lt=function $o(E){return E&&ei(E.canLoad)}(Ce)?Ce.canLoad(b,_):Ce(b,_);return yr(lt)});return(0,Fe.of)(Z).pipe(Zs(),io())}(b,_,S).pipe((0,Ke.zg)(P=>P?this.configLoader.loadChildren(b,_).pipe((0,an.b)(Z=>{_._loadedRoutes=Z.routes,_._loadedInjector=Z.injector})):function Q(E){return(0,ct._)(ur(Se,3))}())):(0,Fe.of)({routes:[],injector:b})}lineralizeSegments(b,_){let S=[],P=_.root;for(;;){if(S=S.concat(P.segments),0===P.numberOfChildren)return(0,Fe.of)(S);if(P.numberOfChildren>1||!P.children[qt])return(0,ct._)(new g.vHH(4e3,Se));P=P.children[qt]}}applyRedirectCommands(b,_,S){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),b,S)}applyRedirectCreateUrlTree(b,_,S,P){const Z=this.createSegmentGroup(b,_.root,S,P);return new we(Z,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(b,_){const S={};return Ot(b,(P,Z)=>{if("string"==typeof P&&P.startsWith(":")){const Ce=P.substring(1);S[Z]=_[Ce]}else S[Z]=P}),S}createSegmentGroup(b,_,S,P){const Z=this.createSegments(b,_.segments,S,P);let he={};return Ot(_.children,(Ce,lt)=>{he[lt]=this.createSegmentGroup(b,Ce,S,P)}),new pe(Z,he)}createSegments(b,_,S,P){return _.map(Z=>Z.path.startsWith(":")?this.findPosParam(b,Z,P):this.findOrReturn(Z,S))}findPosParam(b,_,S){const P=S[_.path.substring(1)];if(!P)throw new g.vHH(4001,Se);return P}findOrReturn(b,_){let S=0;for(const P of _){if(P.path===b.path)return _.splice(S),P;S++}return b}}class gt{}class bn{constructor(b,_,S,P,Z,he,Ce,lt){this.injector=b,this.rootComponentType=_,this.config=S,this.urlTree=P,this.url=Z,this.paramsInheritanceStrategy=he,this.relativeLinkResolution=Ce,this.urlSerializer=lt}recognize(){const b=Br(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,qt).pipe((0,Tn.U)(_=>{if(null===_)return null;const S=new es([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Xi(S,_),Z=new Oi(this.url,P);return this.inheritParamsAndData(Z._root),Z}))}inheritParamsAndData(b){const _=b.value,S=Ds(_,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data),b.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(b,_,S,P){return 0===S.segments.length&&S.hasChildren()?this.processChildren(b,_,S):this.processSegment(b,_,S,S.segments,P)}processChildren(b,_,S){return(0,Ze.D)(Object.keys(S.children)).pipe((0,pn.b)(P=>{const Z=S.children[P],he=Wn(_,P);return this.processSegmentGroup(b,he,Z,P)}),(0,sr.R)((P,Z)=>P&&Z?(P.push(...Z),P):null),(0,br.o)(P=>null!==P),(0,mr.d)(null),xn(),(0,Tn.U)(P=>{if(null===P)return null;const Z=Kr(P);return function kn(E){E.sort((b,_)=>b.value.outlet===qt?-1:_.value.outlet===qt?1:b.value.outlet.localeCompare(_.value.outlet))}(Z),Z}))}processSegment(b,_,S,P,Z){return(0,Ze.D)(_).pipe((0,pn.b)(he=>this.processSegmentAgainstRoute(he._injector??b,he,S,P,Z)),(0,Lt.P)(he=>!!he),(0,Cn.K)(he=>{if(he instanceof Pt.K)return Te(S,P,Z)?(0,Fe.of)([]):(0,Fe.of)(null);throw he}))}processSegmentAgainstRoute(b,_,S,P,Z){if(_.redirectTo||!re(_,S,P,Z))return(0,Fe.of)(null);let he;if("**"===_.path){const Ce=P.length>0?or(P).parameters:{},lt=qr(S)+P.length,Rt=new es(P,Ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wi(_),ut(_),_.component??_._loadedComponent??null,_,di(S),lt,ns(_),lt);he=(0,Fe.of)({snapshot:Rt,consumedSegments:[],remainingSegments:[]})}else he=Gi(S,_,P,b).pipe((0,Tn.U)(({matched:Ce,consumedSegments:lt,remainingSegments:Rt,parameters:hr})=>{if(!Ce)return null;const Jt=qr(S)+lt.length;return{snapshot:new es(lt,hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wi(_),ut(_),_.component??_._loadedComponent??null,_,di(S),Jt,ns(_),Jt),consumedSegments:lt,remainingSegments:Rt}}));return he.pipe((0,wt.w)(Ce=>{if(null===Ce)return(0,Fe.of)(null);const{snapshot:lt,consumedSegments:Rt,remainingSegments:hr}=Ce;b=_._injector??b;const Jt=_._loadedInjector??b,Dn=function Yn(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(_),{segmentGroup:rs,slicedSegments:is}=Br(S,Rt,hr,Dn.filter($s=>void 0===$s.redirectTo),this.relativeLinkResolution);if(0===is.length&&rs.hasChildren())return this.processChildren(Jt,Dn,rs).pipe((0,Tn.U)($s=>null===$s?null:[new Xi(lt,$s)]));if(0===Dn.length&&0===is.length)return(0,Fe.of)([new Xi(lt,[])]);const ni=ut(_)===Z;return this.processSegment(Jt,Dn,rs,is,ni?qt:Z).pipe((0,Tn.U)($s=>null===$s?null:[new Xi(lt,$s)]))}))}}function Kn(E){const b=E.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function Kr(E){const b=[],_=new Set;for(const S of E){if(!Kn(S)){b.push(S);continue}const P=b.find(Z=>S.value.routeConfig===Z.value.routeConfig);void 0!==P?(P.children.push(...S.children),_.add(P)):b.push(S)}for(const S of _){const P=Kr(S.children);b.push(new Xi(S.value,P))}return b.filter(S=>!_.has(S))}function di(E){let b=E;for(;b._sourceSegment;)b=b._sourceSegment;return b}function qr(E){let b=E,_=b._segmentIndexShift??0;for(;b._sourceSegment;)b=b._sourceSegment,_+=b._segmentIndexShift??0;return _-1}function Wi(E){return E.data||{}}function ns(E){return E.resolve||{}}const In=Symbol("RouteTitle");function xi(E){return"string"==typeof E.title||null===E.title}function tr(E){return(0,wt.w)(b=>{const _=E(b);return _?(0,Ze.D)(_).pipe((0,Tn.U)(()=>b)):(0,Fe.of)(b)})}let Co=(()=>{class E{buildTitle(_){let S,P=_.root;for(;void 0!==P;)S=this.getResolvedTitleForRoute(P)??S,P=P.children.find(Z=>Z.outlet===qt);return S}getResolvedTitleForRoute(_){return _.data[In]}}return E.\u0275fac=function(_){return new(_||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(ma)},providedIn:"root"}),E})(),ma=(()=>{class E extends Co{constructor(_){super(),this.title=_}updateTitle(_){const S=this.buildTitle(_);void 0!==S&&this.title.setTitle(S)}}return E.\u0275fac=function(_){return new(_||E)(g.LFG(Qt.Dx))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Dt{}class Zi extends class jr{shouldDetach(b){return!1}store(b,_){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,_){return b.routeConfig===_.routeConfig}}{}const hn=new g.OlP("",{providedIn:"root",factory:()=>({})}),Ea=new g.OlP("ROUTES");let Zt=(()=>{class E{constructor(_,S){this.injector=_,this.compiler=S,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,Fe.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const S=yr(_.loadComponent()).pipe((0,an.b)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=Z}),(0,_n.x)(()=>{this.componentLoaders.delete(_)})),P=new bt.c(S,()=>new sn.xQ).pipe((0,mt.x)());return this.componentLoaders.set(_,P),P}loadChildren(_,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,Fe.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Z=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Tn.U)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(S);let lt,Rt,hr=!1;Array.isArray(Ce)?Rt=Ce:(lt=Ce.create(_).injector,Rt=Vr(lt.get(Ea,[],g.XFs.Self|g.XFs.Optional)));return{routes:Rt.map(Xr),injector:lt}}),(0,_n.x)(()=>{this.childrenLoaders.delete(S)})),he=new bt.c(Z,()=>new sn.xQ).pipe((0,mt.x)());return this.childrenLoaders.set(S,he),he}loadModuleFactoryOrRoutes(_){return yr(_()).pipe((0,Ke.zg)(S=>S instanceof g.YKP||Array.isArray(S)?(0,Fe.of)(S):(0,Ze.D)(this.compiler.compileModuleAsync(S))))}}return E.\u0275fac=function(_){return new(_||E)(g.LFG(g.zs3),g.LFG(g.Sil))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),E})();class it{}class xt{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,_){return b}}function Ga(E){throw E}function Go(E,b,_){return b.parse("/")}const Ju={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Wa(){const E=(0,g.f3M)(Qn),b=(0,g.f3M)(N),_=(0,g.f3M)(ze.Ye),S=(0,g.f3M)(g.zs3),P=(0,g.f3M)(g.Sil),Z=(0,g.f3M)(Ea,{optional:!0})??[],he=(0,g.f3M)(hn,{optional:!0})??{},Ce=(0,g.f3M)(ma),lt=(0,g.f3M)(Co,{optional:!0}),Rt=(0,g.f3M)(it,{optional:!0}),hr=(0,g.f3M)(Dt,{optional:!0}),Jt=new Vi(null,E,b,_,S,P,Vr(Z));return Rt&&(Jt.urlHandlingStrategy=Rt),hr&&(Jt.routeReuseStrategy=hr),Jt.titleStrategy=lt??Ce,function du(E,b){E.errorHandler&&(b.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(b.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(b.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(b.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(b.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(b.canceledNavigationResolution=E.canceledNavigationResolution)}(he,Jt),Jt}let Vi=(()=>{class E{constructor(_,S,P,Z,he,Ce,lt){this.rootComponentType=_,this.urlSerializer=S,this.rootContexts=P,this.location=Z,this.config=lt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new sn.xQ,this.errorHandler=Ga,this.malformedUriErrorHandler=Go,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Fe.of)(void 0),this.urlHandlingStrategy=new xt,this.routeReuseStrategy=new Zi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=he.get(Zt),this.configLoader.onLoadEndListener=Dn=>this.triggerEvent(new Sr(Dn)),this.configLoader.onLoadStartListener=Dn=>this.triggerEvent(new Hn(Dn)),this.ngModule=he.get(g.h0i),this.console=he.get(g.c2e);const Jt=he.get(g.R0b);this.isNgZoneEnabled=Jt instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(lt),this.currentUrlTree=function Er(){return new we(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ws(this.currentUrlTree,this.rootComponentType),this.transitions=new Ft.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(_){const S=this.events;return _.pipe((0,ot.h)(P=>0!==P.id),(0,Tn.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,wt.w)(P=>{let Z=!1,he=!1;return(0,Fe.of)(P).pipe((0,an.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,wt.w)(Ce=>{const lt=this.browserUrlTree.toString(),Rt=!this.navigated||Ce.extractedUrl.toString()!==lt||lt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Rt)&&this.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return _i(Ce.source)&&(this.browserUrlTree=Ce.extractedUrl),(0,Fe.of)(Ce).pipe((0,wt.w)(Jt=>{const Dn=this.transitions.getValue();return S.next(new Po(Jt.id,this.serializeUrl(Jt.extractedUrl),Jt.source,Jt.restoredState)),Dn!==this.transitions.getValue()?et.E:Promise.resolve(Jt)}),function Pe(E,b,_,S){return(0,wt.w)(P=>function ie(E,b,_,S,P){return new Me(E,b,_,S,P).apply()}(E,b,_,P.extractedUrl,S).pipe((0,Tn.U)(Z=>({...P,urlAfterRedirects:Z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,an.b)(Jt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Jt.urlAfterRedirects},P.urlAfterRedirects=Jt.urlAfterRedirects}),function cn(E,b,_,S,P,Z){return(0,Ke.zg)(he=>function dn(E,b,_,S,P,Z,he="emptyOnly",Ce="legacy"){return new bn(E,b,_,S,P,he,Ce,Z).recognize().pipe((0,wt.w)(lt=>null===lt?function vn(E){return new ee.y(b=>b.error(E))}(new gt):(0,Fe.of)(lt)))}(E,b,_,he.urlAfterRedirects,S.serialize(he.urlAfterRedirects),S,P,Z).pipe((0,Tn.U)(Ce=>({...he,targetSnapshot:Ce}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,an.b)(Jt=>{if(P.targetSnapshot=Jt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Jt.extras.skipLocationChange){const rs=this.urlHandlingStrategy.merge(Jt.urlAfterRedirects,Jt.rawUrl);this.setBrowserUrl(rs,Jt)}this.browserUrlTree=Jt.urlAfterRedirects}const Dn=new ke(Jt.id,this.serializeUrl(Jt.extractedUrl),this.serializeUrl(Jt.urlAfterRedirects),Jt.targetSnapshot);S.next(Dn)}));if(Rt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Dn,extractedUrl:rs,source:is,restoredState:ni,extras:$s}=Ce,hs=new Po(Dn,this.serializeUrl(rs),is,ni);S.next(hs);const aa=Ws(rs,this.rootComponentType).snapshot;return P={...Ce,targetSnapshot:aa,urlAfterRedirects:rs,extras:{...$s,skipLocationChange:!1,replaceUrl:!1}},(0,Fe.of)(P)}return this.rawUrlTree=Ce.rawUrl,Ce.resolve(null),et.E}),(0,an.b)(Ce=>{const lt=new qe(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(lt)}),(0,Tn.U)(Ce=>P={...Ce,guards:vs(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)}),function ti(E,b){return(0,Ke.zg)(_=>{const{targetSnapshot:S,currentSnapshot:P,guards:{canActivateChecks:Z,canDeactivateChecks:he}}=_;return 0===he.length&&0===Z.length?(0,Fe.of)({..._,guardsResult:!0}):function fo(E,b,_,S){return(0,Ze.D)(E).pipe((0,Ke.zg)(P=>function ro(E,b,_,S,P){const Z=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,Fe.of)(!0);const he=Z.map(Ce=>{const lt=Ps(Ce,b,P);return yr(function Io(E){return E&&ei(E.canDeactivate)}(lt)?lt.canDeactivate(E,b,_,S):lt(E,b,_,S)).pipe((0,Lt.P)())});return(0,Fe.of)(he).pipe(Zs())}(P.component,P.route,_,b,S)),(0,Lt.P)(P=>!0!==P,!0))}(he,S,P,E).pipe((0,Ke.zg)(Ce=>Ce&&function Ss(E){return"boolean"==typeof E}(Ce)?function ba(E,b,_,S){return(0,Ze.D)(b).pipe((0,pn.b)(P=>(0,en.z)(function pa(E,b){return null!==E&&b&&b(new ar(E)),(0,Fe.of)(!0)}(P.route.parent,S),function To(E,b){return null!==E&&b&&b(new Ls(E)),(0,Fe.of)(!0)}(P.route,S),function ga(E,b,_){const S=b[b.length-1],Z=b.slice(0,b.length-1).reverse().map(he=>function no(E){const b=E.routeConfig?E.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:E,guards:b}:null}(he)).filter(he=>null!==he).map(he=>oe(()=>{const Ce=he.guards.map(lt=>{const Rt=Ps(lt,he.node,_);return yr(function ws(E){return E&&ei(E.canActivateChild)}(Rt)?Rt.canActivateChild(S,E):Rt(S,E)).pipe((0,Lt.P)())});return(0,Fe.of)(Ce).pipe(Zs())}));return(0,Fe.of)(Z).pipe(Zs())}(E,P.path,_),function zo(E,b,_){const S=b.routeConfig?b.routeConfig.canActivate:null;if(!S||0===S.length)return(0,Fe.of)(!0);const P=S.map(Z=>oe(()=>{const he=Ps(Z,b,_);return yr(function Bs(E){return E&&ei(E.canActivate)}(he)?he.canActivate(b,E):he(b,E)).pipe((0,Lt.P)())}));return(0,Fe.of)(P).pipe(Zs())}(E,P.route,_))),(0,Lt.P)(P=>!0!==P,!0))}(S,Z,E,b):(0,Fe.of)(Ce)),(0,Tn.U)(Ce=>({..._,guardsResult:Ce})))})}(this.ngModule.injector,Ce=>this.triggerEvent(Ce)),(0,an.b)(Ce=>{if(P.guardsResult=Ce.guardsResult,gi(Ce.guardsResult))throw ts(0,Ce.guardsResult);const lt=new _t(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.triggerEvent(lt)}),(0,ot.h)(Ce=>!!Ce.guardsResult||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",3),!1)),tr(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,Fe.of)(Ce).pipe((0,an.b)(lt=>{const Rt=new Ut(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Rt)}),(0,wt.w)(lt=>{let Rt=!1;return(0,Fe.of)(lt).pipe(function Mn(E,b){return(0,Ke.zg)(_=>{const{targetSnapshot:S,guards:{canActivateChecks:P}}=_;if(!P.length)return(0,Fe.of)(_);let Z=0;return(0,Ze.D)(P).pipe((0,pn.b)(he=>function Jn(E,b,_,S){const P=E.routeConfig,Z=E._resolve;return void 0!==P?.title&&!xi(P)&&(Z[In]=P.title),function Ki(E,b,_,S){const P=function qi(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===P.length)return(0,Fe.of)({});const Z={};return(0,Ze.D)(P).pipe((0,Ke.zg)(he=>function Or(E,b,_,S){const P=Ps(E,b,S);return yr(P.resolve?P.resolve(b,_):P(b,_))}(E[he],b,_,S).pipe((0,Lt.P)(),(0,an.b)(Ce=>{Z[he]=Ce}))),Nt(1),function Ln(E){return b=>b.lift(new Yt(E))}(Z),(0,Cn.K)(he=>he instanceof Pt.K?et.E:(0,ct._)(he)))}(Z,E,b,S).pipe((0,Tn.U)(he=>(E._resolvedData=he,E.data=Ds(E,_).resolve,P&&xi(P)&&(E.data[In]=P.title),null)))}(he.route,S,E,b)),(0,an.b)(()=>Z++),Nt(1),(0,Ke.zg)(he=>Z===P.length?(0,Fe.of)(_):et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,an.b)({next:()=>Rt=!0,complete:()=>{Rt||(this.restoreHistory(lt),this.cancelNavigationTransition(lt,"",2))}}))}),(0,an.b)(lt=>{const Rt=new ln(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Rt)}))}),tr(Ce=>{const lt=Rt=>{const hr=[];Rt.routeConfig?.loadComponent&&!Rt.routeConfig._loadedComponent&&hr.push(this.configLoader.loadComponent(Rt.routeConfig).pipe((0,an.b)(Jt=>{Rt.component=Jt}),(0,Tn.U)(()=>{})));for(const Jt of Rt.children)hr.push(...lt(Jt));return hr};return ce(lt(Ce.targetSnapshot.root)).pipe((0,mr.d)(),(0,at.q)(1))}),tr(()=>this.afterPreactivation()),(0,Tn.U)(Ce=>{const lt=function Vs(E,b,_){const S=bo(E,b._root,_?_._root:void 0);return new lo(S,b)}(this.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return P={...Ce,targetRouterState:lt}}),(0,an.b)(Ce=>{this.currentUrlTree=Ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl),this.routerState=Ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ce),this.browserUrlTree=Ce.urlAfterRedirects)}),((E,b,_)=>(0,Tn.U)(S=>(new xr(b,S.targetRouterState,S.currentRouterState,_).activate(E),S)))(this.rootContexts,this.routeReuseStrategy,Ce=>this.triggerEvent(Ce)),(0,an.b)({next(){Z=!0},complete(){Z=!0}}),(0,_n.x)(()=>{Z||he||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),(0,Cn.K)(Ce=>{if(he=!0,Cs(Ce)){Us(Ce)||(this.navigated=!0,this.restoreHistory(P,!0));const lt=new Ci(P.id,this.serializeUrl(P.extractedUrl),Ce.message,Ce.cancellationCode);if(S.next(lt),Us(Ce)){const Rt=this.urlHandlingStrategy.merge(Ce.url,this.rawUrlTree),hr={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_i(P.source)};this.scheduleNavigation(Rt,"imperative",null,hr,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const lt=new Re(P.id,this.serializeUrl(P.extractedUrl),Ce,P.targetSnapshot??void 0);S.next(lt);try{P.resolve(this.errorHandler(Ce))}catch(Rt){P.reject(Rt)}}return et.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next({...this.transitions.value,..._})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const S="popstate"===_.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{const P={replaceUrl:!0},Z=_.state?.navigationId?_.state:null;if(Z){const Ce={...Z};delete Ce.navigationId,delete Ce.\u0275routerPageId,0!==Object.keys(Ce).length&&(P.state=Ce)}const he=this.parseUrl(_.url);this.scheduleNavigation(he,S,Z,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){this.config=_.map(Xr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,S={}){const{relativeTo:P,queryParams:Z,fragment:he,queryParamsHandling:Ce,preserveFragment:lt}=S,Rt=P||this.routerState.root,hr=lt?this.currentUrlTree.fragment:he;let Jt=null;switch(Ce){case"merge":Jt={...this.currentUrlTree.queryParams,...Z};break;case"preserve":Jt=this.currentUrlTree.queryParams;break;default:Jt=Z||null}return null!==Jt&&(Jt=this.removeEmptyProps(Jt)),dr(Rt,this.currentUrlTree,_,Jt,hr??null)}navigateByUrl(_,S={skipLocationChange:!1}){const P=gi(_)?_:this.parseUrl(_),Z=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(Z,"imperative",null,S)}navigate(_,S={skipLocationChange:!1}){return function Oa(E){for(let b=0;b<E.length;b++){if(null==E[b])throw new g.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,S),S)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let S;try{S=this.urlSerializer.parse(_)}catch(P){S=this.malformedUriErrorHandler(P,this.urlSerializer,_)}return S}isActive(_,S){let P;if(P=!0===S?{...Ju}:!1===S?{...Pa}:S,gi(_))return ii(this.currentUrlTree,_,P);const Z=this.parseUrl(_);return ii(this.currentUrlTree,Z,P)}removeEmptyProps(_){return Object.keys(_).reduce((S,P)=>{const Z=_[P];return null!=Z&&(S[P]=Z),S},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new Is(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,S,P,Z,he){if(this.disposed)return Promise.resolve(!1);let Ce,lt,Rt;he?(Ce=he.resolve,lt=he.reject,Rt=he.promise):Rt=new Promise((Dn,rs)=>{Ce=Dn,lt=rs});const hr=++this.navigationId;let Jt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),Jt=P&&P.\u0275routerPageId?P.\u0275routerPageId:Z.replaceUrl||Z.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Jt=0,this.setTransition({id:hr,targetPageId:Jt,source:S,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:Z,resolve:Ce,reject:lt,promise:Rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rt.catch(Dn=>Promise.reject(Dn))}setBrowserUrl(_,S){const P=this.urlSerializer.serialize(_),Z={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.isCurrentPathEqualTo(P)||S.extras.replaceUrl?this.location.replaceState(P,"",Z):this.location.go(P,"",Z)}restoreHistory(_,S=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,S,P){const Z=new Ci(_.id,this.serializeUrl(_.extractedUrl),S,P);this.triggerEvent(Z),_.resolve(!1)}generateNgRouterState(_,S){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:S}:{navigationId:_}}}return E.\u0275fac=function(_){g.$Z()},E.\u0275prov=g.Yz7({token:E,factory:function(){return Wa()},providedIn:"root"}),E})();function _i(E){return"imperative"!==E}class Wo{}let Rr=(()=>{class E{constructor(_,S,P,Z,he){this.router=_,this.injector=P,this.preloadingStrategy=Z,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe((0,ot.h)(_=>_ instanceof Is),(0,pn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,S){const P=[];for(const Z of S){Z.providers&&!Z._injector&&(Z._injector=(0,g.MMx)(Z.providers,_,`Route: ${Z.path}`));const he=Z._injector??_,Ce=Z._loadedInjector??he;Z.loadChildren&&!Z._loadedRoutes&&void 0===Z.canLoad||Z.loadComponent&&!Z._loadedComponent?P.push(this.preloadConfig(he,Z)):(Z.children||Z._loadedRoutes)&&P.push(this.processRoutes(Ce,Z.children??Z._loadedRoutes))}return(0,Ze.D)(P).pipe((0,er.J)())}preloadConfig(_,S){return this.preloadingStrategy.preload(S,()=>{let P;P=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(_,S):(0,Fe.of)(null);const Z=P.pipe((0,Ke.zg)(he=>null===he?(0,Fe.of)(void 0):(S._loadedRoutes=he.routes,S._loadedInjector=he.injector,this.processRoutes(he.injector??_,he.routes))));if(S.loadComponent&&!S._loadedComponent){const he=this.loader.loadComponent(S);return(0,Ze.D)([Z,he]).pipe((0,er.J)())}return Z})}}return E.\u0275fac=function(_){return new(_||E)(g.LFG(Vi),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Wo),g.LFG(Zt))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),E})();const Cr=new g.OlP("");let Xu=(()=>{class E{constructor(_,S,P={}){this.router=_,this.viewportScroller=S,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Po?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Is&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Qi&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,S){this.router.triggerEvent(new Qi(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(_){g.$Z()},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),E})();const Ka=new g.OlP("ROUTER_FORROOT_GUARD"),ka=new g.OlP(""),Ko=[ze.Ye,{provide:Qn,useClass:Nr},{provide:Vi,useFactory:Wa},N,{provide:zi,useFactory:function Ia(E){return E.routerState.root},deps:[Vi]},Zt];function Nu(){return new g.PXZ("Router",Vi)}let el=(()=>{class E{constructor(_){}static forRoot(_,S){return{ngModule:E,providers:[Ko,[],Ta(_),{provide:Ka,useFactory:ko,deps:[[Vi,new g.FiY,new g.tp0]]},{provide:hn,useValue:S||{}},S?.useHash?{provide:ze.S$,useClass:ze.Do}:{provide:ze.S$,useClass:ze.b0},{provide:Cr,useFactory:()=>{const E=(0,g.f3M)(Vi),b=(0,g.f3M)(ze.EM),_=(0,g.f3M)(hn);return _.scrollOffset&&b.setOffset(_.scrollOffset),new Xu(E,b,_)}},S?.preloadingStrategy?go(S.preloadingStrategy):[],{provide:g.PXZ,multi:!0,useFactory:Nu},S?.initialNavigation?qo(S):[],[{provide:So,useFactory:js},{provide:g.tb,multi:!0,useExisting:So}]]}}static forChild(_){return{ngModule:E,providers:[Ta(_)]}}}return E.\u0275fac=function(_){return new(_||E)(g.LFG(Ka,8))},E.\u0275mod=g.oAB({type:E}),E.\u0275inj=g.cJS({}),E})();function ko(E){return"guarded"}function Ta(E){return[{provide:Ea,multi:!0,useValue:E}]}function js(){const E=(0,g.f3M)(g.zs3);return b=>{const _=E.get(g.z2F);if(b!==_.components[0])return;const S=E.get(Vi),P=E.get(Je);1===E.get(Ys)&&S.initialNavigation(),E.get(ka,null,g.XFs.Optional)?.setUpPreloading(),E.get(Cr,null,g.XFs.Optional)?.init(),S.resetRootComponentType(_.componentTypes[0]),P.next(),P.complete()}}const So=new g.OlP("");function qo(E){return["disabled"===E.initialNavigation?[{provide:g.ip1,multi:!0,useFactory:()=>{const E=(0,g.f3M)(Vi);return()=>{E.setUpLocationChangeListener()}}},{provide:Ys,useValue:2}]:[],"enabledBlocking"===E.initialNavigation?[{provide:Ys,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:E=>{const b=E.get(ze.V_,Promise.resolve(null));let _=!1;return()=>b.then(()=>new Promise(P=>{const Z=E.get(Vi),he=E.get(Je);(function S(P){E.get(Vi).events.pipe((0,ot.h)(he=>he instanceof Is||he instanceof Ci||he instanceof Re),(0,Tn.U)(he=>he instanceof Is||he instanceof Ci&&(0===he.code||1===he.code)&&null),(0,ot.h)(he=>null!==he),(0,at.q)(1)).subscribe(()=>{P()})})(()=>{P(!0),_=!0}),Z.afterPreactivation=()=>(P(!0),_||he.closed?(0,Fe.of)(void 0):he),Z.initialNavigation()}))}}]:[]]}const Je=new g.OlP("",{factory:()=>new sn.xQ}),Ys=new g.OlP("",{providedIn:"root",factory:()=>1});function go(E){return[Rr,{provide:ka,useExisting:Rr},{provide:Wo,useExisting:E}]}},3942:(Kt,Ge,U)=>{U.d(Ge,{Z:()=>Ze});var g=U(2090),F=U(4859),V=U(9681),ye=U(1877);class me{constructor(oe,Fe){this._delegate=oe,this.firebase=Fe,(0,V._addComponent)(oe,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(oe,Fe=V._DEFAULT_ENTRY_NAME){var Ft;this._delegate.checkDestroyed();const en=this._delegate.container.getProvider(oe);return!en.isInitialized()&&"EXPLICIT"===(null===(Ft=en.getComponent())||void 0===Ft?void 0:Ft.instantiationMode)&&en.initialize(),en.getImmediate({identifier:Fe})}_removeServiceInstance(oe,Fe=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(Fe)}_addComponent(oe){(0,V._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,V._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function le(){const et=function ee(et){const oe={},Fe={__esModule:!0,initializeApp:function vt(sn,ze={}){const ot=V.initializeApp(sn,ze);if((0,g.r3)(oe,ot.name))return oe[ot.name];const Vt=new et(ot,Fe);return oe[ot.name]=Vt,Vt},app:en,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Pt(sn){const ze=sn.name,ot=ze.replace("-compat","");if(V._registerComponent(sn)&&"PUBLIC"===sn.type){const Vt=(Nt=en())=>{if("function"!=typeof Nt[ot])throw fe.create("invalid-app-argument",{appName:ze});return Nt[ot]()};void 0!==sn.serviceProps&&(0,g.ZB)(Vt,sn.serviceProps),Fe[ot]=Vt,et.prototype[ot]=function(...Nt){return this._getService.bind(this,ze).apply(this,sn.multipleInstances?Nt:[])}}return"PUBLIC"===sn.type?Fe[ot]:null},removeApp:function Ft(sn){delete oe[sn]},useAsService:function bt(sn,ze){return"serverAuth"===ze?null:ze},modularAPIs:V}};function en(sn){if(!(0,g.r3)(oe,sn=sn||V._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:sn});return oe[sn]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function ct(){return Object.keys(oe).map(sn=>oe[sn])}}),en.App=et,Fe}(me);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function oe(Fe){(0,g.ZB)(et,Fe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),et}(),se=new ye.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=X;!function He(et){(0,V.registerVersion)("@firebase/app-compat","0.1.31",et)}()},9681:(Kt,Ge,U)=>{U.r(Ge),U.d(Ge,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>br,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>wt,_addOrOverwriteComponent:()=>at,_apps:()=>lr,_clearComponents:()=>pn,_components:()=>Tn,_getProvider:()=>Ke,_registerComponent:()=>Ue,_removeServiceInstance:()=>Lt,deleteApp:()=>Qt,getApp:()=>mt,getApps:()=>er,initializeApp:()=>_n,onLog:()=>Bn,registerVersion:()=>$n,setLogLevel:()=>$r});var g=U(5861),F=U(4859),V=U(1877),ye=U(2090),me=U(8766);class ne{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(pe=>{if(function fe(de){return"VERSION"===de.getComponent()?.type}(pe)){const ht=pe.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(pe=>pe).join(" ")}}const ee="@firebase/app",X=new V.Yd("@firebase/app"),Ln="[DEFAULT]",Yt={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lr=new Map,Tn=new Map;function wt(de,we){try{de.container.addComponent(we)}catch(pe){X.debug(`Component ${we.name} failed to register with FirebaseApp ${de.name}`,pe)}}function at(de,we){de.container.addOrOverwriteComponent(we)}function Ue(de){const we=de.name;if(Tn.has(we))return X.debug(`There were multiple attempts to register component ${we}.`),!1;Tn.set(we,de);for(const pe of lr.values())wt(pe,de);return!0}function Ke(de,we){const pe=de.container.getProvider("heartbeat").getImmediate({optional:!0});return pe&&pe.triggerHeartbeat(),de.container.getProvider(we)}function Lt(de,we,pe=Ln){Ke(de,we).clearInstance(pe)}function pn(){Tn.clear()}const Cn=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sr{constructor(we,pe,ht){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},pe),this._name=pe.name,this._automaticDataCollectionEnabled=pe.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}const br="9.9.2";function _n(de,we={}){"object"!=typeof we&&(we={name:we});const pe=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},we),ht=pe.name;if("string"!=typeof ht||!ht)throw Cn.create("bad-app-name",{appName:String(ht)});const zt=lr.get(ht);if(zt){if((0,ye.vZ)(de,zt.options)&&(0,ye.vZ)(pe,zt.config))return zt;throw Cn.create("duplicate-app",{appName:ht})}const nn=new F.H0(ht);for(const Qn of Tn.values())nn.addComponent(Qn);const zn=new sr(de,pe,nn);return lr.set(ht,zn),zn}function mt(de=Ln){const we=lr.get(de);if(!we)throw Cn.create("no-app",{appName:de});return we}function er(){return Array.from(lr.values())}function Qt(de){return qt.apply(this,arguments)}function qt(){return(qt=(0,g.Z)(function*(de){const we=de.name;lr.has(we)&&(lr.delete(we),yield Promise.all(de.container.getProviders().map(pe=>pe.delete())),de.isDeleted=!0)})).apply(this,arguments)}function $n(de,we,pe){var ht;let zt=null!==(ht=Yt[de])&&void 0!==ht?ht:de;pe&&(zt+=`-${pe}`);const nn=zt.match(/\s|\//),zn=we.match(/\s|\//);if(nn||zn){const Qn=[`Unable to register library "${zt}" with version "${we}":`];return nn&&Qn.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),nn&&zn&&Qn.push("and"),zn&&Qn.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void X.warn(Qn.join(" "))}Ue(new F.wA(`${zt}-version`,()=>({library:zt,version:we}),"VERSION"))}function Bn(de,we){if(null!==de&&"function"!=typeof de)throw Cn.create("invalid-log-argument");(0,V.Am)(de,we)}function $r(de){(0,V.Ub)(de)}const Pn="firebase-heartbeat-store";let Vr=null;function or(){return Vr||(Vr=(0,me.X3)("firebase-heartbeat-database",1,{upgrade:(de,we)=>{0===we&&de.createObjectStore(Pn)}}).catch(de=>{throw Cn.create("idb-open",{originalErrorMessage:de.message})})),Vr}function Ot(){return(Ot=(0,g.Z)(function*(de){var we;try{return(yield or()).transaction(Pn).objectStore(Pn).get(Er(de))}catch(pe){if(pe instanceof ye.ZR)X.warn(pe.message);else{const ht=Cn.create("idb-get",{originalErrorMessage:null===(we=pe)||void 0===we?void 0:we.message});X.warn(ht.message)}}})).apply(this,arguments)}function yr(de,we){return zr.apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(de,we){var pe;try{const zt=(yield or()).transaction(Pn,"readwrite");return yield zt.objectStore(Pn).put(we,Er(de)),zt.done}catch(ht){if(ht instanceof ye.ZR)X.warn(ht.message);else{const zt=Cn.create("idb-set",{originalErrorMessage:null===(pe=ht)||void 0===pe?void 0:pe.message});X.warn(zt.message)}}})).apply(this,arguments)}function Er(de){return`${de.name}!${de.options.appId}`}class ii{constructor(we){this.container=we,this._heartbeatsCache=null;const pe=this.container.getProvider("app").getImmediate();this._storage=new gn(pe),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var we=this;return(0,g.Z)(function*(){const ht=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=On();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==zt&&!we._heartbeatsCache.heartbeats.some(nn=>nn.date===zt))return we._heartbeatsCache.heartbeats.push({date:zt,agent:ht}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(nn=>{const zn=new Date(nn.date).valueOf();return Date.now()-zn<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,g.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const pe=On(),{heartbeatsToSend:ht,unsentEntries:zt}=function Ir(de,we=1024){const pe=[];let ht=de.slice();for(const zt of de){const nn=pe.find(zn=>zn.agent===zt.agent);if(nn){if(nn.dates.push(zt.date),Oe(pe)>we){nn.dates.pop();break}}else if(pe.push({agent:zt.agent,dates:[zt.date]}),Oe(pe)>we){pe.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:pe,unsentEntries:ht}}(we._heartbeatsCache.heartbeats),nn=(0,ye.L)(JSON.stringify({version:2,heartbeats:ht}));return we._heartbeatsCache.lastSentHeartbeatDate=pe,zt.length>0?(we._heartbeatsCache.heartbeats=zt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),nn})()}}function On(){return(new Date).toISOString().substring(0,10)}class gn{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,g.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function Xt(de){return Ot.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var pe=this;return(0,g.Z)(function*(){var ht;if(yield pe._canUseIndexedDBPromise){const nn=yield pe.read();return yr(pe.app,{lastSentHeartbeatDate:null!==(ht=we.lastSentHeartbeatDate)&&void 0!==ht?ht:nn.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var pe=this;return(0,g.Z)(function*(){var ht;if(yield pe._canUseIndexedDBPromise){const nn=yield pe.read();return yr(pe.app,{lastSentHeartbeatDate:null!==(ht=we.lastSentHeartbeatDate)&&void 0!==ht?ht:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...we.heartbeats]})}})()}}function Oe(de){return(0,ye.L)(JSON.stringify({version:2,heartbeats:de})).length}!function De(de){Ue(new F.wA("platform-logger",we=>new ne(we),"PRIVATE")),Ue(new F.wA("heartbeat",we=>new ii(we),"PRIVATE")),$n(ee,"0.7.30",de),$n(ee,"0.7.30","esm2017"),$n("fire-js","")}("")},4859:(Kt,Ge,U)=>{U.d(Ge,{H0:()=>ee,wA:()=>V});var g=U(5861),F=U(2090);class V{constructor(X,se,ce){this.name=X,this.instanceFactory=se,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const ye="[DEFAULT]";class me{constructor(X,se){this.name=X,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const se=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(se)){const ce=new F.BH;if(this.instancesDeferred.set(se,ce),this.isInitialized(se)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:se});Ve&&ce.resolve(Ve)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(X){var se;const ce=this.normalizeInstanceIdentifier(X?.identifier),Ve=null!==(se=X?.optional)&&void 0!==se&&se;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(He){if(Ve)return null;throw He}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function fe(le){return"EAGER"===le.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[se,ce]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(se);try{const He=this.getOrInitializeService({instanceIdentifier:Ve});ce.resolve(He)}catch{}}}}clearInstance(X=ye){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,g.Z)(function*(){const se=Array.from(X.instances.values());yield Promise.all([...se.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...se.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=ye){return this.instances.has(X)}getOptions(X=ye){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:se={}}=X,ce=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:ce,options:se});for(const[He,Ze]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(He)&&Ze.resolve(Ve);return Ve}onInit(X,se){var ce;const Ve=this.normalizeInstanceIdentifier(se),He=null!==(ce=this.onInitCallbacks.get(Ve))&&void 0!==ce?ce:new Set;He.add(X),this.onInitCallbacks.set(Ve,He);const Ze=this.instances.get(Ve);return Ze&&X(Ze,Ve),()=>{He.delete(X)}}invokeOnInitCallbacks(X,se){const ce=this.onInitCallbacks.get(se);if(ce)for(const Ve of ce)try{Ve(X,se)}catch{}}getOrInitializeService({instanceIdentifier:X,options:se={}}){let ce=this.instances.get(X);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(le=X,le===ye?void 0:le),options:se}),this.instances.set(X,ce),this.instancesOptions.set(X,se),this.invokeOnInitCallbacks(ce,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,ce)}catch{}var le;return ce||null}normalizeInstanceIdentifier(X=ye){return this.component?this.component.multipleInstances?X:ye:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const se=this.getProvider(X.name);if(se.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);se.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const se=new me(X,this);return this.providers.set(X,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(Kt,Ge,U)=>{U.d(Ge,{Am:()=>le,Ub:()=>ee,Yd:()=>fe,in:()=>F});const g=[];var F=(()=>{return(X=F||(F={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",F;var X})();const V={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ye=F.INFO,me={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},ne=(X,se,...ce)=>{if(se<X.logLevel)return;const Ve=(new Date).toISOString(),He=me[se];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[He](`[${Ve}]  ${X.name}:`,...ce)};class fe{constructor(se){this.name=se,this._logLevel=ye,this._logHandler=ne,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in F))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?V[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...se),this._logHandler(this,F.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...se),this._logHandler(this,F.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,F.INFO,...se),this._logHandler(this,F.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,F.WARN,...se),this._logHandler(this,F.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...se),this._logHandler(this,F.ERROR,...se)}}function ee(X){g.forEach(se=>{se.setLogLevel(X)})}function le(X,se){for(const ce of g){let Ve=null;se&&se.level&&(Ve=V[se.level]),ce.userLogHandler=null===X?null:(He,Ze,...et)=>{const oe=et.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Ze>=(Ve??He.logLevel)&&X({level:F[Ze].toLowerCase(),message:oe,args:et,type:He.name})}}}},3868:(Kt,Ge,U)=>{U.d(Ge,{BN:()=>M,uH:()=>pt});var g=U(4650);function F(x,B){var z=Object.keys(x);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(x);B&&(Q=Q.filter(function(ie){return Object.getOwnPropertyDescriptor(x,ie).enumerable})),z.push.apply(z,Q)}return z}function V(x){for(var B=1;B<arguments.length;B++){var z=null!=arguments[B]?arguments[B]:{};B%2?F(Object(z),!0).forEach(function(Q){le(x,Q,z[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(z)):F(Object(z)).forEach(function(Q){Object.defineProperty(x,Q,Object.getOwnPropertyDescriptor(z,Q))})}return x}function ye(x){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(x)}function fe(x,B){for(var z=0;z<B.length;z++){var Q=B[z];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(x,Q.key,Q)}}function le(x,B,z){return B in x?Object.defineProperty(x,B,{value:z,enumerable:!0,configurable:!0,writable:!0}):x[B]=z,x}function ce(x,B){return function Ze(x){if(Array.isArray(x))return x}(x)||function oe(x,B){var z=null==x?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(null!=z){var Pe,$e,Q=[],ie=!0,Me=!1;try{for(z=z.call(x);!(ie=(Pe=z.next()).done)&&(Q.push(Pe.value),!B||Q.length!==B);ie=!0);}catch(gt){Me=!0,$e=gt}finally{try{!ie&&null!=z.return&&z.return()}finally{if(Me)throw $e}}return Q}}(x,B)||Fe(x,B)||function vt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(x){return function He(x){if(Array.isArray(x))return Ft(x)}(x)||function et(x){if(typeof Symbol<"u"&&null!=x[Symbol.iterator]||null!=x["@@iterator"])return Array.from(x)}(x)||Fe(x)||function en(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(x,B){if(x){if("string"==typeof x)return Ft(x,B);var z=Object.prototype.toString.call(x).slice(8,-1);if("Object"===z&&x.constructor&&(z=x.constructor.name),"Map"===z||"Set"===z)return Array.from(x);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return Ft(x,B)}}function Ft(x,B){(null==B||B>x.length)&&(B=x.length);for(var z=0,Q=new Array(B);z<B;z++)Q[z]=x[z];return Q}var ct=function(){},Pt={},bt={},sn=null,ze={mark:ct,measure:ct};try{typeof window<"u"&&(Pt=window),typeof document<"u"&&(bt=document),typeof MutationObserver<"u"&&(sn=MutationObserver),typeof performance<"u"&&(ze=performance)}catch{}var Vt=(Pt.navigator||{}).userAgent,Nt=void 0===Vt?"":Vt,$t=Pt,ft=bt,Fn=sn,mr=ze,xn=!!ft.documentElement&&!!ft.head&&"function"==typeof ft.addEventListener&&"function"==typeof ft.createElement,Ln=~Nt.indexOf("MSIE")||~Nt.indexOf("Trident/"),Yt="___FONT_AWESOME___",wt="svg-inline--fa",at="data-fa-i2svg",Ue="data-fa-pseudo-element",Lt="data-prefix",pn="data-icon",an="fontawesome-i2svg",sr=["HTML","HEAD","STYLE","SCRIPT"],br=function(){try{return!0}catch{return!1}}(),_n={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},mt={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},er={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Qt={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},qt=/fa[srltdbk]?[\-\ ]/,$n="fa-layers-text",Bn=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,$r={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},ri=[1,2,3,4,5,6,7,8,9,10],cr=ri.concat([11,12,13,14,15,16,17,18,19,20]),Pn=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],or=[].concat(Ve(Object.keys(mt)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(ri.map(function(x){return"".concat(x,"x")})).concat(cr.map(function(x){return"w-".concat(x)})),Xt=$t.FontAwesomeConfig||{};ft&&"function"==typeof ft.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(x){var B=ce(x,2),Q=B[1],ie=function yr(x){return""===x||"false"!==x&&("true"===x||x)}(function Ot(x){var B=ft.querySelector("script["+x+"]");if(B)return B.getAttribute(x)}(B[0]));null!=ie&&(Xt[Q]=ie)});var Ht=V(V({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:wt,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),Xt);Ht.autoReplaceSvg||(Ht.observeMutations=!1);var Mt={};Object.keys(Ht).forEach(function(x){Object.defineProperty(Mt,x,{enumerable:!0,set:function(z){Ht[x]=z,ii.forEach(function(Q){return Q(Mt)})},get:function(){return Ht[x]}})}),$t.FontAwesomeConfig=Mt;var ii=[],gn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function de(){for(var x=12,B="";x-- >0;)B+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return B}function we(x){for(var B=[],z=(x||[]).length>>>0;z--;)B[z]=x[z];return B}function pe(x){return x.classList?we(x.classList):(x.getAttribute("class")||"").split(" ").filter(function(B){return B})}function ht(x){return"".concat(x).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nn(x){return Object.keys(x||{}).reduce(function(B,z){return B+"".concat(z,": ").concat(x[z].trim(),";")},"")}function zn(x){return x.size!==gn.size||x.x!==gn.x||x.y!==gn.y||x.rotate!==gn.rotate||x.flipX||x.flipY}function ve(){var x="fa",B=wt,z=Mt.familyPrefix,Q=Mt.replacementClass,ie=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(z!==x||Q!==B){var Me=new RegExp("\\.".concat(x,"\\-"),"g"),Pe=new RegExp("\\--".concat(x,"\\-"),"g"),$e=new RegExp("\\.".concat(B),"g");ie=ie.replace(Me,".".concat(z,"-")).replace(Pe,"--".concat(z,"-")).replace($e,".".concat(Q))}return ie}var _e=!1;function rt(){Mt.autoAddCss&&!_e&&(function Oe(x){if(x&&xn){var B=ft.createElement("style");B.setAttribute("type","text/css"),B.innerHTML=x;for(var z=ft.head.childNodes,Q=null,ie=z.length-1;ie>-1;ie--){var Me=z[ie],Pe=(Me.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(Pe)>-1&&(Q=Me)}ft.head.insertBefore(B,Q)}}(ve()),_e=!0)}var At={mixout:function(){return{dom:{css:ve,insertCss:rt}}},hooks:function(){return{beforeDOMElementCreation:function(){rt()},beforeI2svg:function(){rt()}}}},mn=$t||{};mn[Yt]||(mn[Yt]={}),mn[Yt].styles||(mn[Yt].styles={}),mn[Yt].hooks||(mn[Yt].hooks={}),mn[Yt].shims||(mn[Yt].shims=[]);var nt=mn[Yt],Gt=[],be=!1;function ae(x){!xn||(be?setTimeout(x,0):Gt.push(x))}function Ee(x){var B=x.tag,z=x.attributes,Q=void 0===z?{}:z,ie=x.children,Me=void 0===ie?[]:ie;return"string"==typeof x?ht(x):"<".concat(B," ").concat(function zt(x){return Object.keys(x||{}).reduce(function(B,z){return B+"".concat(z,'="').concat(ht(x[z]),'" ')},"").trim()}(Q),">").concat(Me.map(Ee).join(""),"</").concat(B,">")}function dt(x,B,z){if(x&&x[B]&&x[B][z])return{prefix:B,iconName:z,icon:x[B][z]}}xn&&((be=(ft.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ft.readyState))||ft.addEventListener("DOMContentLoaded",function x(){ft.removeEventListener("DOMContentLoaded",x),be=1,Gt.map(function(B){return B()})}));var un=function(B,z,Q,ie){var gt,vn,dn,Me=Object.keys(B),Pe=Me.length,$e=void 0!==ie?function(B,z){return function(Q,ie,Me,Pe){return B.call(z,Q,ie,Me,Pe)}}(z,ie):z;for(void 0===Q?(gt=1,dn=B[Me[0]]):(gt=0,dn=Q);gt<Pe;gt++)dn=$e(dn,B[vn=Me[gt]],vn,B);return dn};function wn(x){var B=function jn(x){for(var B=[],z=0,Q=x.length;z<Q;){var ie=x.charCodeAt(z++);if(ie>=55296&&ie<=56319&&z<Q){var Me=x.charCodeAt(z++);56320==(64512&Me)?B.push(((1023&ie)<<10)+(1023&Me)+65536):(B.push(ie),z--)}else B.push(ie)}return B}(x);return 1===B.length?B[0].toString(16):null}function Bi(x){return Object.keys(x).reduce(function(B,z){var Q=x[z];return Q.icon?B[Q.iconName]=Q.icon:B[z]=Q,B},{})}function Ei(x,B){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Q=z.skipHooks,ie=void 0!==Q&&Q,Me=Bi(B);"function"!=typeof nt.hooks.addPack||ie?nt.styles[x]=V(V({},nt.styles[x]||{}),Me):nt.hooks.addPack(x,Bi(B)),"fas"===x&&Ei("fa",B)}var vr=nt.styles,gi=nt.shims,ji=Object.values(er),Zr=null,as={},_r={},dr={},us={},$i={},Ii=Object.keys(_n);function ls(x,B){var z=B.split("-"),Q=z[0],ie=z.slice(1).join("-");return Q!==x||""===ie||function Es(x){return~or.indexOf(x)}(ie)?null:ie}var Ns=function(){var B=function(Me){return un(vr,function(Pe,$e,gt){return Pe[gt]=un($e,Me,{}),Pe},{})};as=B(function(ie,Me,Pe){return Me[3]&&(ie[Me[3]]=Pe),Me[2]&&Me[2].filter(function(gt){return"number"==typeof gt}).forEach(function(gt){ie[gt.toString(16)]=Pe}),ie}),_r=B(function(ie,Me,Pe){return ie[Pe]=Pe,Me[2]&&Me[2].filter(function(gt){return"string"==typeof gt}).forEach(function(gt){ie[gt]=Pe}),ie}),$i=B(function(ie,Me,Pe){var $e=Me[2];return ie[Pe]=Pe,$e.forEach(function(gt){ie[gt]=Pe}),ie});var z="far"in vr||Mt.autoFetchSvg,Q=un(gi,function(ie,Me){var Pe=Me[0],$e=Me[1],gt=Me[2];return"far"===$e&&!z&&($e="fas"),"string"==typeof Pe&&(ie.names[Pe]={prefix:$e,iconName:gt}),"number"==typeof Pe&&(ie.unicodes[Pe.toString(16)]={prefix:$e,iconName:gt}),ie},{names:{},unicodes:{}});dr=Q.names,us=Q.unicodes,Zr=Hi(Mt.styleDefault)};function Ur(x,B){return(as[x]||{})[B]}function ms(x,B){return($i[x]||{})[B]}function mi(x){return dr[x]||{prefix:null,iconName:null}}function Di(){return Zr}function Hi(x){return mt[x]||mt[_n[x]]||(x in nt.styles?x:null)||null}function Ti(x){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=B.skipLookups,Q=void 0!==z&&z,ie=null,Me=x.reduce(function(Pe,$e){var gt=ls(Mt.familyPrefix,$e);if(vr[$e]?($e=ji.includes($e)?Qt[$e]:$e,ie=$e,Pe.prefix=$e):Ii.indexOf($e)>-1?(ie=$e,Pe.prefix=Hi($e)):gt?Pe.iconName=gt:$e!==Mt.replacementClass&&Pe.rest.push($e),!Q&&Pe.prefix&&Pe.iconName){var vn="fa"===ie?mi(Pe.iconName):{},dn=ms(Pe.prefix,Pe.iconName);vn.prefix&&(ie=null),Pe.iconName=vn.iconName||dn||Pe.iconName,Pe.prefix=vn.prefix||Pe.prefix,"far"===Pe.prefix&&!vr.far&&vr.fas&&!Mt.autoFetchSvg&&(Pe.prefix="fas")}return Pe},{prefix:null,iconName:null,rest:[]});return("fa"===Me.prefix||"fa"===ie)&&(Me.prefix=Di()||"fas"),Me}(function On(x){ii.push(x)})(function(x){Zr=Hi(x.styleDefault)}),Ns();var ui=function(){function x(){(function ne(x,B){if(!(x instanceof B))throw new TypeError("Cannot call a class as a function")})(this,x),this.definitions={}}return function ee(x,B,z){B&&fe(x.prototype,B),z&&fe(x,z),Object.defineProperty(x,"prototype",{writable:!1})}(x,[{key:"add",value:function(){for(var z=this,Q=arguments.length,ie=new Array(Q),Me=0;Me<Q;Me++)ie[Me]=arguments[Me];var Pe=ie.reduce(this._pullDefinitions,{});Object.keys(Pe).forEach(function($e){z.definitions[$e]=V(V({},z.definitions[$e]||{}),Pe[$e]),Ei($e,Pe[$e]);var gt=er[$e];gt&&Ei(gt,Pe[$e]),Ns()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(z,Q){var ie=Q.prefix&&Q.iconName&&Q.icon?{0:Q}:Q;return Object.keys(ie).map(function(Me){var Pe=ie[Me],$e=Pe.prefix,gt=Pe.iconName,vn=Pe.icon,dn=vn[2];z[$e]||(z[$e]={}),dn.length>0&&dn.forEach(function(bn){"string"==typeof bn&&(z[$e][bn]=vn)}),z[$e][gt]=vn}),z}}]),x}(),cs=[],Rs={},oi={},Po=Object.keys(oi);function Ci(x,B){for(var z=arguments.length,Q=new Array(z>2?z-2:0),ie=2;ie<z;ie++)Q[ie-2]=arguments[ie];var Me=Rs[x]||[];return Me.forEach(function(Pe){B=Pe.apply(null,[B].concat(Q))}),B}function Re(x){for(var B=arguments.length,z=new Array(B>1?B-1:0),Q=1;Q<B;Q++)z[Q-1]=arguments[Q];var ie=Rs[x]||[];ie.forEach(function(Me){Me.apply(null,z)})}function ke(){var x=arguments[0],B=Array.prototype.slice.call(arguments,1);return oi[x]?oi[x].apply(null,B):void 0}function qe(x){"fa"===x.prefix&&(x.prefix="fas");var B=x.iconName,z=x.prefix||Di();if(B)return B=ms(z,B)||B,dt(_t.definitions,z,B)||dt(nt.styles,z,B)}var _t=new ui,ln={i2svg:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xn?(Re("beforeI2svg",B),ke("pseudoElements2svg",B),ke("i2svg",B)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=B.autoReplaceSvgRoot;!1===Mt.autoReplaceSvg&&(Mt.autoReplaceSvg=!0),Mt.observeMutations=!0,ae(function(){ar({autoReplaceSvgRoot:z}),Re("watch",B)})}},Sr={noAuto:function(){Mt.autoReplaceSvg=!1,Mt.observeMutations=!1,Re("noAuto")},config:Mt,dom:ln,parse:{icon:function(B){if(null===B)return null;if("object"===ye(B)&&B.prefix&&B.iconName)return{prefix:B.prefix,iconName:ms(B.prefix,B.iconName)||B.iconName};if(Array.isArray(B)&&2===B.length){var z=0===B[1].indexOf("fa-")?B[1].slice(3):B[1],Q=Hi(B[0]);return{prefix:Q,iconName:ms(Q,z)||z}}if("string"==typeof B&&(B.indexOf("".concat(Mt.familyPrefix,"-"))>-1||B.match(qt))){var ie=Ti(B.split(" "),{skipLookups:!0});return{prefix:ie.prefix||Di(),iconName:ms(ie.prefix,ie.iconName)||ie.iconName}}if("string"==typeof B){var Me=Di();return{prefix:Me,iconName:ms(Me,B)||B}}}},library:_t,findIconDefinition:qe,toHtml:Ee},ar=function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=B.autoReplaceSvgRoot,Q=void 0===z?ft:z;(Object.keys(nt.styles).length>0||Mt.autoFetchSvg)&&xn&&Mt.autoReplaceSvg&&Sr.dom.i2svg({node:Q})};function li(x,B){return Object.defineProperty(x,"abstract",{get:B}),Object.defineProperty(x,"html",{get:function(){return x.abstract.map(function(Q){return Ee(Q)})}}),Object.defineProperty(x,"node",{get:function(){if(xn){var Q=ft.createElement("div");return Q.innerHTML=x.html,Q.children}}}),x}function Qi(x){var B=x.icons,z=B.main,Q=B.mask,ie=x.prefix,Me=x.iconName,Pe=x.transform,$e=x.symbol,gt=x.title,vn=x.maskId,dn=x.titleId,bn=x.extra,kn=x.watchable,Yn=void 0!==kn&&kn,Kn=Q.found?Q:z,Kr=Kn.width,ci=Kn.height,di="fak"===ie,qr=[Mt.replacementClass,Me?"".concat(Mt.familyPrefix,"-").concat(Me):""].filter(function(Jn){return-1===bn.classes.indexOf(Jn)}).filter(function(Jn){return""!==Jn||!!Jn}).concat(bn.classes).join(" "),pr={children:[],attributes:V(V({},bn.attributes),{},{"data-prefix":ie,"data-icon":Me,class:qr,role:bn.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Kr," ").concat(ci)})},Wi=di&&!~bn.classes.indexOf("fa-fw")?{width:"".concat(Kr/ci*16*.0625,"em")}:{};Yn&&(pr.attributes[at]=""),gt&&(pr.children.push({tag:"title",attributes:{id:pr.attributes["aria-labelledby"]||"title-".concat(dn||de())},children:[gt]}),delete pr.attributes.title);var ns=V(V({},pr),{},{prefix:ie,iconName:Me,main:z,mask:Q,maskId:vn,transform:Pe,symbol:$e,styles:V(V({},Wi),bn.styles)}),cn=Q.found&&z.found?ke("generateAbstractMask",ns)||{children:[],attributes:{}}:ke("generateAbstractIcon",ns)||{children:[],attributes:{}},Mn=cn.attributes;return ns.children=cn.children,ns.attributes=Mn,$e?function zs(x){var z=x.iconName,Q=x.children,ie=x.attributes,Me=x.symbol,Pe=!0===Me?"".concat(x.prefix,"-").concat(Mt.familyPrefix,"-").concat(z):Me;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:V(V({},ie),{},{id:Pe}),children:Q}]}]}(ns):function Ls(x){var B=x.children,z=x.main,Q=x.mask,ie=x.attributes,Me=x.styles,Pe=x.transform;if(zn(Pe)&&z.found&&!Q.found){var vn={x:z.width/z.height/2,y:.5};ie.style=nn(V(V({},Me),{},{"transform-origin":"".concat(vn.x+Pe.x/16,"em ").concat(vn.y+Pe.y/16,"em")}))}return[{tag:"svg",attributes:ie,children:B}]}(ns)}function Ji(x){var B=x.content,z=x.width,Q=x.height,ie=x.transform,Me=x.title,Pe=x.extra,$e=x.watchable,gt=void 0!==$e&&$e,vn=V(V(V({},Pe.attributes),Me?{title:Me}:{}),{},{class:Pe.classes.join(" ")});gt&&(vn[at]="");var dn=V({},Pe.styles);zn(ie)&&(dn.transform=function Nr(x){var B=x.transform,z=x.width,ie=x.height,Me=void 0===ie?16:ie,Pe=x.startCentered,$e=void 0!==Pe&&Pe,gt="";return gt+=$e&&Ln?"translate(".concat(B.x/16-(void 0===z?16:z)/2,"em, ").concat(B.y/16-Me/2,"em) "):$e?"translate(calc(-50% + ".concat(B.x/16,"em), calc(-50% + ").concat(B.y/16,"em)) "):"translate(".concat(B.x/16,"em, ").concat(B.y/16,"em) "),(gt+="scale(".concat(B.size/16*(B.flipX?-1:1),", ").concat(B.size/16*(B.flipY?-1:1),") "))+"rotate(".concat(B.rotate,"deg) ")}({transform:ie,startCentered:!0,width:z,height:Q}),dn["-webkit-transform"]=dn.transform);var bn=nn(dn);bn.length>0&&(vn.style=bn);var kn=[];return kn.push({tag:"span",attributes:vn,children:[B]}),Me&&kn.push({tag:"span",attributes:{class:"sr-only"},children:[Me]}),kn}function Gs(x){var B=x.content,z=x.title,Q=x.extra,ie=V(V(V({},Q.attributes),z?{title:z}:{}),{},{class:Q.classes.join(" ")}),Me=nn(Q.styles);Me.length>0&&(ie.style=Me);var Pe=[];return Pe.push({tag:"span",attributes:ie,children:[B]}),z&&Pe.push({tag:"span",attributes:{class:"sr-only"},children:[z]}),Pe}var Xs=nt.styles;function Si(x){var B=x[0],z=x[1],Me=ce(x.slice(4),1)[0];return{found:!0,width:B,height:z,icon:Array.isArray(Me)?{tag:"g",attributes:{class:"".concat(Mt.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Mt.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:Me[0]}},{tag:"path",attributes:{class:"".concat(Mt.familyPrefix,"-").concat("primary"),fill:"currentColor",d:Me[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:Me}}}}var Xi={found:!1,width:512,height:512};function lo(x,B){var z=B;return"fa"===B&&null!==Mt.styleDefault&&(B=Di()),new Promise(function(Q,ie){if(ke("missingIconAbstract"),"fa"===z){var Pe=mi(x)||{};x=Pe.iconName||x,B=Pe.prefix||B}if(x&&B&&Xs[B]&&Xs[B][x])return Q(Si(Xs[B][x]));(function ys(x,B){!br&&!Mt.showMissingIcons&&x&&console.error('Icon with name "'.concat(x,'" and prefix "').concat(B,'" is missing.'))})(x,B),Q(V(V({},Xi),{},{icon:Mt.showMissingIcons&&x&&ke("missingIconAbstract")||{}}))})}var Ws=function(){},co=Mt.measurePerformance&&mr&&mr.mark&&mr.measure?mr:{mark:Ws,measure:Ws},zi='FA "6.1.2"',es_begin=function(B){return co.mark("".concat(zi," ").concat(B," begins")),function(){return function(B){co.mark("".concat(zi," ").concat(B," ends")),co.measure("".concat(zi," ").concat(B),"".concat(zi," ").concat(B," begins"),"".concat(zi," ").concat(B," ends"))}(B)}},Oi=function(){};function nr(x){return"string"==typeof(x.getAttribute?x.getAttribute(at):null)}function Vs(x){return ft.createElementNS("http://www.w3.org/2000/svg",x)}function bo(x){return ft.createElement(x)}function Dr(x){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=B.ceFn,Q=void 0===z?"svg"===x.tag?Vs:bo:z;if("string"==typeof x)return ft.createTextNode(x);var ie=Q(x.tag);Object.keys(x.attributes||[]).forEach(function(Pe){ie.setAttribute(Pe,x.attributes[Pe])});var Me=x.children||[];return Me.forEach(function(Pe){ie.appendChild(Dr(Pe,{ceFn:Q}))}),ie}var Eo={replace:function(B){var z=B[0];if(z.parentNode)if(B[1].forEach(function(ie){z.parentNode.insertBefore(Dr(ie),z)}),null===z.getAttribute(at)&&Mt.keepOriginalSource){var Q=ft.createComment(function na(x){var B=" ".concat(x.outerHTML," ");return"".concat(B,"Font Awesome fontawesome.com ")}(z));z.parentNode.replaceChild(Q,z)}else z.remove()},nest:function(B){var z=B[0],Q=B[1];if(~pe(z).indexOf(Mt.replacementClass))return Eo.replace(B);var ie=new RegExp("".concat(Mt.familyPrefix,"-.*"));if(delete Q[0].attributes.id,Q[0].attributes.class){var Me=Q[0].attributes.class.split(" ").reduce(function($e,gt){return gt===Mt.replacementClass||gt.match(ie)?$e.toSvg.push(gt):$e.toNode.push(gt),$e},{toNode:[],toSvg:[]});Q[0].attributes.class=Me.toSvg.join(" "),0===Me.toNode.length?z.removeAttribute("class"):z.setAttribute("class",Me.toNode.join(" "))}var Pe=Q.map(function($e){return Ee($e)}).join("\n");z.setAttribute(at,""),z.innerHTML=Pe}};function ts(x){x()}function ur(x,B){var z="function"==typeof B?B:Oi;if(0===x.length)z();else{var Q=ts;"async"===Mt.mutateApproach&&(Q=$t.requestAnimationFrame||ts),Q(function(){var ie=function to(){return!0===Mt.autoReplaceSvg?Eo.replace:Eo[Mt.autoReplaceSvg]||Eo.replace}(),Me=es_begin("mutate");x.map(ie),Me(),z()})}}var Us=!1;function Cs(){Us=!0}function ki(){Us=!1}var N=null;function W(x){if(Fn&&Mt.observeMutations){var B=x.treeCallback,z=void 0===B?Oi:B,Q=x.nodeCallback,ie=void 0===Q?Oi:Q,Me=x.pseudoElementsCallback,Pe=void 0===Me?Oi:Me,$e=x.observeMutationsRoot,gt=void 0===$e?ft:$e;N=new Fn(function(vn){if(!Us){var dn=Di();we(vn).forEach(function(bn){if("childList"===bn.type&&bn.addedNodes.length>0&&!nr(bn.addedNodes[0])&&(Mt.searchPseudoElements&&Pe(bn.target),z(bn.target)),"attributes"===bn.type&&bn.target.parentNode&&Mt.searchPseudoElements&&Pe(bn.target.parentNode),"attributes"===bn.type&&nr(bn.target)&&~Pn.indexOf(bn.attributeName))if("class"===bn.attributeName&&function ho(x){var B=x.getAttribute?x.getAttribute(Lt):null,z=x.getAttribute?x.getAttribute(pn):null;return B&&z}(bn.target)){var kn=Ti(pe(bn.target)),Kn=kn.iconName;bn.target.setAttribute(Lt,kn.prefix||dn),Kn&&bn.target.setAttribute(pn,Kn)}else(function eo(x){return x&&x.classList&&x.classList.contains&&x.classList.contains(Mt.replacementClass)})(bn.target)&&ie(bn.target)})}}),xn&&N.observe(gt,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function J(x){var B=x.getAttribute("style"),z=[];return B&&(z=B.split(";").reduce(function(Q,ie){var Me=ie.split(":"),Pe=Me[0],$e=Me.slice(1);return Pe&&$e.length>0&&(Q[Pe]=$e.join(":").trim()),Q},{})),z}function xe(x){var B=x.getAttribute("data-prefix"),z=x.getAttribute("data-icon"),Q=void 0!==x.innerText?x.innerText.trim():"",ie=Ti(pe(x));return ie.prefix||(ie.prefix=Di()),B&&z&&(ie.prefix=B,ie.iconName=z),ie.iconName&&ie.prefix||(ie.prefix&&Q.length>0&&(ie.iconName=function Wr(x,B){return(_r[x]||{})[B]}(ie.prefix,x.innerText)||Ur(ie.prefix,wn(x.innerText))),!ie.iconName&&Mt.autoFetchSvg&&x.firstChild&&x.firstChild.nodeType===Node.TEXT_NODE&&(ie.iconName=x.firstChild.data)),ie}function Xe(x){var B=we(x.attributes).reduce(function(ie,Me){return"class"!==ie.name&&"style"!==ie.name&&(ie[Me.name]=Me.value),ie},{}),z=x.getAttribute("title"),Q=x.getAttribute("data-fa-title-id");return Mt.autoA11y&&(z?B["aria-labelledby"]="".concat(Mt.replacementClass,"-title-").concat(Q||de()):(B["aria-hidden"]="true",B.focusable="false")),B}function yt(x){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},z=xe(x),Q=z.iconName,ie=z.prefix,Me=z.rest,Pe=Xe(x),$e=Ci("parseNodeAttributes",{},x),gt=B.styleParser?J(x):[];return V({iconName:Q,title:x.getAttribute("title"),titleId:x.getAttribute("data-fa-title-id"),prefix:ie,transform:gn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:Me,styles:gt,attributes:Pe}},$e)}var Pr=nt.styles;function Tr(x){var B="nest"===Mt.autoReplaceSvg?yt(x,{styleParser:!1}):yt(x);return~B.extra.classes.indexOf($n)?ke("generateLayersText",x,B):ke("generateSvgReplacementMutation",x,B)}function Hr(x){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!xn)return Promise.resolve();var z=ft.documentElement.classList,Q=function(bn){return z.add("".concat(an,"-").concat(bn))},ie=function(bn){return z.remove("".concat(an,"-").concat(bn))},Me=Object.keys(Mt.autoFetchSvg?_n:Pr);Me.includes("fa")||Me.push("fa");var Pe=[".".concat($n,":not([").concat(at,"])")].concat(Me.map(function(dn){return".".concat(dn,":not([").concat(at,"])")})).join(", ");if(0===Pe.length)return Promise.resolve();var $e=[];try{$e=we(x.querySelectorAll(Pe))}catch{}if(!($e.length>0))return Promise.resolve();Q("pending"),ie("complete");var gt=es_begin("onTree"),vn=$e.reduce(function(dn,bn){try{var kn=Tr(bn);kn&&dn.push(kn)}catch(Yn){br||"MissingIcon"===Yn.name&&console.error(Yn)}return dn},[]);return new Promise(function(dn,bn){Promise.all(vn).then(function(kn){ur(kn,function(){Q("active"),Q("complete"),ie("pending"),"function"==typeof B&&B(),gt(),dn()})}).catch(function(kn){gt(),bn(kn)})})}function Gn(x){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Tr(x).then(function(z){z&&ur([z],B)})}var wr=function(B){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=z.transform,ie=void 0===Q?gn:Q,Me=z.symbol,Pe=void 0!==Me&&Me,$e=z.mask,gt=void 0===$e?null:$e,vn=z.maskId,dn=void 0===vn?null:vn,bn=z.title,kn=void 0===bn?null:bn,Yn=z.titleId,Kn=void 0===Yn?null:Yn,Kr=z.classes,ci=void 0===Kr?[]:Kr,di=z.attributes,qr=void 0===di?{}:di,pr=z.styles,Wi=void 0===pr?{}:pr;if(B){var ns=B.prefix,cn=B.iconName,In=B.icon;return li(V({type:"icon"},B),function(){return Re("beforeDOMElementCreation",{iconDefinition:B,params:z}),Mt.autoA11y&&(kn?qr["aria-labelledby"]="".concat(Mt.replacementClass,"-title-").concat(Kn||de()):(qr["aria-hidden"]="true",qr.focusable="false")),Qi({icons:{main:Si(In),mask:gt?Si(gt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ns,iconName:cn,transform:V(V({},gn),ie),symbol:Pe,title:kn,maskId:dn,titleId:Kn,extra:{attributes:qr,styles:Wi,classes:ci}})})}},Ar={mixout:function(){return{icon:(x=wr,function(B){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=(B||{}).icon?B:qe(B||{}),ie=z.mask;return ie&&(ie=(ie||{}).icon?ie:qe(ie||{})),x(Q,V(V({},z),{},{mask:ie}))})};var x},hooks:function(){return{mutationObserverCallbacks:function(z){return z.treeCallback=Hr,z.nodeCallback=Gn,z}}},provides:function(B){B.i2svg=function(z){var Q=z.node,Me=z.callback;return Hr(void 0===Q?ft:Q,void 0===Me?function(){}:Me)},B.generateSvgReplacementMutation=function(z,Q){var ie=Q.iconName,Me=Q.title,Pe=Q.titleId,$e=Q.prefix,gt=Q.transform,vn=Q.symbol,dn=Q.mask,bn=Q.maskId,kn=Q.extra;return new Promise(function(Yn,Kn){Promise.all([lo(ie,$e),dn.iconName?lo(dn.iconName,dn.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Kr){var ci=ce(Kr,2);Yn([z,Qi({icons:{main:ci[0],mask:ci[1]},prefix:$e,iconName:ie,transform:gt,symbol:vn,maskId:bn,title:Me,titleId:Pe,extra:kn,watchable:!0})])}).catch(Kn)})},B.generateAbstractIcon=function(z){var vn,Q=z.children,ie=z.attributes,Me=z.main,Pe=z.transform,gt=nn(z.styles);return gt.length>0&&(ie.style=gt),zn(Pe)&&(vn=ke("generateAbstractTransformGrouping",{main:Me,transform:Pe,containerWidth:Me.width,iconWidth:Me.width})),Q.push(vn||Me.icon),{children:Q,attributes:ie}}}},Xr={mixout:function(){return{layer:function(z){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=Q.classes,Me=void 0===ie?[]:ie;return li({type:"layer"},function(){Re("beforeDOMElementCreation",{assembler:z,params:Q});var Pe=[];return z(function($e){Array.isArray($e)?$e.map(function(gt){Pe=Pe.concat(gt.abstract)}):Pe=Pe.concat($e.abstract)}),[{tag:"span",attributes:{class:["".concat(Mt.familyPrefix,"-layers")].concat(Ve(Me)).join(" ")},children:Pe}]})}}}},ut={mixout:function(){return{counter:function(z){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=Q.title,Me=void 0===ie?null:ie,Pe=Q.classes,$e=void 0===Pe?[]:Pe,gt=Q.attributes,vn=void 0===gt?{}:gt,dn=Q.styles,bn=void 0===dn?{}:dn;return li({type:"counter",content:z},function(){return Re("beforeDOMElementCreation",{content:z,params:Q}),Gs({content:z.toString(),title:Me,extra:{attributes:vn,styles:bn,classes:["".concat(Mt.familyPrefix,"-layers-counter")].concat(Ve($e))}})})}}}},Wn={mixout:function(){return{text:function(z){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=Q.transform,Me=void 0===ie?gn:ie,Pe=Q.title,$e=void 0===Pe?null:Pe,gt=Q.classes,vn=void 0===gt?[]:gt,dn=Q.attributes,bn=void 0===dn?{}:dn,kn=Q.styles,Yn=void 0===kn?{}:kn;return li({type:"text",content:z},function(){return Re("beforeDOMElementCreation",{content:z,params:Q}),Ji({content:z,transform:V(V({},gn),Me),title:$e,extra:{attributes:bn,styles:Yn,classes:["".concat(Mt.familyPrefix,"-layers-text")].concat(Ve(vn))}})})}}},provides:function(B){B.generateLayersText=function(z,Q){var ie=Q.title,Me=Q.transform,Pe=Q.extra,$e=null,gt=null;if(Ln){var vn=parseInt(getComputedStyle(z).fontSize,10),dn=z.getBoundingClientRect();$e=dn.width/vn,gt=dn.height/vn}return Mt.autoA11y&&!ie&&(Pe.attributes["aria-hidden"]="true"),Promise.resolve([z,Ji({content:z.innerHTML,width:$e,height:gt,transform:Me,title:ie,extra:Pe,watchable:!0})])}}},Fi=new RegExp('"',"ug"),vi=[1105920,1112319];function Ks(x,B){var z="".concat("data-fa-pseudo-element-pending").concat(B.replace(":","-"));return new Promise(function(Q,ie){if(null!==x.getAttribute(z))return Q();var Pe=we(x.children).filter(function(cn){return cn.getAttribute(Ue)===B})[0],$e=$t.getComputedStyle(x,B),gt=$e.getPropertyValue("font-family").match(Bn),vn=$e.getPropertyValue("font-weight"),dn=$e.getPropertyValue("content");if(Pe&&!gt)return x.removeChild(Pe),Q();if(gt&&"none"!==dn&&""!==dn){var bn=$e.getPropertyValue("content"),kn=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(gt[2])?mt[gt[2].toLowerCase()]:$r[vn],Yn=function xr(x){var B=x.replace(Fi,""),z=function os(x,B){var ie,z=x.length,Q=x.charCodeAt(B);return Q>=55296&&Q<=56319&&z>B+1&&(ie=x.charCodeAt(B+1))>=56320&&ie<=57343?1024*(Q-55296)+ie-56320+65536:Q}(B,0),Q=z>=vi[0]&&z<=vi[1],ie=2===B.length&&B[0]===B[1];return{value:wn(ie?B[0]:B),isSecondary:Q||ie}}(bn),Kn=Yn.value,Kr=Yn.isSecondary,ci=gt[0].startsWith("FontAwesome"),di=Ur(kn,Kn),qr=di;if(ci){var pr=function si(x){var B=us[x],z=Ur("fas",x);return B||(z?{prefix:"fas",iconName:z}:null)||{prefix:null,iconName:null}}(Kn);pr.iconName&&pr.prefix&&(di=pr.iconName,kn=pr.prefix)}if(!di||Kr||Pe&&Pe.getAttribute(Lt)===kn&&Pe.getAttribute(pn)===qr)Q();else{x.setAttribute(z,qr),Pe&&x.removeChild(Pe);var Wi=function It(){return{iconName:null,title:null,titleId:null,prefix:null,transform:gn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),ns=Wi.extra;ns.attributes[Ue]=B,lo(di,kn).then(function(cn){var In=Qi(V(V({},Wi),{},{icons:{main:cn,mask:{prefix:null,iconName:null,rest:[]}},prefix:kn,iconName:qr,extra:ns,watchable:!0})),Mn=ft.createElement("svg");"::before"===B?x.insertBefore(Mn,x.firstChild):x.appendChild(Mn),Mn.outerHTML=In.map(function(Jn){return Ee(Jn)}).join("\n"),x.removeAttribute(z),Q()}).catch(ie)}}else Q()})}function qs(x){return Promise.all([Ks(x,"::before"),Ks(x,"::after")])}function vs(x){return!(x.parentNode===document.head||~sr.indexOf(x.tagName.toUpperCase())||x.getAttribute(Ue)||x.parentNode&&"svg"===x.parentNode.tagName)}function no(x){if(xn)return new Promise(function(B,z){var Q=we(x.querySelectorAll("*")).filter(vs).map(qs),ie=es_begin("searchPseudoElements");Cs(),Promise.all(Q).then(function(){ie(),ki(),B()}).catch(function(){ie(),ki(),z()})})}var ds=!1,jo=function(B){return B.toLowerCase().split(" ").reduce(function(Q,ie){var Me=ie.toLowerCase().split("-"),Pe=Me[0],$e=Me.slice(1).join("-");if(Pe&&"h"===$e)return Q.flipX=!0,Q;if(Pe&&"v"===$e)return Q.flipY=!0,Q;if($e=parseFloat($e),isNaN($e))return Q;switch(Pe){case"grow":Q.size=Q.size+$e;break;case"shrink":Q.size=Q.size-$e;break;case"left":Q.x=Q.x-$e;break;case"right":Q.x=Q.x+$e;break;case"up":Q.y=Q.y-$e;break;case"down":Q.y=Q.y+$e;break;case"rotate":Q.rotate=Q.rotate+$e}return Q},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ei={x:0,y:0,width:"100%",height:"100%"};function Ss(x){var B=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return x.attributes&&(x.attributes.fill||B)&&(x.attributes.fill="black"),x}!function Is(x,B){var z=B.mixoutsTo;cs=x,Rs={},Object.keys(oi).forEach(function(Q){-1===Po.indexOf(Q)&&delete oi[Q]}),cs.forEach(function(Q){var ie=Q.mixout?Q.mixout():{};if(Object.keys(ie).forEach(function(Pe){"function"==typeof ie[Pe]&&(z[Pe]=ie[Pe]),"object"===ye(ie[Pe])&&Object.keys(ie[Pe]).forEach(function($e){z[Pe]||(z[Pe]={}),z[Pe][$e]=ie[Pe][$e]})}),Q.hooks){var Me=Q.hooks();Object.keys(Me).forEach(function(Pe){Rs[Pe]||(Rs[Pe]=[]),Rs[Pe].push(Me[Pe])})}Q.provides&&Q.provides(oi)})}([At,Ar,Xr,ut,Wn,{hooks:function(){return{mutationObserverCallbacks:function(z){return z.pseudoElementsCallback=no,z}}},provides:function(B){B.pseudoElements2svg=function(z){var Q=z.node;Mt.searchPseudoElements&&no(void 0===Q?ft:Q)}}},{mixout:function(){return{dom:{unwatch:function(){Cs(),ds=!0}}}},hooks:function(){return{bootstrap:function(){W(Ci("mutationObserverCallbacks",{}))},noAuto:function(){!function R(){!N||N.disconnect()}()},watch:function(z){var Q=z.observeMutationsRoot;ds?ki():W(Ci("mutationObserverCallbacks",{observeMutationsRoot:Q}))}}}},{mixout:function(){return{parse:{transform:function(z){return jo(z)}}}},hooks:function(){return{parseNodeAttributes:function(z,Q){var ie=Q.getAttribute("data-fa-transform");return ie&&(z.transform=jo(ie)),z}}},provides:function(B){B.generateAbstractTransformGrouping=function(z){var Q=z.main,ie=z.transform,Pe=z.iconWidth,$e={transform:"translate(".concat(z.containerWidth/2," 256)")},gt="translate(".concat(32*ie.x,", ").concat(32*ie.y,") "),vn="scale(".concat(ie.size/16*(ie.flipX?-1:1),", ").concat(ie.size/16*(ie.flipY?-1:1),") "),dn="rotate(".concat(ie.rotate," 0 0)"),Yn={outer:$e,inner:{transform:"".concat(gt," ").concat(vn," ").concat(dn)},path:{transform:"translate(".concat(Pe/2*-1," -256)")}};return{tag:"g",attributes:V({},Yn.outer),children:[{tag:"g",attributes:V({},Yn.inner),children:[{tag:Q.icon.tag,children:Q.icon.children,attributes:V(V({},Q.icon.attributes),Yn.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(z,Q){var ie=Q.getAttribute("data-fa-mask"),Me=ie?Ti(ie.split(" ").map(function(Pe){return Pe.trim()})):{prefix:null,iconName:null,rest:[]};return Me.prefix||(Me.prefix=Di()),z.mask=Me,z.maskId=Q.getAttribute("data-fa-mask-id"),z}}},provides:function(B){B.generateAbstractMask=function(z){var x,Q=z.children,ie=z.attributes,Me=z.main,Pe=z.mask,$e=z.maskId,dn=Me.icon,kn=Pe.icon,Yn=function Qn(x){var B=x.transform,Q=x.iconWidth,ie={transform:"translate(".concat(x.containerWidth/2," 256)")},Me="translate(".concat(32*B.x,", ").concat(32*B.y,") "),Pe="scale(".concat(B.size/16*(B.flipX?-1:1),", ").concat(B.size/16*(B.flipY?-1:1),") "),$e="rotate(".concat(B.rotate," 0 0)");return{outer:ie,inner:{transform:"".concat(Me," ").concat(Pe," ").concat($e)},path:{transform:"translate(".concat(Q/2*-1," -256)")}}}({transform:z.transform,containerWidth:Pe.width,iconWidth:Me.width}),Kn={tag:"rect",attributes:V(V({},ei),{},{fill:"white"})},Kr=dn.children?{children:dn.children.map(Ss)}:{},ci={tag:"g",attributes:V({},Yn.inner),children:[Ss(V({tag:dn.tag,attributes:V(V({},dn.attributes),Yn.path)},Kr))]},di={tag:"g",attributes:V({},Yn.outer),children:[ci]},qr="mask-".concat($e||de()),pr="clip-".concat($e||de()),Wi={tag:"mask",attributes:V(V({},ei),{},{id:qr,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Kn,di]},ns={tag:"defs",children:[{tag:"clipPath",attributes:{id:pr},children:(x=kn,"g"===x.tag?x.children:[x])},Wi]};return Q.push(ns,{tag:"rect",attributes:V({fill:"currentColor","clip-path":"url(#".concat(pr,")"),mask:"url(#".concat(qr,")")},ei)}),{children:Q,attributes:ie}}}},{provides:function(B){var z=!1;$t.matchMedia&&(z=$t.matchMedia("(prefers-reduced-motion: reduce)").matches),B.missingIconAbstract=function(){var Q=[],ie={fill:"currentColor"},Me={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};Q.push({tag:"path",attributes:V(V({},ie),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var Pe=V(V({},Me),{},{attributeName:"opacity"}),$e={tag:"circle",attributes:V(V({},ie),{},{cx:"256",cy:"364",r:"28"}),children:[]};return z||$e.children.push({tag:"animate",attributes:V(V({},Me),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:V(V({},Pe),{},{values:"1;0;1;1;0;1;"})}),Q.push($e),Q.push({tag:"path",attributes:V(V({},ie),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:z?[]:[{tag:"animate",attributes:V(V({},Pe),{},{values:"1;0;0;0;0;1;"})}]}),z||Q.push({tag:"path",attributes:V(V({},ie),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:V(V({},Pe),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:Q}}}},{hooks:function(){return{parseNodeAttributes:function(z,Q){var ie=Q.getAttribute("data-fa-symbol");return z.symbol=null!==ie&&(""===ie||ie),z}}}}],{mixoutsTo:Sr});var ti=Sr.parse,To=Sr.icon,ro=U(1481);const ia=["*"],As=x=>{const B={"fa-spin":x.spin,"fa-pulse":x.pulse,"fa-fw":x.fixedWidth,"fa-border":x.border,"fa-inverse":x.inverse,"fa-layers-counter":x.counter,"fa-flip-horizontal":"horizontal"===x.flip||"both"===x.flip,"fa-flip-vertical":"vertical"===x.flip||"both"===x.flip,[`fa-${x.size}`]:null!==x.size,[`fa-rotate-${x.rotate}`]:null!==x.rotate,[`fa-pull-${x.pull}`]:null!==x.pull,[`fa-stack-${x.stackItemSize}`]:null!=x.stackItemSize};return Object.keys(B).map(z=>B[z]?z:null).filter(z=>z)};let Br=(()=>{class x{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return x.\u0275fac=function(z){return new(z||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),$=(()=>{class x{constructor(){this.definitions={}}addIcons(...z){for(const Q of z){Q.prefix in this.definitions||(this.definitions[Q.prefix]={}),this.definitions[Q.prefix][Q.iconName]=Q;for(const ie of Q.icon[2])"string"==typeof ie&&(this.definitions[Q.prefix][ie]=Q)}}addIconPacks(...z){for(const Q of z){const ie=Object.keys(Q).map(Me=>Q[Me]);this.addIcons(...ie)}}getIconDefinition(z,Q){return z in this.definitions&&Q in this.definitions[z]?this.definitions[z][Q]:null}}return x.\u0275fac=function(z){return new(z||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),v=(()=>{class x{constructor(){this.stackItemSize="1x"}ngOnChanges(z){if("size"in z)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return x.\u0275fac=function(z){return new(z||x)},x.\u0275dir=g.lG2({type:x,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[g.TTD]}),x})(),w=(()=>{class x{constructor(z,Q){this.renderer=z,this.elementRef=Q}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(z){"size"in z&&(null!=z.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${z.size.currentValue}`),null!=z.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${z.size.previousValue}`))}}return x.\u0275fac=function(z){return new(z||x)(g.Y36(g.Qsj),g.Y36(g.SBq))},x.\u0275cmp=g.Xpm({type:x,selectors:[["fa-stack"]],inputs:{size:"size"},features:[g.TTD],ngContentSelectors:ia,decls:1,vars:0,template:function(z,Q){1&z&&(g.F$t(),g.Hsn(0))},encapsulation:2}),x})(),M=(()=>{class x{constructor(z,Q,ie,Me,Pe){this.sanitizer=z,this.config=Q,this.iconLibrary=ie,this.stackItem=Me,this.classes=[],null!=Pe&&null==Me&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(z){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let Q=null;if(Q=this.icon??this.config.fallbackIcon,z){const ie=this.findIconDefinition(Q);if(null!=ie){const Me=this.buildParams();this.renderIcon(ie,Me)}}}render(){this.ngOnChanges({})}findIconDefinition(z){const Q=((x,B)=>(x=>void 0!==x.prefix&&void 0!==x.iconName)(x)?x:Array.isArray(x)&&2===x.length?{prefix:x[0],iconName:x[1]}:"string"==typeof x?{prefix:B,iconName:x}:void 0)(z,this.config.defaultPrefix);return"icon"in Q?Q:this.iconLibrary.getIconDefinition(Q.prefix,Q.iconName)??((x=>{throw new Error(`Could not find icon with iconName=${x.iconName} and prefix=${x.prefix} in the icon library.`)})(Q),null)}buildParams(){const z={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},Q="string"==typeof this.transform?ti.transform(this.transform):this.transform;return{title:this.title,transform:Q,classes:[...As(z),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(z,Q){const ie=To(z,Q);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(ie.html.join("\n"))}}return x.\u0275fac=function(z){return new(z||x)(g.Y36(ro.H7),g.Y36(Br),g.Y36($),g.Y36(v,8),g.Y36(w,8))},x.\u0275cmp=g.Xpm({type:x,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(z,Q){2&z&&(g.Ikx("innerHTML",Q.renderedIconHTML,g.oJD),g.uIk("title",Q.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[g.TTD],decls:0,vars:0,template:function(z,Q){},encapsulation:2}),x})(),pt=(()=>{class x{}return x.\u0275fac=function(z){return new(z||x)},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({}),x})()},8766:(Kt,Ge,U)=>{U.d(Ge,{Lj:()=>vt,X3:()=>en});var g=U(5861);let V,ye;const fe=new WeakMap,ee=new WeakMap,le=new WeakMap,X=new WeakMap,se=new WeakMap;let He={get(ze,ot,Vt){if(ze instanceof IDBTransaction){if("done"===ot)return ee.get(ze);if("objectStoreNames"===ot)return ze.objectStoreNames||le.get(ze);if("store"===ot)return Vt.objectStoreNames[1]?void 0:Vt.objectStore(Vt.objectStoreNames[0])}return Fe(ze[ot])},set:(ze,ot,Vt)=>(ze[ot]=Vt,!0),has:(ze,ot)=>ze instanceof IDBTransaction&&("done"===ot||"store"===ot)||ot in ze};function oe(ze){return"function"==typeof ze?function et(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...ot){return ze.apply(Ft(this),ot),Fe(fe.get(this))}:function(...ot){return Fe(ze.apply(Ft(this),ot))}:function(ot,...Vt){const Nt=ze.call(Ft(this),ot,...Vt);return le.set(Nt,ot.sort?ot.sort():[ot]),Fe(Nt)}}(ze):(ze instanceof IDBTransaction&&function Ve(ze){if(ee.has(ze))return;const ot=new Promise((Vt,Nt)=>{const $t=()=>{ze.removeEventListener("complete",ft),ze.removeEventListener("error",Fn),ze.removeEventListener("abort",Fn)},ft=()=>{Vt(),$t()},Fn=()=>{Nt(ze.error||new DOMException("AbortError","AbortError")),$t()};ze.addEventListener("complete",ft),ze.addEventListener("error",Fn),ze.addEventListener("abort",Fn)});ee.set(ze,ot)}(ze),((ze,ot)=>ot.some(Vt=>ze instanceof Vt))(ze,function me(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,He):ze)}function Fe(ze){if(ze instanceof IDBRequest)return function ce(ze){const ot=new Promise((Vt,Nt)=>{const $t=()=>{ze.removeEventListener("success",ft),ze.removeEventListener("error",Fn)},ft=()=>{Vt(Fe(ze.result)),$t()},Fn=()=>{Nt(ze.error),$t()};ze.addEventListener("success",ft),ze.addEventListener("error",Fn)});return ot.then(Vt=>{Vt instanceof IDBCursor&&fe.set(Vt,ze)}).catch(()=>{}),se.set(ot,ze),ot}(ze);if(X.has(ze))return X.get(ze);const ot=oe(ze);return ot!==ze&&(X.set(ze,ot),se.set(ot,ze)),ot}const Ft=ze=>se.get(ze);function en(ze,ot,{blocked:Vt,upgrade:Nt,blocking:$t,terminated:ft}={}){const Fn=indexedDB.open(ze,ot),mr=Fe(Fn);return Nt&&Fn.addEventListener("upgradeneeded",Mr=>{Nt(Fe(Fn.result),Mr.oldVersion,Mr.newVersion,Fe(Fn.transaction))}),Vt&&Fn.addEventListener("blocked",()=>Vt()),mr.then(Mr=>{ft&&Mr.addEventListener("close",()=>ft()),$t&&Mr.addEventListener("versionchange",()=>$t())}).catch(()=>{}),mr}function vt(ze,{blocked:ot}={}){const Vt=indexedDB.deleteDatabase(ze);return ot&&Vt.addEventListener("blocked",()=>ot()),Fe(Vt).then(()=>{})}const ct=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],bt=new Map;function sn(ze,ot){if(!(ze instanceof IDBDatabase)||ot in ze||"string"!=typeof ot)return;if(bt.get(ot))return bt.get(ot);const Vt=ot.replace(/FromIndex$/,""),Nt=ot!==Vt,$t=Pt.includes(Vt);if(!(Vt in(Nt?IDBIndex:IDBObjectStore).prototype)||!$t&&!ct.includes(Vt))return;const ft=function(){var Fn=(0,g.Z)(function*(mr,...Mr){const xn=this.transaction(mr,$t?"readwrite":"readonly");let Ln=xn.store;return Nt&&(Ln=Ln.index(Mr.shift())),(yield Promise.all([Ln[Vt](...Mr),$t&&xn.done]))[0]});return function(Mr){return Fn.apply(this,arguments)}}();return bt.set(ot,ft),ft}!function Ze(ze){He=ze(He)}(ze=>({...ze,get:(ot,Vt,Nt)=>sn(ot,Vt)||ze.get(ot,Vt,Nt),has:(ot,Vt)=>!!sn(ot,Vt)||ze.has(ot,Vt)}))},7185:(Kt,Ge,U)=>{U.d(Ge,{Rh:()=>xn,_W:()=>Fn});var g=U(4650),F=U(7340),V=U(8929),ye=U(6895),me=U(1481);const ne=["toast-component",""];function fe(wt,at){if(1&wt){const Ue=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){g.CHM(Ue);const Lt=g.oxw();return g.KtG(Lt.remove())}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA()()}}function ee(wt,at){if(1&wt&&(g.ynx(0),g._uU(1),g.BQk()),2&wt){const Ue=g.oxw(2);g.xp6(1),g.hij("[",Ue.duplicatesCount+1,"]")}}function le(wt,at){if(1&wt&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,ee,2,1,"ng-container",4),g.qZA()),2&wt){const Ue=g.oxw();g.Tol(Ue.options.titleClass),g.uIk("aria-label",Ue.title),g.xp6(1),g.hij(" ",Ue.title," "),g.xp6(1),g.Q6J("ngIf",Ue.duplicatesCount)}}function X(wt,at){if(1&wt&&g._UZ(0,"div",7),2&wt){const Ue=g.oxw();g.Tol(Ue.options.messageClass),g.Q6J("innerHTML",Ue.message,g.oJD)}}function se(wt,at){if(1&wt&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&wt){const Ue=g.oxw();g.Tol(Ue.options.messageClass),g.uIk("aria-label",Ue.message),g.xp6(1),g.hij(" ",Ue.message," ")}}function ce(wt,at){if(1&wt&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&wt){const Ue=g.oxw();g.xp6(1),g.Udp("width",Ue.width+"%")}}class vt{constructor(at,Ue){this.component=at,this.injector=Ue}attach(at,Ue){return this._attachedHost=at,at.attach(this,Ue)}detach(){const at=this._attachedHost;if(at)return this._attachedHost=void 0,at.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(at){this._attachedHost=at}}class Pt{constructor(at,Ue,Ke,Lt,pn,an){this.toastId=at,this.config=Ue,this.message=Ke,this.title=Lt,this.toastType=pn,this.toastRef=an,this._onTap=new V.xQ,this._onAction=new V.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(at){this._onAction.next(at)}onAction(){return this._onAction.asObservable()}}const sn=new g.OlP("ToastConfig");class ze{constructor(at){this._overlayRef=at,this.duplicatesCount=0,this._afterClosed=new V.xQ,this._activate=new V.xQ,this._manualClose=new V.xQ,this._resetTimeout=new V.xQ,this._countDuplicate=new V.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(at,Ue){at&&this._resetTimeout.next(),Ue&&this._countDuplicate.next(++this.duplicatesCount)}}class ot{constructor(at,Ue){this._toastPackage=at,this._parentInjector=Ue}get(at,Ue,Ke){return at===Pt?this._toastPackage:this._parentInjector.get(at,Ue,Ke)}}class Vt extends class ct{attach(at,Ue){return this._attachedPortal=at,this.attachComponentPortal(at,Ue)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(at){this._disposeFn=at}}{constructor(at,Ue,Ke){super(),this._hostDomElement=at,this._componentFactoryResolver=Ue,this._appRef=Ke}attachComponentPortal(at,Ue){const Ke=this._componentFactoryResolver.resolveComponentFactory(at.component);let Lt;return Lt=Ke.create(at.injector),this._appRef.attachView(Lt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Lt.hostView),Lt.destroy()}),Ue?this._hostDomElement.insertBefore(this._getComponentRootNode(Lt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Lt)),Lt}_getComponentRootNode(at){return at.hostView.rootNodes[0]}}class Nt{constructor(at){this._portalHost=at}attach(at,Ue=!0){return this._portalHost.attach(at,Ue)}detach(){return this._portalHost.detach()}}let $t=(()=>{class wt{constructor(Ue){this._document=Ue}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ue=this._document.createElement("div");Ue.classList.add("overlay-container"),Ue.setAttribute("aria-live","polite"),this._document.body.appendChild(Ue),this._containerElement=Ue}}return wt.\u0275fac=function(Ue){return new(Ue||wt)(g.LFG(ye.K0))},wt.\u0275prov=g.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),ft=(()=>{class wt{constructor(Ue,Ke,Lt,pn){this._overlayContainer=Ue,this._componentFactoryResolver=Ke,this._appRef=Lt,this._document=pn,this._paneElements=new Map}create(Ue,Ke){return this._createOverlayRef(this.getPaneElement(Ue,Ke))}getPaneElement(Ue="",Ke){return this._paneElements.get(Ke)||this._paneElements.set(Ke,{}),this._paneElements.get(Ke)[Ue]||(this._paneElements.get(Ke)[Ue]=this._createPaneElement(Ue,Ke)),this._paneElements.get(Ke)[Ue]}_createPaneElement(Ue,Ke){const Lt=this._document.createElement("div");return Lt.id="toast-container",Lt.classList.add(Ue),Lt.classList.add("toast-container"),Ke?Ke.getContainerElement().appendChild(Lt):this._overlayContainer.getContainerElement().appendChild(Lt),Lt}_createPortalHost(Ue){return new Vt(Ue,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ue){return new Nt(this._createPortalHost(Ue))}}return wt.\u0275fac=function(Ue){return new(Ue||wt)(g.LFG($t),g.LFG(g._Vd),g.LFG(g.z2F),g.LFG(ye.K0))},wt.\u0275prov=g.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),Fn=(()=>{class wt{constructor(Ue,Ke,Lt,pn,an){this.overlay=Ke,this._injector=Lt,this.sanitizer=pn,this.ngZone=an,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Ue.default,...Ue.config},Ue.config.iconClasses&&(this.toastrConfig.iconClasses={...Ue.default.iconClasses,...Ue.config.iconClasses})}show(Ue,Ke,Lt={},pn=""){return this._preBuildNotification(pn,Ue,Ke,this.applyConfig(Lt))}success(Ue,Ke,Lt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ue,Ke,this.applyConfig(Lt))}error(Ue,Ke,Lt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ue,Ke,this.applyConfig(Lt))}info(Ue,Ke,Lt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ue,Ke,this.applyConfig(Lt))}warning(Ue,Ke,Lt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ue,Ke,this.applyConfig(Lt))}clear(Ue){for(const Ke of this.toasts)if(void 0!==Ue){if(Ke.toastId===Ue)return void Ke.toastRef.manualClose()}else Ke.toastRef.manualClose()}remove(Ue){const Ke=this._findToast(Ue);if(!Ke||(Ke.activeToast.toastRef.close(),this.toasts.splice(Ke.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Lt=this.toasts[this.currentlyActive].toastRef;Lt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Lt.activate())}return!0}findDuplicate(Ue="",Ke="",Lt,pn){const{includeTitleDuplicates:an}=this.toastrConfig;for(const Cn of this.toasts){const sr=an&&Cn.title===Ue;if((!an||sr)&&Cn.message===Ke)return Cn.toastRef.onDuplicate(Lt,pn),Cn}return null}applyConfig(Ue={}){return{...this.toastrConfig,...Ue}}_findToast(Ue){for(let Ke=0;Ke<this.toasts.length;Ke++)if(this.toasts[Ke].toastId===Ue)return{index:Ke,activeToast:this.toasts[Ke]};return null}_preBuildNotification(Ue,Ke,Lt,pn){return pn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ue,Ke,Lt,pn)):this._buildNotification(Ue,Ke,Lt,pn)}_buildNotification(Ue,Ke,Lt,pn){if(!pn.toastComponent)throw new Error("toastComponent required");const an=this.findDuplicate(Lt,Ke,this.toastrConfig.resetTimeoutOnDuplicate&&pn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Lt||Ke)&&this.toastrConfig.preventDuplicates&&null!==an)return an;this.previousToastMessage=Ke;let Cn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Cn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const sr=this.overlay.create(pn.positionClass,this.overlayContainer);this.index=this.index+1;let br=Ke;Ke&&pn.enableHtml&&(br=this.sanitizer.sanitize(g.q3G.HTML,Ke));const _n=new ze(sr),mt=new Pt(this.index,pn,br,Lt,Ue,_n),er=new ot(mt,this._injector),Qt=new vt(pn.toastComponent,er),qt=sr.attach(Qt,this.toastrConfig.newestOnTop);_n.componentInstance=qt.instance;const $n={toastId:this.index,title:Lt||"",message:Ke||"",toastRef:_n,onShown:_n.afterActivate(),onHidden:_n.afterClosed(),onTap:mt.onTap(),onAction:mt.onAction(),portal:qt};return Cn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{$n.toastRef.activate()})),this.toasts.push($n),$n}}return wt.\u0275fac=function(Ue){return new(Ue||wt)(g.LFG(sn),g.LFG(ft),g.LFG(g.zs3),g.LFG(me.H7),g.LFG(g.R0b))},wt.\u0275prov=g.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();const Mr={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class wt{constructor(Ue,Ke,Lt){this.toastrService=Ue,this.toastPackage=Ke,this.ngZone=Lt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(pn=>{this.duplicatesCount=pn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ue=(new Date).getTime();this.width=(this.hideTime-Ue)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ue,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ue),Ke)):this.timeout=setTimeout(()=>Ue(),Ke)}outsideInterval(Ue,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ue),Ke)):this.intervalId=setInterval(()=>Ue(),Ke)}runInsideAngular(Ue){this.ngZone?this.ngZone.run(()=>Ue()):Ue()}}return wt.\u0275fac=function(Ue){return new(Ue||wt)(g.Y36(Fn),g.Y36(Pt),g.Y36(g.R0b))},wt.\u0275cmp=g.Xpm({type:wt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ue,Ke){1&Ue&&g.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&Ue&&(g.d8E("@flyInOut",Ke.state),g.Tol(Ke.toastClasses),g.Udp("display",Ke.displayStyle))},attrs:ne,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ue,Ke){1&Ue&&(g.YNc(0,fe,3,0,"button",0),g.YNc(1,le,3,5,"div",1),g.YNc(2,X,1,3,"div",2),g.YNc(3,se,2,4,"div",3),g.YNc(4,ce,2,2,"div",4)),2&Ue&&(g.Q6J("ngIf",Ke.options.closeButton),g.xp6(1),g.Q6J("ngIf",Ke.title),g.xp6(1),g.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),g.xp6(1),g.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),g.xp6(1),g.Q6J("ngIf",Ke.options.progressBar))},dependencies:[ye.O5],encapsulation:2,data:{animation:[(0,F.X$)("flyInOut",[(0,F.SB)("inactive",(0,F.oB)({opacity:0})),(0,F.SB)("active",(0,F.oB)({opacity:1})),(0,F.SB)("removed",(0,F.oB)({opacity:0})),(0,F.eR)("inactive => active",(0,F.jt)("{{ easeTime }}ms {{ easing }}")),(0,F.eR)("active => removed",(0,F.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),wt})()};let xn=(()=>{class wt{static forRoot(Ue={}){return{ngModule:wt,providers:[{provide:sn,useValue:{default:Mr,config:Ue}}]}}}return wt.\u0275fac=function(Ue){return new(Ue||wt)},wt.\u0275mod=g.oAB({type:wt}),wt.\u0275inj=g.cJS({imports:[ye.ez]}),wt})()},5861:(Kt,Ge,U)=>{function g(V,ye,me,ne,fe,ee,le){try{var X=V[ee](le),se=X.value}catch(ce){return void me(ce)}X.done?ye(se):Promise.resolve(se).then(ne,fe)}function F(V){return function(){var ye=this,me=arguments;return new Promise(function(ne,fe){var ee=V.apply(ye,me);function le(se){g(ee,ne,fe,le,X,"next",se)}function X(se){g(ee,ne,fe,le,X,"throw",se)}le(void 0)})}}U.d(Ge,{Z:()=>F})}},Kt=>{Kt(Kt.s=2704)}]);